<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Product Engineer | John Renaldi</title>
  <meta name="description" content="The Product Engineer - Preparing McCormick students for the convergence of design, product, and engineering in the age of AI.">
  <meta property="og:title" content="The Product Engineer">
  <meta property="og:description" content="Preparing McCormick students for the convergence of design, product, and engineering in the age of AI.">
  <meta property="og:type" content="article">

  <!-- React production builds -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: system-ui, -apple-system, sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect, useRef, useCallback, useMemo } = React;

/**
 * Product Engineer Proposal - Single File Bundle
 * Generated: 2026-02-03T01:33:58.735Z
 *
 * This file is auto-generated. Do not edit directly.
 * To modify, edit the source files and run: node src/utils/build.js
 */

// ============================================================================
// CONTENT DATA
// ============================================================================

// Auto-generated from Product_Engineer_Proposal.md
// Generated: 2026-02-03T01:33:58.634Z
// Run: node src/utils/parser.js

const CONTENT = {
  "header": {
    "from": "John Renaldi",
    "fromEmail": "jrenaldi@northwestern.edu",
    "linkedin": "https://linkedin.com/in/jrenaldi",
    "github": "https://github.com/jrenaldi",
    "headshot": "https://media.licdn.com/dms/image/v2/D5603AQFUsK3qbahONA/profile-displayphoto-crop_800_800/B56ZrwKFmfLsAM-/0/1764965769267?e=1771459200&v=beta&t=MKHyOB7K-PZZdSc0xc2QDUYSMyM009nFvmZbiWoOz8I",
    "date": "February 2026",
    "title": "The Product Engineer",
    "subtitle": "Preparing McCormick students for the convergence of design, product, and engineering in the age of AI."
  },
  "stats": [
    {
      "value": "59%",
      "label": "Engineers Using AI Daily",
      "source": "up from 28% a year ago"
    },
    {
      "value": "50%",
      "label": "Productivity Gains",
      "source": "up from 20% the year before"
    },
    {
      "value": "90%",
      "label": "Code Written by AI",
      "source": "Claude Code's own codebase"
    },
    {
      "value": "10 days",
      "label": "To Ship New Products",
      "source": "Cowork built with AI tools"
    }
  ],
  "charts": [
    {
      "type": "hierarchy",
      "title": "The Skills Shift",
      "subtitle": "What matters now vs. what mattered before",
      "levels": [
        {
          "from": "Writing Code",
          "to": "Orchestrating Systems"
        },
        {
          "from": "Syntax",
          "to": "Judgment"
        },
        {
          "from": "Execution",
          "to": "Strategy"
        }
      ]
    }
  ],
  "convergence": {
    "position": "after",
    "roles": [
      {
        "from": "PMs",
        "to": "Engineering",
        "description": "Today, most PMs ship at least one pull request per month. At Anthropic, PMs ship features directly."
      },
      {
        "from": "Designers",
        "to": "Eng & PM",
        "description": "Designers no longer hand off static mockups. They prototype in production code."
      },
      {
        "from": "Engineers",
        "to": "Product",
        "description": "When implementation becomes easy, the valuable skill becomes knowing what to build."
      }
    ]
  },
  "quotes": [
    {
      "author": "Marty Cagan",
      "title": "Partner, SVPG",
      "cite": "25",
      "quote": "Anyone actively shaping the product and tackling the product risks is a product creator... With the rise of generative AI-based tools, strong designers and engineers are starting to play this role. This represents a fundamental shift.",
      "section": "triad"
    },
    {
      "author": "Satya Nadella",
      "title": "CEO, Microsoft",
      "cite": "10",
      "quote": "LinkedIn combined product manager, designer, frontend and backend engineer roles into a single 'full-stack builder' role.",
      "section": "triad"
    },
    {
      "author": "Guillermo Rauch",
      "title": "CEO, Vercel",
      "cite": "",
      "quote": "The best engineers are becoming product engineers. They don't just write code—they understand the customer, the market, and why this feature matters.",
      "section": "triad"
    },
    {
      "author": "Marty Cagan",
      "title": "Partner, SVPG",
      "cite": "26",
      "quote": "The little secret in product is that engineers are typically the best single source of innovation; yet, they are not even invited to the party in this process.",
      "section": "triad"
    },
    {
      "author": "Ethan Mollick",
      "title": "Wharton, Co-Intelligence",
      "cite": "7",
      "quote": "AI skills are basically the skills of good managers: delegation, clear explanations, getting a sense of individual strengths & weaknesses, division of labor, project management, clear feedback.",
      "section": "skills"
    },
    {
      "author": "Andrej Karpathy",
      "title": "OpenAI co-founder, former Tesla AI",
      "cite": "8",
      "quote": "I've never felt this much behind as a programmer. The profession is being dramatically refactored... There's a new programmable layer of abstraction to master involving agents, subagents, their prompts, contexts, memory, modes, permissions, tools, plugins, skills.",
      "section": "skills"
    },
    {
      "author": "Jensen Huang",
      "title": "NVIDIA CEO",
      "cite": "9",
      "quote": "There's a new programming language. It's called 'human.'",
      "section": "skills"
    },
    {
      "author": "Magdalena Balazinska",
      "title": "UW Allen School",
      "cite": "11",
      "quote": "Coding, or the translation of a precise design into software instructions, is dead. AI can do that.",
      "section": "skills"
    }
  ],
  "pullquotes": [
    {
      "author": "Jaana Dogan",
      "title": "Principal Engineer, Google",
      "quote": "I gave Claude Code a description of the problem, it generated what we built last year in an hour."
    },
    {
      "author": "Malte Ubl",
      "title": "CTO, Vercel",
      "quote": "The cost of software production is trending towards zero."
    },
    {
      "author": "",
      "title": "",
      "quote": "The shift is analogous to when CAD replaced drafting tables or when simulation replaced physical prototyping."
    }
  ],
  "cards": [
    {
      "type": "feature",
      "columns": 3,
      "section": "2",
      "cards": [
        {
          "icon": "zap",
          "title": "Revolutionize Methods",
          "audience": "",
          "content": "AI-augmented development is becoming the default method for how engineers work. This curriculum teaches those methods before they become table stakes."
        },
        {
          "icon": "graduation",
          "title": "Transform Education",
          "audience": "",
          "content": "\"Whole-brain\" engineering that pairs technical depth with innovation, design, and entrepreneurial thinking. Students become the bridge between lab and marketplace."
        },
        {
          "icon": "target",
          "title": "Advance Applications",
          "audience": "",
          "content": "AI is one of McCormick's four grand challenge focus areas. This curriculum advances AI as both method and application domain."
        }
      ]
    },
    {
      "type": "profile",
      "columns": 3,
      "section": "3",
      "cards": [
        {
          "icon": "briefcase",
          "title": "Executive Credibility",
          "audience": "",
          "content": "Someone who has led teams at scale across design, product, and engineering, and understands how decisions get made in large organizations.",
          "expandedContent": "Students need to learn not just how to build, but how to navigate the systems that ship products. An executive who has operated at scale understands the politics, the trade-offs, and the communication patterns that determine whether good ideas survive. This perspective can't be learned from textbooks; it comes from having made decisions that affected thousands of people and millions of dollars. **John:** VP/GM at Google and Motorola; led cross-functional teams across design, product, and engineering at scale."
        },
        {
          "icon": "code",
          "title": "Hands-on Builder",
          "audience": "",
          "content": "Not someone who \"used to code.\" Someone who builds production AI systems today.",
          "expandedContent": "The tools are changing too fast for secondhand knowledge. Students need an instructor who has shipped MCP servers, built agentic systems, and debugged LLM pipelines this month. When a student asks \"how do I handle context windows for long-running agents?\" the answer should come from direct experience, not documentation. The instructor should be able to pair-program with students and review their code at a technical level. **John:** Ships production AI systems daily; 16 GitHub repos; MCP servers published to npm."
        },
        {
          "icon": "rocket",
          "title": "Startup Experience",
          "audience": "",
          "content": "Someone who has founded a company, raised capital, and exited.",
          "expandedContent": "Entrepreneurship can't be taught from case studies alone. AI has collapsed the cost of building, but not the hard parts: figuring out what to build, finding customers who will pay, navigating ambiguity with limited resources. Founders learn these skills through survival. In an era where anyone can prompt an AI to generate code, the differentiating skills are exactly what founders develop: judgment about what's worth building, speed of iteration, and the ability to operate when the path is unclear. A founder who has exited brings the full lifecycle perspective, and the scar tissue that comes with it. **John:** Founded Jiobit → nine-figure exit to Life360 (NASDAQ: LIF)."
        },
        {
          "icon": "palette",
          "title": "Design Fluency",
          "audience": "",
          "content": "The instructor should have led UX and design teams, not just collaborated with them.",
          "expandedContent": "The Product Engineer role sits at the intersection of design, product, and engineering. They should understand what makes products feel right, not just function correctly. This means understanding user research methodologies, information architecture, interaction patterns, and visual design principles. When AI can generate functional code quickly, the human differentiator is taste: knowing what feels right and why. **John:** Led UX Research and UI/UX Design teams at Google; design-centric product leader at Motorola."
        },
        {
          "icon": "network",
          "title": "Industry Connectivity",
          "audience": "",
          "content": "Someone embedded in the startup and venture ecosystem who sees where the industry is heading before it becomes mainstream.",
          "expandedContent": "Curriculum needs to reflect what employers will want in 2-3 years, not what they wanted when the textbook was written. Industry connectivity also means access. The right instructor can bring their network directly into the classroom: founders who just raised Series A, CTOs navigating AI adoption at scale, VCs evaluating the next wave of startups. Guest speakers become mentors. Class discussions become recruiting conversations. The instructor's network becomes the students' network. This turns a course into a bridge between McCormick and the companies students want to join. **John:** Techstars Selection Committee; LP in 4 VC funds; 20+ angel investments."
        },
        {
          "icon": "graduation",
          "title": "Teaching Experience",
          "audience": "",
          "content": "Someone who has taught at the graduate level across engineering and business schools, and trained corporate teams from entry-level to executive.",
          "expandedContent": "Teaching is a skill that requires deliberate practice. Someone who has taught MBAs understands how to frame technical concepts for strategic decision-makers. Someone who has taught engineers understands how to maintain technical rigor. Someone who has trained corporate teams knows how to adapt content for different experience levels in the same room. This pedagogical range is essential for the Product Engineer curriculum. **John:** McCormick (MPD²), Kellogg (MMM), UIUC (Applied AI); corporate training from entry-level to executive."
        }
      ]
    },
    {
      "type": "topic",
      "columns": 3,
      "section": "4",
      "cards": [
        {
          "icon": "search",
          "title": "Discovery",
          "audience": "All engineering disciplines",
          "content": "Interview analysis, theme extraction, research synthesis. Turn qualitative research into quantitative datasets.",
          "expandedContent": "Traditional user research takes weeks: recruiting participants, scheduling interviews, transcribing conversations, coding themes. AI compresses this timeline while expanding depth. Students learn to use AI as a research amplifier: real-time transcription during interviews, theme extraction across dozens of transcripts, pattern recognition across disparate data sources. The goal isn't to replace human judgment but to multiply researcher capacity. An interview that once took days to analyze now yields insights in minutes. **What I Teach:** Interview analysis pipelines, theme extraction prompts, cross-source pattern matching, building research repositories that agents can query, integrating voice transcription into live research sessions. Replace intuition with data. Turn qualitative *Jobs to be Done (JTBD)* research into quantitative datasets. **Technologies:** Assembly AI, Whisper, LLM-based theme extraction, embedding-based similarity search, Python, Scikit-learn, Pandas, clustering algorithms"
        },
        {
          "icon": "palette",
          "title": "Generative Prototyping",
          "audience": "Product-focused engineers, designers",
          "content": "Synthetic users, rapid validation, LLM personas. Test positioning before writing code.",
          "expandedContent": "Turn requirements into testable artifacts quickly. Use AI tools to generate wireframes from rough sketches. Build **synthetic user personas** that simulate customer feedback, allowing students to test positioning and product concepts against LLM-generated personas before writing code. **What I Teach:** Building synthetic personas that model real customer segments. Rapid prototyping workflows that generate testable artifacts in hours, not weeks. Validation frameworks that surface weak assumptions early. **Technologies:** LLM foundational models (OpenAI, Anthropic, Gemini), image generation, prompt engineering"
        },
        {
          "icon": "compass",
          "title": "Product Management & Innovation",
          "audience": "MPD², MBAs, aspiring PMs",
          "content": "Strategy, roadmaps, prioritization. Know what to build and why it matters.",
          "expandedContent": "When AI makes building cheap, knowing *what* to build becomes the scarce skill. Product management is the discipline of translating user needs into roadmaps, aligning stakeholders, and shipping outcomes, not outputs. I teach this in MPD² today. **What I Teach:** • **Product Strategy:** Vision setting, competitive positioning, and the art of saying no. How to build products that matter, not features that ship. • **Innovation Frameworks:** Design thinking, Jobs to be Done (JTBD), lean startup methodology, and when to apply each. • **Prioritization:** RICE, MoSCoW, ICE scoring. Building roadmaps that balance user value, business impact, and technical feasibility. • **Stakeholder Management:** How to align engineering, design, sales, and executives around a shared vision. The politics of product. **Frameworks:** Design thinking, JTBD, Lean Startup, RICE/ICE prioritization, OKRs"
        },
        {
          "icon": "cpu",
          "title": "Agentic Systems",
          "audience": "CS, software engineers",
          "content": "MCP servers, multi-agent orchestration, evals. Build autonomous, goal-directed systems.",
          "expandedContent": "Move beyond chatbots to autonomous, goal-directed systems. Build servers that standardize agent connectivity. Design memory systems so agents maintain state across sessions. Shift from manual QA to **evals** that test AI outputs against safety and quality guardrails. **What I Teach:** MCP server architecture. Multi-agent coordination patterns. Building evaluation frameworks that test AI behavior against quality and safety criteria. Memory systems for stateful agents. **Technologies:** MCP servers, LangChain, ReAct frameworks, vector databases, RAG pipelines, multi-agent orchestration"
        },
        {
          "icon": "zap",
          "title": "Agentic Development",
          "audience": "Practicing engineers",
          "content": "Production workflows, debugging, cost management. From \"vibing\" to shipping real systems.",
          "expandedContent": "There's a gap between prompting ChatGPT and shipping production AI systems. Most tutorials stop at \"vibing,\" the casual, exploratory prompting that works in demos but fails in production. Students need to learn the harder parts: deterministic behavior, error handling, cost management, and integration with existing systems. **What I Teach:** • **Development Best Practices:** How to use tools like Claude Code, Cursor, and Windsurf effectively. Writing CLAUDE.md files and AGENTS.md specifications that give AI agents the context they need. • **Infrastructure Requirements:** Rate limiting, API gateway management, cost tracking, latency budgets. Building systems that gracefully degrade when AI services fail. • **Operational Changes:** How to review AI-generated code, when to trust agent outputs vs. verify them, how to debug systems where the logic is partially opaque. • **Agent Swarms & Orchestration:** Coordinating multiple specialized agents that divide work, share context, and merge results. **Technologies:** Claude Code, Cursor, Windsurf, API gateways, CI/CD integration"
        },
        {
          "icon": "layers",
          "title": "Context Engineering",
          "audience": "Advanced AI practitioners",
          "content": "RAG, memory systems, long-running agents. Manage what information agents access and when.",
          "expandedContent": "AI agents fail when they run out of context. A 200k token window sounds large until your agent needs to understand a codebase, remember a conversation history, and execute a multi-step plan at the same time. Context engineering is the discipline of managing what information agents have access to and when. **What I Teach:** • **Long-Running Systems:** Agents that operate over hours or days, not single-turn interactions. Session management, state persistence, and graceful recovery. • **Deep Agents:** Building agents that can explore complex domains: reading documentation, navigating codebases, researching across multiple sources. • **Context Window Management:** Summarization strategies, dynamic context loading, and RAG that pulls relevant information on demand. • **Tool Design for Context:** Building MCP servers and tool interfaces that provide rich context without overwhelming agents. **Technologies:** RAG architectures, context summarization, session state management, hierarchical prompt design"
        },
        {
          "icon": "database",
          "title": "AI Infrastructure",
          "audience": "Full-stack engineers",
          "content": "Deployment, APIs, real-time systems. Connect AI models to real-world data and hardware.",
          "expandedContent": "Deploy AI systems on day one. Manage API gateways for rate limits, cost, and latency. Connect AI models to real-world data sources and device hardware. These are skills I use daily with clients and students. **What I Teach:** Production deployment patterns. API gateway architecture for AI workloads. Real-time streaming with WebSockets. Multimodal input handling. Cost optimization strategies. **Technologies:** React/TypeScript, serverless APIs, GCP, Websockets, real-time voice transcription, multimodal streaming"
        },
        {
          "icon": "rocket",
          "title": "Entrepreneurship & Business Modeling",
          "audience": "Founders, MBAs",
          "content": "Fundraising, business models, venture dynamics. From idea to Techstars to nine-figure exit.",
          "expandedContent": "I've lived the full startup arc: from idea to Techstars to product-market fit to nine-figure exit. I teach this from experience, not textbooks. I teach business modeling in MPD² today. **What I bring:** I founded Jiobit, raised venture capital, navigated hardware manufacturing, won SBIR contracts, scaled a team, and sold to a public company. I've sat on both sides of the table, as a founder raising money and as an investor evaluating deals. I serve on the Techstars Selection Committee, mentor at mHUB and iVenture Accelerator, and am an LP in four venture funds including LongJump. I've invested in 20+ companies. **Topics:** Business model canvas, revenue models, unit economics, pricing strategy. Cap table structures, fundraising mechanics, term sheets, due diligence processes. How investors evaluate technical stacks and IP. When to build vs. buy. How to think about defensibility when AI commoditizes implementation. Market sizing (TAM/SAM/SOM) and go-to-market strategy."
        }
      ]
    }
  ],
  "credentials": [
    {
      "value": "Design",
      "label": "Led UXR & UI/UX at Google"
    },
    {
      "value": "Product",
      "label": "VP/GM at Google & Motorola"
    },
    {
      "value": "Engineering",
      "label": "9+ patents, ships code daily"
    },
    {
      "value": "Founder",
      "label": "9-figure exit (Life360)"
    },
    {
      "value": "Teacher",
      "label": "MPD², MMM, UIUC Applied AI"
    },
    {
      "value": "Investor",
      "label": "20+ portfolio companies"
    }
  ],
  "timeline": [
    {
      "year": "Current",
      "company": "Presto Consulting",
      "title": "Founder & AI Consultant",
      "highlight": true,
      "content": "AI strategy and hands-on development for clients including Realtor.com, Life360, Paynearme. Building production AI systems daily."
    },
    {
      "year": "Current",
      "company": "Northwestern / UIUC",
      "title": "Faculty",
      "highlight": true,
      "content": "Teaching product management, AI-augmented development, and innovation at McCormick (MPD²), Kellogg (MMM), and UIUC (Applied AI)."
    },
    {
      "year": "2014-2024",
      "company": "Google",
      "title": "General Manager",
      "highlight": false,
      "content": "Led global wearable software strategy across design, product management, and research for Google's wearable ecosystem. Instrumental in major Wear OS platform developments including interface updates for innovative hardware architectures. Spearheaded one of Google Android's first AI innovation product teams."
    },
    {
      "year": "2021",
      "company": "Jiobit",
      "title": "Acquired by Life360",
      "highlight": true,
      "content": "Nine-figure exit (NASDAQ: LIF). All 25 employees joined Life360. Built encryption trusted by federal agencies."
    },
    {
      "year": "2015",
      "company": "Jiobit",
      "title": "Founded",
      "highlight": false,
      "content": "Built sensor fusion systems, 9+ patents. Packed Cellular, GPS, Wi-Fi, and BLE into a cookie-sized device."
    },
    {
      "year": "2011",
      "company": "Motorola/Google",
      "title": "VP Global eCommerce",
      "highlight": false,
      "content": "Created Moto Maker. 10x YoY growth, 50% fewer returns, Webby Awards, Best of CES, Red Dot Design Award."
    }
  ],
  "testimonials": [
    {
      "type": "leadership",
      "source": "",
      "testimonials": [
        {
          "author": "Logan LaHive",
          "title": "Managing Director, Techstars Chicago",
          "subtitle": "",
          "content": "FOUNDERS: This means if you are accepted, you get to work with and learn from JOHN RENALDI. One of the absolute best founders, mentors, workshop leaders, and connectors out there. Truly one of a kind."
        },
        {
          "author": "Lior Ron",
          "title": "Founder of Uber Freight, Former Moto/Google Executive",
          "subtitle": "",
          "content": "John is obsessed with understanding customer needs and can rally great technical talent around solving real user problems... I've seen John balance that successfully again and again."
        },
        {
          "author": "Jake Phillips",
          "title": "Sr. Director, Reality Labs Accessories at Meta",
          "subtitle": "reported to John",
          "content": "In many leaders, you tend to see that they are naturally adept at being the visionary OR the problem solver. John is unique in that he is very capable of both. He can quickly switch modes from diving into the smallest, most technical details to setting an innovative vision for the team. He empowers his employees but is also in the trenches to navigate challenges and pressure test their perspectives. He genuinely cares about the how and the why. All that said, John's superpower is his ability to influence people. He builds strong relationships and leads in a way that people are drawn to following."
        },
        {
          "author": "Matt Vokoun",
          "title": "Google VP, Strategy, Business Operations, Product Management",
          "subtitle": "",
          "content": "John is a fantastic product manager and leader. He was the main engine behind Moto Maker which was one of the biggest industry innovations that Motorola launched when Google owned them. Fantastic cross-functional leadership and HUGE impact on the company."
        }
      ]
    },
    {
      "type": "teaching",
      "source": "",
      "testimonials": [
        {
          "author": "John Minor",
          "title": "Chief Product Officer, PayNearMe",
          "subtitle": "",
          "content": "John's workshops are great! The instructional content is incredibly clear, practical, and perfectly tailored for product professionals. His expertise in both AI and product thinking shines through, and his delivery is super captivating, infused with powerful enthusiasm and passion. We've already witnessed actionable improvements in our teams, as they've already started integrating these concepts to boost productivity and inspire new innovations on our roadmap."
        },
        {
          "author": "Lauren Antonoff",
          "title": "CEO, Life360",
          "subtitle": "",
          "content": "I finally understand what is happening when the LLM starts to show up like a failing student and what to do about it! JR, your passion for AI and your students shines!"
        },
        {
          "author": "Sr. Product Manager",
          "title": "PayNearMe",
          "subtitle": "",
          "content": "Thank you so much for the AI Product course. I hate to admit that your prediction was right: we do feel like we're capable of building things on our own now after completing your class!"
        }
      ]
    },
    {
      "type": "students",
      "source": "Kellogg MMM",
      "testimonials": [
        {
          "author": "",
          "title": "",
          "subtitle": "",
          "content": "The course provides a comprehensive overview of Agentic AI and how it works. Highly recommended for anyone interested in learning the technology beyond the basics."
        },
        {
          "author": "",
          "title": "",
          "subtitle": "",
          "content": "You really understand what generative AI is and how it works, plus what kind of problems and tasks it would be good at versus struggle with. 5 out of 5 stars."
        },
        {
          "author": "",
          "title": "",
          "subtitle": "",
          "content": "Amazingly captivating speaker with relevant, up to date subject-matter. Clearly communicated and very engaging."
        },
        {
          "author": "",
          "title": "",
          "subtitle": "",
          "content": "I come from a non-technical background but was surprised I kept up!"
        }
      ]
    }
  ],
  "tables": [
    {
      "headers": [
        "Traditional Workflow",
        "AI-Augmented Workflow"
      ],
      "rows": [
        [
          "Designer creates mockups → hands off to engineer",
          "Designer prototypes in production code directly",
          ""
        ],
        [
          "PM writes specs → waits for implementation",
          "PM ships features, describes intent to AI",
          ""
        ],
        [
          "Engineer translates requirements to code",
          "Engineer orchestrates AI agents, focuses on architecture",
          ""
        ],
        [
          "Research takes weeks (recruiting, interviews, analysis)",
          "AI extracts themes in minutes from transcripts",
          ""
        ],
        [
          "Prototyping requires coding skills",
          "Anyone can describe and generate working prototypes",
          ""
        ]
      ],
      "variant": "default"
    }
  ],
  "terminals": [
    {
      "title": "Key Takeaways: The Market Shift",
      "command": "",
      "variant": "default",
      "lines": [
        "• **59%** of engineers now use AI daily, up from 28%",
        "• **50%** productivity gains reported across teams",
        "• **90%** of code written by AI tools themselves",
        "• Role boundaries are collapsing across PM, Design, Engineering",
        "• Junior developer roles are disappearing",
        "• New premium skills: judgment, orchestration, strategy"
      ]
    },
    {
      "title": "~/john/stack",
      "command": "tree",
      "variant": "default",
      "lines": [
        "• `mcp-servers/` → Model Context Protocol integrations",
        "• `agents/` → LangChain, n8n, ReAct orchestration",
        "• `rag-pipeline/` → PGVector + BM25 + Cohere reranking",
        "• `synthetic-users/` → Graph DB persona simulation",
        "• `procedural-memory/` → Self-learning agent systems",
        "• `multimodal/` → Voice, text, image processing",
        "• `clients/` → Production code with Fortune 500 CTOs"
      ]
    }
  ],
  "citations": [
    "[1] Anthropic. \"How AI Is Transforming Work at Anthropic.\" *Anthropic Research Blog*, December 2, 2025. https://www.anthropic.com/research/how-ai-is-transforming-work-at-anthropic",
    "[2] Orosz, Gergely. \"How Claude Code is Built.\" *The Pragmatic Engineer*, September 23, 2025. https://newsletter.pragmaticengineer.com/p/how-claude-code-is-built",
    "[3] Zieminski, Karol. \"Anthropic Shipped Claude Cowork in 10 Days Using Its Own AI.\" *Product with Attitude*, January 13, 2026. https://karozieminski.substack.com/p/claude-cowork-anthropic-product-deep-dive",
    "[4] Stack Overflow. \"2025 Developer Survey: AI.\" 2025. https://survey.stackoverflow.co/2025/ai",
    "[5] Peng, Sida; Kalliamvakou, Eirini; Cihon, Peter; and Demirer, Mert. \"The Impact of AI on Developer Productivity: Evidence from GitHub Copilot.\" *Microsoft Research*, February 2023. arXiv:2302.06590. https://arxiv.org/pdf/2302.06590",
    "[6] McKinsey & Company. \"Unlocking the Value of AI in Software Development.\" *McKinsey Digital*, November 3, 2025. https://www.mckinsey.com/industries/technology-media-and-telecommunications/our-insights/unlocking-the-value-of-ai-in-software-development",
    "[7] Mollick, Ethan. \"Management as AI Superpower.\" *One Useful Thing* (Substack), January 27, 2026. https://www.oneusefulthing.org/p/management-as-ai-superpower",
    "[8] Karpathy, Andrej. X (Twitter) post on AI programming, December 26, 2025. https://x.com/karpathy/status/2004607146781278521",
    "[9] Huang, Jensen. Keynote address at London Tech Week, June 9, 2025. Reported by CNBC. https://www.cnbc.com/2025/06/09/we-train-ai-like-humans-now-nvidia-jensen-huang-says-.html",
    "[10] Nadella, Satya and Zuckerberg, Mark. Remarks at Meta LlamaCon, April 29, 2025. Reported by CNBC and GeekWire. https://www.cnbc.com/2025/04/29/satya-nadella-says-as-much-as-30percent-of-microsoft-code-is-written-by-ai.html",
    "[11] Balazinska, Magdalena. \"Coding is Dead: UW Computer Science Program Rethinks Curriculum for the AI Era.\" *GeekWire*, July 10, 2025. https://www.geekwire.com/2025/coding-is-dead-uw-computer-science-program-rethinks-curriculum-for-the-ai-era/",
    "[12] Seth, Deepak (Gartner) and Atahan, Bekir (Experis/ManpowerGroup). \"What AI Skills Job Seekers Need to Develop in 2026.\" *Computerworld*, January 19, 2026. https://www.computerworld.com/article/4117602/what-ai-skills-job-seekers-need-to-develop-in-2026.html",
    "[13] National Association of Colleges and Employers (NACE). \"Job Outlook 2025.\" December 9, 2024. https://www.naceweb.org/talent-acquisition/candidate-selection/what-are-employers-looking-for-when-reviewing-college-students-resumes",
    "[14] Sacra Research and ARR Club. \"Bolt.new ARR Hit $40M in 5 Months.\" 2025. https://sacra.com/c/bolt-new/",
    "[15] Schwartz, Barry. \"More Isn't Always Better.\" *Harvard Business Review*, June 2006. https://hbr.org/2006/06/more-isnt-always-better",
    "[16] Norton, Michael I.; Mochon, Daniel; and Ariely, Dan. \"The IKEA Effect: When Labor Leads to Love.\" *Harvard Business School Working Paper* 11-091. https://www.hbs.edu/ris/Publication%20Files/11-091.pdf",
    "[17] Fang, Ruochen et al. \"Memp: Exploring Agent Procedural Memory.\" Zhejiang University and Alibaba Group, August 2025. arXiv:2508.06433. https://arxiv.org/abs/2508.06433",
    "[18] Life360 ASX Announcement. \"Proposed Acquisition of Jiobit.\" April 27, 2021. https://www.asx.com.au/asxpdf/20210427/pdf/44vw8t5kt43wqg.pdf",
    "[19] TechCrunch. \"Family tracking app Life360 to acquire wearable location device Jiobit for $37M.\" April 27, 2021. https://techcrunch.com/2021/04/27/family-tracking-app-life360-to-acquire-wearable-location-device-jiobit-for-37m/",
    "[20] Jiobit Blog. \"Winner of 17th Annual Chicago Innovation Awards.\" October 29, 2019. https://www.jiobit.com/blog/jiobit-named-winner-of-17th-annual-chicago-innovation-awards",
    "[21] Jiobit Blog. \"SBIR Phase II Award from U.S. Air Force.\" August 21, 2019. https://www.jiobit.com/blog/jiobit-receives-sbir-phase-ii-award-from-us-air-force",
    "[22] USPTO Patent Records: US 10,172,109; US 10,158,971; US 9,980,087; US 10,064,002; and related JIO, Inc. and Tile, Inc. filings. https://patents.justia.com/assignee/tile-inc",
    "[23] Vercel Engineering. \"AGENTS.md Outperforms Skills in Our Agent Evals.\" *Vercel Blog*, January 27, 2026. https://vercel.com/blog/agents-md-outperforms-skills-in-our-agent-evals",
    "[24] Northwestern University Segal Design Institute. \"John Renaldi Faculty Profile.\" https://design.northwestern.edu/people/profiles/renaldi-john.html",
    "[25] Cagan, Marty and Baxley, Bob. \"The Era of the Product Creator.\" *Silicon Valley Product Group*, May 2025. https://www.svpg.com/the-era-of-the-product-creator/",
    "[26] Cagan, Marty. \"Empowered: Ordinary People, Extraordinary Products.\" Wiley, 2020. Also cited in SVPG articles on empowered product teams. https://www.svpg.com/",
    "[27] Final Round AI. \"Software Engineering Job Market Outlook for 2026.\" January 2026. https://www.finalroundai.com/blog/software-engineering-job-market-2026. Also: IEEE Spectrum, \"The Effect of AI on Entry-Level Jobs,\" December 2025. https://spectrum.ieee.org/ai-effect-entry-level-jobs",
    "[28] Federal Reserve Bank of New York. \"Labor Market for Recent College Graduates.\" 2025. Also: Harvard Business School study on AI adoption and employment (62 million workers analyzed). Cited in GitHub Blog, \"Junior Developers Aren't Obsolete.\" 2025. https://github.blog/ai-and-ml/generative-ai/junior-developers-arent-obsolete-heres-how-to-thrive-in-the-age-of-ai/",
    "[29] Amodei, Dario (Anthropic) and Hassabis, Demis (DeepMind). Joint interview at World Economic Forum, Davos, January 2026. Reported by Yahoo Finance. https://www.yahoo.com/news/articles/deepmind-anthropic-ceos-ai-already-141624716.html",
    "[30] Brynjolfsson, Erik; Chandramouli, Akash; and Chen, Wenting. \"Canaries in the Coal Mine? AI and Early-Career Employment.\" Stanford Digital Economy Lab, August 2025. https://digitaleconomy.stanford.edu/wp-content/uploads/2025/08/Canaries_BrynjolfssonChandarChen.pdf"
  ],
  "document": [
    {
      "type": "header"
    },
    {
      "type": "section",
      "number": 1,
      "title": "The Market & Student Need: Why Now",
      "subsections": [
        {
          "title": "The Anthropic Case Study",
          "blocks": [
            {
              "type": "paragraph",
              "text": "At Anthropic, the company behind Claude, internal research shows [1][2]:"
            },
            {
              "type": "component",
              "component": "stats",
              "param": ""
            },
            {
              "type": "paragraph",
              "text": "Anthropic now **hires generalists over specialists** because \"many traditional programming skills are less relevant when AI handles implementation details.\" [1]"
            },
            {
              "type": "component",
              "component": "pullquote",
              "param": "I gave Claude Code a description of the problem, i"
            },
            {
              "type": "paragraph",
              "text": "McCormick students will enter this world in 2-3 years. We need to prepare them now."
            }
          ]
        },
        {
          "title": "The Triad: Design, Product, and Engineering Are Merging",
          "blocks": [
            {
              "type": "paragraph",
              "text": "Role boundaries are collapsing. Designers, product managers, and engineers are moving toward each other, and AI tools are accelerating the convergence."
            },
            {
              "type": "bulletList",
              "items": [
                "**PMs → Engineers:** Six months ago, most product managers shipped zero code. Today, most PMs ship at least one pull request per month. At Anthropic, PMs ship features directly. By end of 2026, PMs may write 10-20% of production code."
              ]
            },
            {
              "type": "bulletList",
              "items": [
                "**Designers → Engineers & PMs:** Designers no longer hand off static mockups. With AI tools, they prototype in production code, make product decisions in real-time, and understand the systems they design for."
              ]
            },
            {
              "type": "bulletList",
              "items": [
                "**Engineers → Product:** When implementation becomes easy, the valuable skill becomes knowing what to build. Engineers who understand customer problems, market dynamics, and business models are worth more than those who only execute specs."
              ]
            },
            {
              "type": "component",
              "component": "convergence",
              "param": ""
            },
            {
              "type": "component",
              "component": "quotes",
              "param": "triad"
            },
            {
              "type": "paragraph",
              "text": "The tools are converging too. **Claude Code** lets engineers ship features by describing intent. **Figma AI** generates production-ready components from design specs. **Bolt** (which hit $40M ARR in five months [14]) and **Lovable** let anyone describe a feature and watch it appear. These tools don't replace judgment; they automate the translation layer between idea and implementation. The role that remains is the one who knows what to build and why."
            },
            {
              "type": "table"
            },
            {
              "type": "paragraph",
              "text": "**Synthetic users** represent another shift: AI personas that simulate customer feedback before a single line of code is written. Product teams can now test positioning, validate assumptions, and iterate on concepts using LLM-generated personas trained on real research data. This changes the research-to-build cycle entirely."
            }
          ]
        },
        {
          "title": "The Rise of the \"Product Engineer\"",
          "blocks": [
            {
              "type": "paragraph",
              "text": "Tech companies are redefining roles around this reality. When implementation becomes easy, companies want engineers who understand why they're building, not just how. This has created a new role that didn't exist five years ago: the **Product Engineer**."
            },
            {
              "type": "paragraph",
              "text": "The Product Engineer sits at the intersection of design, product, and engineering. As one job posting puts it, they *\"care more about outcomes and impact than the exact implementation, or the tools used to solve the problem.\"* They talk directly with customers, analyze usage data, identify which problems are worth solving, and then build the solution themselves. No handoffs. No waiting for specs. The same person who understands the user problem writes the code to solve it."
            },
            {
              "type": "paragraph",
              "text": "**Linear**, the project management tool that's become a cult favorite among developers, operates almost entirely with Product Engineers. The company has no dedicated PM roles for most teams. As co-founder Tuomas Artman explains: *\"Instead of having a PM for every team or area of the product, we like to see that the broader team collectively thinks about the product.\"* The result is a tool that ships fast and feels like it was built by people who actually use it, because it was."
            },
            {
              "type": "paragraph",
              "text": "**Vercel**, **PostHog**, **incident.io**, **Ghost**, **Ashby**, and **Fly.io** have all adopted similar models. **Shopify** and **Atlassian** have been developing Product Engineers for five years. **Microsoft** is now hiring Product Engineers for Copilot. This isn't a startup trend. It's becoming standard practice at scale."
            },
            {
              "type": "paragraph",
              "text": "The compensation signals market demand. Senior Product Engineers command **$147,000-$180,000+**, with Google Trends showing **89% growth** in \"Product Engineer\" searches since 2021."
            },
            {
              "type": "paragraph",
              "text": "Why is this happening now? Three forces are converging. First, AI tools let engineers move faster, freeing time for product thinking. Second, companies are de-specializing, moving away from bloated headcounts and communication overhead. Third, as one analysis puts it: *\"In many ways this is a return to the original ideas of Agile and a counter movement to the increased specialism and bloat of product and technology roles over the last 20 years.\"*"
            },
            {
              "type": "paragraph",
              "text": "Raquel Smith, a Product Engineer at PostHog, captures the appeal: *\"I've had more fun as a product engineer than in any other role, hands down.\"*"
            }
          ]
        }
      ],
      "intro": [
        {
          "type": "paragraph",
          "text": "For decades, software economics worked one way: distributing software cost nearly nothing, but building it required expensive talent. That second part is changing."
        },
        {
          "type": "paragraph",
          "text": "AI coding tools have lowered the cost of building software. Product managers can ship features. Designers can prototype in production code. Founders can build an MVP in a weekend. The gap between \"people with ideas\" and \"people who can build\" is shrinking."
        },
        {
          "type": "paragraph",
          "text": "This is happening now, inside the companies building these tools."
        }
      ]
    },
    {
      "type": "section",
      "number": 2,
      "title": "The Talent Crisis: Why Traditional Training Fails",
      "subsections": [
        {
          "title": "The Junior Developer Role Is Disappearing",
          "blocks": [
            {
              "type": "paragraph",
              "text": "As AI makes senior engineers more productive, it's eliminating the entry points where new engineers used to learn their craft."
            },
            {
              "type": "component",
              "component": "pullquote",
              "param": "The cost of software production is trending toward"
            },
            {
              "type": "paragraph",
              "text": "The numbers are stark. Entry-level tech hiring has dropped **73%** in the past year alone. [27] The **Bureau of Labor Statistics** reports overall programmer employment declined **27.5%** from 2023-2025. CS graduate unemployment has hit **6.1%**, well above the national average of 4.8%, with **16.5% underemployment** (graduates working in roles below their qualification level). [28] A **Harvard study of 62 million workers** found that when companies adopt generative AI, junior developer employment drops **9-10% within six quarters**, while senior employment barely changes."
            },
            {
              "type": "paragraph",
              "text": "This isn't cyclical. It's structural."
            },
            {
              "type": "paragraph",
              "text": "At Davos 2026, the CEOs of the two leading AI labs said the quiet part out loud. Anthropic's **Dario Amodei** predicted AI could handle *\"most, maybe all\"* coding work within 6-12 months. DeepMind's **Demis Hassabis** added: *\"I think we're going to see this year the beginnings of maybe it impacting the junior level\"*, explicitly naming entry-level roles and internships as vulnerable. [29]"
            },
            {
              "type": "paragraph",
              "text": "**Stanford's Digital Economy Lab** quantified the damage: employment for software developers aged 22-25 has **declined nearly 20%** from its 2022 peak. Early-career workers in AI-exposed occupations experienced a **16% relative employment decline** between October 2022 and September 2025, while employment for workers 30+ in the same fields actually *grew* 6-12%. [30] The \"learning curve\" itself is being automated, leaving early-career professionals stranded between AI agents that handle simple tasks and senior workers who handle complex architecture."
            },
            {
              "type": "paragraph",
              "text": "The work that used to train junior developers is now automated. GitHub found developers using AI assistants complete tasks **56% faster**. CRUD operations, boilerplate code, unit tests, documentation, and routine bug fixes, the apprenticeship work that once trained new engineers, is increasingly AI-generated. As one developer put it: *\"We're the first generation who have to be Seniors before we're allowed to be Juniors.\"*"
            },
            {
              "type": "paragraph",
              "text": "AWS CEO **Matt Garman** called the trend *\"one of the dumbest things I've ever heard,\"* warning that companies eliminating junior roles are destroying their talent pipeline. The industry is creating a structural problem that will hit in 2029-2031 when mass senior retirements meet the shortage of developers who were never hired in the first place."
            },
            {
              "type": "paragraph",
              "text": "As Magdalena Balazinska of UW's Allen School puts it: *\"Coding, or the translation of a precise design into software instructions, is dead. AI can do that.\"* [11] The question is: what replaces it?"
            }
          ]
        },
        {
          "title": "The New Skills: What Industry Leaders Are Saying",
          "blocks": [
            {
              "type": "paragraph",
              "text": "The people building AI tools are rethinking what it means to be a developer. Their perspective matters because they see the shift before the rest of the industry."
            },
            {
              "type": "component",
              "component": "quotes",
              "param": "skills"
            },
            {
              "type": "paragraph",
              "text": "Industry leaders agree on what matters now. **Ethan Mollick** (Wharton) argues that *\"AI skills are basically the skills of good managers: delegation, clear explanations, getting a sense of individual strengths & weaknesses, division of labor, project management, clear feedback.\"* [7]"
            },
            {
              "type": "paragraph",
              "text": "**Andrej Karpathy** (OpenAI co-founder) describes the shift: *\"I've never felt this much behind as a programmer. The profession is being dramatically refactored... There's a new programmable layer of abstraction to master involving agents, subagents, their prompts, contexts, memory, modes, permissions, tools, plugins, skills.\"* [8]"
            },
            {
              "type": "paragraph",
              "text": "The programming language itself is changing. As **Jensen Huang** (NVIDIA CEO) puts it: *\"There's a new programming language. It's called 'human.'\"* [9] The numbers confirm this: **20-30% of Microsoft's code** is now AI-written [10], and **Mark Zuckerberg** predicts half of Meta's development will be done by AI within a year."
            },
            {
              "type": "paragraph",
              "text": "Skills are shifting: from writing code to orchestrating systems, from syntax to judgment, from execution to strategy. These are the skills we need to teach."
            },
            {
              "type": "component",
              "component": "chart",
              "param": "hierarchy"
            },
            {
              "type": "paragraph",
              "text": "**The Opportunity:** Employers now prioritize **problem-solving (~90%)** over GPA. [13] McCormick can lead in teaching students to use AI to build systems that solve real problems."
            },
            {
              "type": "component",
              "component": "terminal",
              "param": ""
            },
            {
              "type": "paragraph",
              "text": "**The Answer: A New Curriculum for a New Role**"
            },
            {
              "type": "paragraph",
              "text": "The question \"what replaces coding?\" has an answer: the Product Engineer. This role combines technical fluency with product judgment, user empathy, and business context. Companies are hiring for it now, and McCormick can prepare students to fill it."
            },
            {
              "type": "paragraph",
              "text": "But teaching this role requires a specific kind of faculty member, and a curriculum that doesn't yet exist in most engineering schools. The sections that follow lay out how McCormick can lead in defining this curriculum, why I'm positioned to teach it, and what students will learn."
            }
          ]
        }
      ],
      "intro": [
        {
          "type": "paragraph",
          "text": "The opportunity is clear. But there's a problem: the traditional path into engineering is breaking down just as the role is being redefined."
        }
      ]
    },
    {
      "type": "section",
      "number": 3,
      "title": "How This Fits McCormick's Vision",
      "subsections": [
        {
          "title": "Pillar 1: Revolutionize the Methods of Engineering",
          "blocks": [
            {
              "type": "paragraph",
              "text": "AI-augmented development is becoming the default method for how engineers work. Context engineering, agentic systems, and production AI workflows are the tools engineers will use across every discipline. This curriculum teaches those methods before they become standard."
            },
            {
              "type": "paragraph",
              "text": "The shift is comparable to when CAD replaced drafting tables or when simulation replaced physical prototyping. Engineers who master AI-augmented methods will define the next generation of engineering practice. McCormick can lead in codifying these methods rather than adopting them later."
            },
            {
              "type": "component",
              "component": "pullquote",
              "param": "The shift is analogous to when CAD replaced drafti"
            }
          ]
        },
        {
          "title": "Pillar 2: Transform Engineering Education",
          "blocks": [
            {
              "type": "paragraph",
              "text": "Dean Schuh has called for \"whole-brain\" engineering that pairs technical depth with innovation, design, and entrepreneurial thinking. The Product Engineer curriculum delivers this integration. Students learn to move between user research, technical implementation, and business strategy. They don't just build systems; they understand why those systems matter and who they serve."
            },
            {
              "type": "paragraph",
              "text": "This prepares engineers to function as what Dean Schuh describes as \"the fulcrum between the research lab and the marketplace.\" The marketplace represents humanity and its needs. Engineers serve as the bridge. This curriculum teaches students to be that bridge."
            }
          ]
        },
        {
          "title": "Pillar 3: Advance Applications of Engineering",
          "blocks": [
            {
              "type": "paragraph",
              "text": "AI is one of McCormick's four grand challenge focus areas, alongside climate, health, and sustainability. This curriculum advances AI as both a method (how engineers work) and an application domain (what engineers build)."
            },
            {
              "type": "paragraph",
              "text": "The skills taught here also amplify work in the other three focus areas. Climate researchers use AI agents to process satellite data. Health engineers use LLMs to analyze clinical literature. Sustainability teams use generative tools to model resource flows. The Product Engineer mindset and AI fluency accelerate progress across all four challenges."
            }
          ]
        },
        {
          "title": "The Window Is Now",
          "blocks": [
            {
              "type": "paragraph",
              "text": "Dean Schuh has expressed interest in \"once-in-a-generation ideas and goals that can carry us into the future together.\" The AI shift in engineering practice qualifies. The window to establish McCormick as a leader in AI-augmented engineering education is now, while methods are still being defined and before competitors codify their own approaches."
            }
          ]
        }
      ],
      "intro": [
        {
          "type": "paragraph",
          "text": "This proposal maps to McCormick's three strategic pillars and addresses AI as one of the school's four grand challenge focus areas."
        },
        {
          "type": "component",
          "component": "cards",
          "param": "2"
        }
      ]
    },
    {
      "type": "section",
      "number": 4,
      "title": "Who Should Teach This, and Why Me",
      "subsections": [
        {
          "title": "The Profile Required",
          "blocks": [
            {
              "type": "paragraph",
              "text": "If McCormick wants to prepare students for the \"Product Engineer\" role, the faculty member teaching it needs a specific profile. This is not a traditional academic hire. It requires someone who works across boundaries that don't usually overlap."
            },
            {
              "type": "component",
              "component": "cards",
              "param": "3"
            }
          ]
        },
        {
          "title": "Why I Fit This Profile",
          "blocks": [
            {
              "type": "paragraph",
              "text": "I'm an unusual combination: a former Google executive who still ships code daily, a founder with a nine-figure exit, and a design leader who has led UXR, UI/UX, and engineering teams. I held VP and General Manager responsibilities at Google and Motorola. I co-founded Jiobit, a wearable tech startup acquired by Life360 (NASDAQ: LIF) in 2021. Today I run **Presto Consulting**, working with clients like Realtor.com, Life360, and Paynearme on AI strategy and hands-on development. I work across executive strategy and hands-on building. My corporate workshops serve entry-level engineers through product directors. I teach MBAs in the Kellogg MMM program and engineers at McCormick. I serve on AI advisory boards for Menlo Ventures and Techstars. This range is rare."
            },
            {
              "type": "component",
              "component": "credentials",
              "param": ""
            }
          ]
        },
        {
          "title": "Career Background",
          "blocks": [
            {
              "type": "paragraph",
              "text": "My career spans executive leadership, entrepreneurship, and technical building across multiple decades and company stages."
            },
            {
              "type": "component",
              "component": "timeline",
              "param": ""
            }
          ]
        },
        {
          "title": "Google (2014-2024)",
          "blocks": [
            {
              "type": "paragraph",
              "text": "I served as **General Manager for Wear OS by Google**, leading global wearable software strategy across design, product management, and research for Google's entire wearable ecosystem. I was instrumental in **major developments for the Wear OS platform**, including interface updates to support innovative hardware architectures like the Pixel Watch. I spearheaded **one of the first AI innovation product teams within Google Android** and served as the **original product lead for an internal consumer multi-agent orchestration system** designed for building coding agents. I contributed intellectual property and led product teams developing machine learning algorithms for fitness, power management, and location services."
            },
            {
              "type": "paragraph",
              "text": "I led teams across **Design, UXR, Product, and Engineering (Firmware to Cloud)**. I know how to take prototype code and scale it globally. My time at **Deloitte** building enterprise web applications gave me discipline in requirements gathering and delivery."
            }
          ]
        },
        {
          "title": "Jiobit (0 to 1)",
          "blocks": [
            {
              "type": "paragraph",
              "text": "I founded Jiobit after briefly losing my son in a crowded Chicago park. *\"I believe no parent should experience that panic.\"* The team built a device with encryption strong enough to be **trusted by federal government and law enforcement** for sensitive location tracking. Security as an architectural decision."
            },
            {
              "type": "paragraph",
              "text": "The hardware was hard: the team packed Cellular, GPS, Wi-Fi, and BLE into a cookie-sized device. As I told *Inventors Digest*: *\"For any of this to work... we had to nail this custom system architecture and the sensor fusion technology.\"* I'm named inventor on **9+ issued U.S. patents** covering location tracking, power management, and machine learning systems."
            },
            {
              "type": "paragraph",
              "text": "The outcome: SBIR Phase II Award (Air Force) [21], 200% YoY revenue growth, sold out in the 2018 holiday season, and acquired by **Life360 (NASDAQ: LIF)** in a deal that appreciated to **nine figures**. All 25 employees joined Life360 after the deal. [18][19]"
            }
          ]
        },
        {
          "title": "Motorola (Research to Practice)",
          "blocks": [
            {
              "type": "paragraph",
              "text": "I created **Moto Maker**, the first direct-to-consumer, built-to-order smartphone. It connected a website to the factory floor with **2,000+ permutations** shipping in **4 days or less**."
            },
            {
              "type": "paragraph",
              "text": "When early versions had too many choices, I applied HBR research on the \"Paradox of Choice\" [15] and \"IKEA Effect\" [16]: *\"If you have a hand in creating something, your affinity for that product goes through the roof. Labor creates love.\"* The team curated options, reduced anxiety, and increased engagement. As VP of Global eCommerce, we achieved **10x YoY growth**, **50% fewer product returns**, and won **Webby Awards**, **Best of CES**, and the **Red Dot Design Award**."
            }
          ]
        }
      ]
    },
    {
      "type": "section",
      "number": 5,
      "title": "The Hands-On Work: What I Build Today",
      "subsections": [
        {
          "title": "Teaching & Academic Leadership",
          "blocks": [
            {
              "type": "paragraph",
              "text": "I teach at **McCormick (Segal)**, **Kellogg (MMM)**, and **University of Illinois** (Applied AI), working across engineering and business at multiple institutions. My courses integrate AI into design thinking and product development, including building custom agents and incorporating synthetic users into research. I led **Northwestern's Business Innovation Lab (Winter 2025)** in partnership with **Google DeepMind** and served as a key panelist at **Kearney's 2024 Executive Panel on AI in Product Design**."
            },
            {
              "type": "paragraph",
              "text": "I work alongside **Jim Wicks** (Segal Design Institute founder) and **Mike Edmonds** (Microsoft) in the classroom. My philosophy in the **MPD² program**: outcomes over outputs. I teach students to be **\"missionaries, not mercenaries.\"**"
            }
          ]
        },
        {
          "title": "Curriculum-Advancing Work",
          "blocks": [
            {
              "type": "paragraph",
              "text": "Clinical faculty focus on teaching, not traditional academic research with publication requirements. My work aligns with this model while still advancing the curriculum in measurable ways."
            },
            {
              "type": "paragraph",
              "text": "**Testing new methods:** I pilot AI tools and workflows in real courses and corporate training programs before they become mainstream. My 12-week corporate curriculum has been iterated across multiple cohorts, identifying what works and what doesn't. This applied testing informs what I bring to McCormick students."
            },
            {
              "type": "paragraph",
              "text": "**Developing evaluation frameworks:** My work on agentic procedural memory, synthetic user validation, and Claude Code architecture analysis creates benchmarks and evaluation methods that inform pedagogy. Understanding how AI systems fail is as important as understanding how they succeed."
            },
            {
              "type": "paragraph",
              "text": "**Building reusable assets:** The MCP servers, agent frameworks, and prompt engineering collections I maintain on GitHub become teaching resources. Students learn from production code, not toy examples."
            },
            {
              "type": "paragraph",
              "text": "**Industry feedback loops:** My consulting work with public company CTOs and startup founders provides continuous signal on what skills employers need. This feedback shapes curriculum in near real-time, not on academic publication timelines."
            },
            {
              "type": "paragraph",
              "text": "This isn't traditional research, but it's rigorous, iterative work that directly improves teaching effectiveness."
            }
          ]
        },
        {
          "title": "Industry Visibility",
          "blocks": [
            {
              "type": "paragraph",
              "text": "My investing and ecosystem work give me a vantage point: I see where the industry is heading **8 to 16 months before it becomes mainstream**. That foresight shapes my curriculum. As a UIUC alumnus and founding member of **Illini Angels**, I can position McCormick as a talent pipeline for Chicago tech."
            }
          ]
        }
      ],
      "intro": [
        {
          "type": "paragraph",
          "text": "The Product Engineer curriculum can't be taught from textbooks. The tools change too fast. The only way to teach students how to build with AI is to be actively building with AI, today, this week, this month. Everything in this section represents work I do alongside the teams I teach. These aren't demos or side projects; they're production systems that inform what I bring to the classroom."
        },
        {
          "type": "paragraph",
          "text": "My most intensive building has happened after Google. I'm not a manager who \"used to code.\" I write production systems daily:"
        },
        {
          "type": "bulletList",
          "items": [
            "**MCP Servers & Multi-Agent Orchestration:** I build and publish **Model Context Protocol servers** to npm, allowing AI agents to connect with external services. I build multi-agent systems using **LangChain, n8n**, and **ReAct frameworks** that coordinate across foundational models (Gemini, OpenAI, Anthropic, Cohere). I've built systems that stream real-time meeting transcripts via **Websockets** and **Assembly AI**, allowing agents to act during live calls."
          ]
        },
        {
          "type": "bulletList",
          "items": [
            "**Full-Stack AI Infrastructure:** I work across the modern AI stack: **vector databases (PGVector)**, **semantic search with embeddings**, **full-text search (BM25)**, **Cohere reranking**, **Agentic RAG pipelines**, and **LLM chaining with reflection loops**. I build in **React/TypeScript** with **serverless APIs** and integrate tools like **Firecrawl** and **Tavily** for research agents. I've built **browser automation agents**, content graders with scoring rubrics, and custom HTML email generation systems."
          ]
        },
        {
          "type": "bulletList",
          "items": [
            "**Live Multimodal AI:** I build systems that process voice, text, and images in real-time, connecting AI agents to device hardware and sensor data."
          ]
        },
        {
          "type": "bulletList",
          "items": [
            "**Synthetic User Platforms:** I built a synthetic user system that simulates customer feedback using LLM-generated personas. The platform uses **graph databases and knowledge graphs** to model user relationships and context, with **self-learning loops** that refine persona accuracy based on research validation. This is an example of the new AI workflows reshaping product development."
          ]
        },
        {
          "type": "bulletList",
          "items": [
            "**Agentic Procedural Memory:** I designed and built an **Agentic Procedural Memory System** that lets AI agents learn from their own experiences. The system detects failure-to-success patterns in tool usage, performs automated root cause analysis, and stores reusable procedures in a **hybrid search architecture** (vector embeddings + BM25 full-text search with Reciprocal Rank Fusion). Agents using this system show **50% step reduction** and **95%+ success rates** on similar tasks. This work builds on recent research from Zhejiang University and Alibaba. [17]"
          ]
        },
        {
          "type": "bulletList",
          "items": [
            "**Client Work & Executive Advisory:** I consult with public company CTOs and CEOs on AI strategy, and run hands-on design workshops with their development teams. This means reviewing AI proposals, debugging architectures, and pairing with senior engineers to ship production code. I build alongside the teams I teach."
          ]
        },
        {
          "type": "bulletList",
          "items": [
            "**Corporate Training:** Through my consulting firm, I run a **12-week curriculum** that upskills engineers, product managers, and designers into proficient AI practitioners. Participants leave implementing AI into their products and operations. My workshops span entry-level engineers to product directors."
          ]
        },
        {
          "type": "bulletList",
          "items": [
            "**Published Research:** I publish original technical research on AI agent architectures. A recent investigation reverse-engineered Claude Code's API requests and identified an implementation flaw: skill instructions were being injected as user messages (low authority) rather than in the system prompt (high authority), explaining why Vercel's benchmarks showed only 53% pass rates. [23] This kind of technical analysis is what I bring to both clients and students."
          ]
        },
        {
          "type": "bulletList",
          "items": [
            "**Open Source:** I maintain 16 public repositories on GitHub (github.com/jrenaldi79), including MCP servers, agent frameworks, and prompt engineering collections."
          ]
        },
        {
          "type": "component",
          "component": "terminal",
          "param": ""
        }
      ]
    },
    {
      "type": "section",
      "number": 6,
      "title": "What I Can Teach",
      "subsections": [],
      "intro": [
        {
          "type": "paragraph",
          "text": "The Product Engineer needs to move from idea to shipped product. This isn't a single course. It's a set of capabilities that can be integrated into existing McCormick and Segal curriculum wherever they fit. I'm already piloting parts of this in my current classes."
        },
        {
          "type": "component",
          "component": "cards",
          "param": "4"
        },
        {
          "type": "paragraph",
          "text": "*While the examples above reference software, these skills transfer across engineering disciplines. AI is accelerating PCB design, materials discovery, clinical literature analysis, and structural optimization. The core skills (judgment about what to build, fluency with AI tools, and translation between technical capability and human need) prepare engineers for any field where AI is reshaping practice.*"
        }
      ]
    },
    {
      "type": "section",
      "number": 7,
      "title": "What Others Say",
      "subsections": [
        {
          "title": "On Teaching & Workshops",
          "blocks": [
            {
              "type": "paragraph",
              "text": "Feedback from corporate training and academic courses shows consistent themes: practical content, engaging delivery, and immediate usefulness."
            },
            {
              "type": "component",
              "component": "testimonials",
              "param": "teaching"
            },
            {
              "type": "component",
              "component": "testimonials",
              "param": "students"
            }
          ]
        }
      ],
      "intro": [
        {
          "type": "paragraph",
          "text": "The following testimonials come from executives, colleagues, and students who have worked with me across different contexts: startups, corporate training, and academic settings."
        },
        {
          "type": "component",
          "component": "testimonials",
          "param": "leadership"
        }
      ]
    },
    {
      "type": "citations"
    }
  ]
};



// ============================================================================
// DESIGN TOKENS (Single Source of Truth)
// ============================================================================

/**
 * Design Tokens - "The Scholarly Disruptor"
 *
 * SINGLE SOURCE OF TRUTH for the visual design system.
 *
 * Design Direction: MIT Technology Review meets Wired
 * - Editorial magazine aesthetic with premium typography
 * - Deep ink palette with restrained accent
 * - Paper-like textures, not screen-like glows
 * - Data visualization as art
 * - Confident white space
 */

// =============================================================================
// COLORS - Restrained, editorial palette
// =============================================================================
const COLORS = {
  // Primary ink tones - the backbone
  ink: {
    900: '#0A0A0B',        // Near-black for hero backgrounds
    800: '#18181B',        // Deep charcoal
    700: '#27272A',        // Headlines
    600: '#3F3F46',        // Subheadings
    500: '#52525B',        // Body text emphasis
    400: '#71717A',        // Body text
    300: '#A1A1AA',        // Captions, metadata
    200: '#D4D4D8',        // Borders, dividers
    100: '#F4F4F5',        // Light backgrounds
    50: '#FAFAFA',         // Paper white
  },
  // Single accent - mature, institutional purple
  accent: {
    primary: '#5B21B6',    // Deep violet - confident, not playful
    light: '#7C3AED',      // Lighter for hover states
    muted: '#8B5CF6',      // For subtle accents
    wash: 'rgba(91, 33, 182, 0.06)',  // Tinted backgrounds
    glow: 'rgba(91, 33, 182, 0.12)',  // Subtle emphasis
  },
  // Semantic colors (used sparingly)
  semantic: {
    success: '#059669',
    warning: '#D97706',
    info: '#0891B2',
  },
  // Special surfaces
  surface: {
    paper: '#FAFAFA',
    elevated: '#FFFFFF',
    inset: '#F4F4F5',
    dark: '#0A0A0B',
    darkElevated: '#18181B',
  },
};

// =============================================================================
// TYPOGRAPHY - Editorial hierarchy
// =============================================================================
const FONTS = {
  // Display: Distinctive, editorial presence
  display: "'Fraunces', 'Playfair Display', Georgia, serif",
  // Headlines: Clean, authoritative
  headline: "'Instrument Serif', 'Noto Serif Display', Georgia, serif",
  // Body: Readable, refined
  body: "'Newsreader', 'Source Serif 4', Georgia, serif",
  // UI/Labels: Clean sans for interface elements
  ui: "'DM Sans', 'Outfit', system-ui, sans-serif",
  // Data: Precise, technical
  mono: "'IBM Plex Mono', 'JetBrains Mono', monospace",
};

// Type scale with editorial proportions
const TYPE_SCALE = {
  // Display sizes (for hero, major section heads)
  display: {
    xl: { size: 'clamp(3.5rem, 8vw, 7rem)', lineHeight: 0.95, letterSpacing: '-0.03em', weight: 400 },
    lg: { size: 'clamp(2.5rem, 5vw, 4.5rem)', lineHeight: 1.0, letterSpacing: '-0.025em', weight: 400 },
    md: { size: 'clamp(2rem, 4vw, 3rem)', lineHeight: 1.05, letterSpacing: '-0.02em', weight: 400 },
  },
  // Headline sizes
  headline: {
    lg: { size: '2rem', lineHeight: 1.15, letterSpacing: '-0.015em', weight: 500 },
    md: { size: '1.5rem', lineHeight: 1.25, letterSpacing: '-0.01em', weight: 500 },
    sm: { size: '1.25rem', lineHeight: 1.3, letterSpacing: '0', weight: 500 },
  },
  // Body sizes
  body: {
    lg: { size: '1.25rem', lineHeight: 1.7, letterSpacing: '0', weight: 400 },
    md: { size: '1.125rem', lineHeight: 1.75, letterSpacing: '0.005em', weight: 400 },
    sm: { size: '1rem', lineHeight: 1.7, letterSpacing: '0.01em', weight: 400 },
  },
  // UI sizes
  ui: {
    lg: { size: '1rem', lineHeight: 1.5, letterSpacing: '0.01em', weight: 500 },
    md: { size: '0.875rem', lineHeight: 1.5, letterSpacing: '0.015em', weight: 500 },
    sm: { size: '0.75rem', lineHeight: 1.4, letterSpacing: '0.02em', weight: 500 },
    xs: { size: '0.6875rem', lineHeight: 1.3, letterSpacing: '0.05em', weight: 600 },
  },
  // Mono sizes (for data, stats)
  mono: {
    display: { size: '3.5rem', lineHeight: 1, letterSpacing: '-0.02em', weight: 500 },
    lg: { size: '2rem', lineHeight: 1.1, letterSpacing: '-0.01em', weight: 500 },
    md: { size: '1rem', lineHeight: 1.4, letterSpacing: '0', weight: 400 },
    sm: { size: '0.8125rem', lineHeight: 1.4, letterSpacing: '0.02em', weight: 400 },
  },
};

// =============================================================================
// SPACING - Editorial rhythm (based on 8px grid, with intentional jumps)
// =============================================================================
const SPACE = {
  0: '0',
  1: '0.25rem',   // 4px
  2: '0.5rem',    // 8px
  3: '0.75rem',   // 12px
  4: '1rem',      // 16px
  5: '1.5rem',    // 24px
  6: '2rem',      // 32px
  7: '2.5rem',    // 40px
  8: '3rem',      // 48px
  9: '4rem',      // 64px
  10: '5rem',     // 80px
  11: '6rem',     // 96px
  12: '8rem',     // 128px
  section: '4rem', // Standard section padding
  article: '3rem', // Article rhythm
};

// =============================================================================
// LAYOUT - Editorial grid
// =============================================================================
const LAYOUT = {
  maxWidth: {
    prose: '52rem',      // ~832px - comfortable reading width
    content: '64rem',    // ~1024px - main content area
    wide: '80rem',       // ~1280px - full-bleed content
    full: '96rem',       // ~1536px - max container
  },
  gutter: '2rem',
  margin: 'clamp(1.5rem, 5vw, 4rem)',
};

// =============================================================================
// EFFECTS - Subtle, print-inspired
// =============================================================================
const EFFECTS = {
  // Shadows - soft, paper-like
  shadow: {
    sm: '0 1px 2px rgba(0,0,0,0.04), 0 1px 3px rgba(0,0,0,0.06)',
    md: '0 2px 4px rgba(0,0,0,0.03), 0 4px 12px rgba(0,0,0,0.06)',
    lg: '0 4px 8px rgba(0,0,0,0.03), 0 12px 32px rgba(0,0,0,0.08)',
    xl: '0 8px 16px rgba(0,0,0,0.04), 0 24px 64px rgba(0,0,0,0.1)',
    inset: 'inset 0 1px 2px rgba(0,0,0,0.06)',
  },
  // Border radii - minimal, editorial
  radius: {
    none: '0',
    sm: '2px',
    md: '4px',
    lg: '8px',
    xl: '12px',
    full: '9999px',
  },
  // Transitions
  transition: {
    fast: '150ms ease',
    base: '250ms ease',
    slow: '400ms ease',
    spring: '500ms cubic-bezier(0.34, 1.56, 0.64, 1)',
    expand: '400ms cubic-bezier(0.4, 0, 0.2, 1)',  // Smooth expand/collapse
  },
  // Noise texture (applied via CSS)
  noise: `url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`,
};

// =============================================================================
// CHART COLORS - Sophisticated data palette
// =============================================================================
const CHART_COLORS = [
  COLORS.accent.primary,   // Primary data series
  COLORS.ink[400],         // Secondary
  COLORS.accent.muted,     // Tertiary
  COLORS.ink[300],         // Quaternary
];

// =============================================================================
// COMPONENT CONFIGS
// =============================================================================
const roleConfigs = {
  'PMs': {
    bg: COLORS.accent.wash,
    text: COLORS.accent.primary,
    border: `${COLORS.accent.primary}30`
  },
  'Designers': {
    bg: COLORS.ink[100],
    text: COLORS.ink[700],
    border: COLORS.ink[200]
  },
  'Engineers': {
    bg: COLORS.accent.wash,
    text: COLORS.accent.primary,
    border: `${COLORS.accent.primary}30`
  },
};

const targetConfigs = {
  'Engineering': { bg: COLORS.accent.primary, glow: COLORS.accent.glow },
  'Eng & PM': { bg: COLORS.ink[800], glow: 'rgba(0,0,0,0.15)' },
  'Product': { bg: COLORS.accent.light, glow: COLORS.accent.glow },
};

// =============================================================================
// SVG ICONS - Refined, minimal strokes
// =============================================================================
const Icons = {
  briefcase: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <rect x="2" y="7" width="20" height="14" rx="2"/>
      <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
    </svg>
  ),
  code: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <polyline points="16 18 22 12 16 6"/>
      <polyline points="8 6 2 12 8 18"/>
    </svg>
  ),
  rocket: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/>
      <path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/>
      <path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/>
      <path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/>
    </svg>
  ),
  palette: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <circle cx="13.5" cy="6.5" r=".5" fill={color}/>
      <circle cx="17.5" cy="10.5" r=".5" fill={color}/>
      <circle cx="8.5" cy="7.5" r=".5" fill={color}/>
      <circle cx="6.5" cy="12.5" r=".5" fill={color}/>
      <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.555C21.965 6.012 17.461 2 12 2z"/>
    </svg>
  ),
  network: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <circle cx="12" cy="5" r="3"/>
      <line x1="12" y1="8" x2="12" y2="12"/>
      <circle cx="6" cy="17" r="3"/>
      <line x1="9" y1="15.4" x2="10.5" y2="12.6"/>
      <circle cx="18" cy="17" r="3"/>
      <line x1="15" y1="15.4" x2="13.5" y2="12.6"/>
    </svg>
  ),
  graduation: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <path d="m22 10-10-5L2 10l10 5 10-5v6"/>
      <path d="M6 12v5c3 3 9 3 12 0v-5"/>
    </svg>
  ),
  lightbulb: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/>
      <path d="M9 18h6"/>
      <path d="M10 22h4"/>
    </svg>
  ),
  chart: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <line x1="18" y1="20" x2="18" y2="10"/>
      <line x1="12" y1="20" x2="12" y2="4"/>
      <line x1="6" y1="20" x2="6" y2="14"/>
    </svg>
  ),
  users: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
      <circle cx="9" cy="7" r="4"/>
      <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
      <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
    </svg>
  ),
  shield: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
      <path d="m9 12 2 2 4-4"/>
    </svg>
  ),
  zap: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
    </svg>
  ),
  target: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <circle cx="12" cy="12" r="10"/>
      <circle cx="12" cy="12" r="6"/>
      <circle cx="12" cy="12" r="2"/>
    </svg>
  ),
  layers: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <polygon points="12 2 2 7 12 12 22 7 12 2"/>
      <polyline points="2 17 12 22 22 17"/>
      <polyline points="2 12 12 17 22 12"/>
    </svg>
  ),
  cpu: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <rect x="4" y="4" width="16" height="16" rx="2"/>
      <rect x="9" y="9" width="6" height="6"/>
      <path d="M9 1v3"/>
      <path d="M15 1v3"/>
      <path d="M9 20v3"/>
      <path d="M15 20v3"/>
      <path d="M20 9h3"/>
      <path d="M20 14h3"/>
      <path d="M1 9h3"/>
      <path d="M1 14h3"/>
    </svg>
  ),
  database: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <ellipse cx="12" cy="5" rx="9" ry="3"/>
      <path d="M3 5v14a9 3 0 0 0 18 0V5"/>
      <path d="M3 12a9 3 0 0 0 18 0"/>
    </svg>
  ),
  arrowRight: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
      <line x1="5" y1="12" x2="19" y2="12"/>
      <polyline points="12 5 19 12 12 19"/>
    </svg>
  ),
  quote: (color) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill={color}>
      <path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V21c0 1 0 1 1 1z"/>
      <path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"/>
    </svg>
  ),
};

// Helper to get icon by name with fallback
const getIcon = (name, color) => {
  const IconFn = Icons[name];
  return IconFn ? IconFn(color) : Icons.lightbulb(color);
};

// =============================================================================
// LEGACY EXPORTS (for backwards compatibility)
// =============================================================================
const TOKENS = {
  colors: COLORS,
  fonts: FONTS,
  effects: EFFECTS,
  space: SPACE,
  layout: LAYOUT,
};

// ============================================================================
// COMPONENTS
// ============================================================================

/**
 * RichText Component
 * Parses markdown-style formatting into React elements
 */


const RichText = ({ children, className = '' }) => {
  if (!children || typeof children !== 'string') {
    return <span className={className}>{children}</span>;
  }

  const parseText = (text) => {
    const elements = [];
    let key = 0;

    // Simple sequential parsing - process bold first, then italic
    let result = text;

    // Replace bold first (** **) - must come before italic
    result = result.replace(/\*\*([^*]+)\*\*/g, '___BOLD_START___$1___BOLD_END___');

    // Replace italic (* *) - simple version without lookbehind
    // This regex matches single asterisks that aren't part of bold markers
    result = result.replace(/\*([^*_]+)\*/g, '___ITALIC_START___$1___ITALIC_END___');

    // Replace links
    result = result.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '___LINK_START___$1___LINK_SEP___$2___LINK_END___');

    // Replace citations
    result = result.replace(/\[(\d+)\]/g, '___CITE_START___$1___CITE_END___');

    // Now parse the marked string into React elements
    const parts = result.split(/(___[A-Z_]+___)/);

    let inBold = false;
    let inItalic = false;
    let linkText = '';
    let linkUrl = '';
    let inLink = false;
    let inLinkUrl = false;
    let citeNum = '';
    let inCite = false;

    parts.forEach((part) => {
      if (part === '___BOLD_START___') {
        inBold = true;
      } else if (part === '___BOLD_END___') {
        inBold = false;
      } else if (part === '___ITALIC_START___') {
        inItalic = true;
      } else if (part === '___ITALIC_END___') {
        inItalic = false;
      } else if (part === '___LINK_START___') {
        inLink = true;
        linkText = '';
      } else if (part === '___LINK_SEP___') {
        inLinkUrl = true;
        linkUrl = '';
      } else if (part === '___LINK_END___') {
        elements.push(
          <a key={key++} href={linkUrl} className="text-indigo-600 hover:text-indigo-800 underline" target="_blank" rel="noopener noreferrer">
            {linkText}
          </a>
        );
        inLink = false;
        inLinkUrl = false;
      } else if (part === '___CITE_START___') {
        inCite = true;
        citeNum = '';
      } else if (part === '___CITE_END___') {
        elements.push(
          <sup key={key++} className="text-indigo-600 cursor-pointer hover:text-indigo-800 ml-0.5">
            [{citeNum}]
          </sup>
        );
        inCite = false;
      } else if (part) {
        if (inCite) {
          citeNum = part;
        } else if (inLink && !inLinkUrl) {
          linkText = part;
        } else if (inLinkUrl) {
          linkUrl = part;
        } else if (inBold) {
          elements.push(<strong key={key++}>{part}</strong>);
        } else if (inItalic) {
          elements.push(<em key={key++}>{part}</em>);
        } else {
          elements.push(part);
        }
      }
    });

    return elements;
  };

  return <span className={className}>{parseText(children)}</span>;
};

/**
 * Header Component - "The Scholarly Disruptor"
 *
 * Editorial magazine aesthetic - lighter, more compelling
 * - Cream/paper background with subtle warmth
 * - Bold asymmetric typography
 * - Geometric accent elements
 * - Magazine cover composition
 */



const Header = ({ data, heroQuote }) => {
  const { from, fromEmail, linkedin, github, headshot, date, subtitle } = data;
  // Default quote if none provided
  const quote = heroQuote || {
    quote: "The separation between 'people with ideas' and 'people who can build' is shrinking.",
    author: '',
    title: '',
  };
  const [imageError, setImageError] = useState(false);

  // Get initials for fallback
  const getInitials = (name) => {
    return name
      .split(' ')
      .map(word => word[0])
      .join('')
      .toUpperCase()
      .slice(0, 2);
  };

  return (
    <header
      style={{
        position: 'relative',
        overflow: 'hidden',
        minHeight: '100vh',
        display: 'flex',
        flexDirection: 'column',
        background: `linear-gradient(170deg, #f8f9fc 0%, #eef1f8 30%, #e8edf5 60%, #f5f7fa 100%)`,
      }}
    >
      {/* Subtle grid pattern overlay */}
      <div
        style={{
          position: 'absolute',
          inset: 0,
          backgroundImage: `
            linear-gradient(#94a3b820 1px, transparent 1px),
            linear-gradient(90deg, #94a3b820 1px, transparent 1px)
          `,
          backgroundSize: '60px 60px',
          opacity: 0.5,
          pointerEvents: 'none',
        }}
      />

      {/* Gradient accent shapes - colorful */}
      <div
        style={{
          position: 'absolute',
          top: '-15%',
          right: '-5%',
          width: '55%',
          height: '70%',
          background: `radial-gradient(ellipse at center, #6366f120 0%, #8b5cf615 40%, transparent 70%)`,
          pointerEvents: 'none',
        }}
      />
      <div
        style={{
          position: 'absolute',
          top: '20%',
          left: '-10%',
          width: '45%',
          height: '50%',
          background: `radial-gradient(ellipse at center, #3b82f615 0%, #06b6d410 50%, transparent 70%)`,
          pointerEvents: 'none',
        }}
      />
      <div
        style={{
          position: 'absolute',
          bottom: '-5%',
          right: '20%',
          width: '40%',
          height: '45%',
          background: `radial-gradient(ellipse at center, #f59e0b10 0%, #f9731608 50%, transparent 65%)`,
          pointerEvents: 'none',
        }}
      />


      {/* Top navigation bar */}
      <nav
        style={{
          position: 'relative',
          zIndex: 10,
          padding: '1.5rem 0',
          borderBottom: `1px solid ${COLORS.ink[200]}`,
        }}
      >
        <div
          style={{
            maxWidth: LAYOUT.maxWidth.wide,
            margin: '0 auto',
            padding: `0 ${LAYOUT.margin}`,
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center',
          }}
        >
          {/* Logo/Brand mark */}
          <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>
            <div
              style={{
                width: '40px',
                height: '40px',
                background: COLORS.accent.primary,
                borderRadius: EFFECTS.radius.md,
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                boxShadow: EFFECTS.shadow.md,
              }}
            >
              <span
                style={{
                  color: 'white',
                  fontFamily: FONTS.display,
                  fontSize: '1.25rem',
                  fontWeight: 500,
                }}
              >
                M
              </span>
            </div>
            <div>
              <span
                style={{
                  fontFamily: FONTS.ui,
                  fontSize: TYPE_SCALE.ui.sm.size,
                  fontWeight: 600,
                  letterSpacing: '0.08em',
                  textTransform: 'uppercase',
                  color: COLORS.ink[700],
                  display: 'block',
                }}
              >
                McCormick School
              </span>
              <span
                style={{
                  fontFamily: FONTS.ui,
                  fontSize: TYPE_SCALE.ui.xs.size,
                  letterSpacing: '0.05em',
                  color: COLORS.ink[400],
                  textTransform: 'uppercase',
                }}
              >
                Northwestern University
              </span>
            </div>
          </div>

          {/* Date badge */}
          <div
            style={{
              display: 'flex',
              alignItems: 'center',
              gap: '0.75rem',
              padding: '0.5rem 1rem',
              background: COLORS.surface.elevated,
              borderRadius: EFFECTS.radius.full,
              border: `1px solid ${COLORS.ink[200]}`,
              boxShadow: EFFECTS.shadow.sm,
            }}
          >
            <div
              style={{
                width: '8px',
                height: '8px',
                borderRadius: EFFECTS.radius.full,
                background: COLORS.accent.primary,
              }}
            />
            <span
              style={{
                fontFamily: FONTS.mono,
                fontSize: TYPE_SCALE.mono.sm.size,
                color: COLORS.ink[600],
                letterSpacing: '0.02em',
              }}
            >
              {date}
            </span>
          </div>
        </div>
      </nav>

      {/* Main hero content */}
      <div
        style={{
          position: 'relative',
          zIndex: 10,
          flex: 1,
          display: 'flex',
          alignItems: 'center',
          maxWidth: LAYOUT.maxWidth.wide,
          width: '100%',
          margin: '0 auto',
          padding: `${SPACE[10]} ${LAYOUT.margin}`,
        }}
      >
        <div
          style={{
            display: 'grid',
            gridTemplateColumns: 'repeat(12, 1fr)',
            gap: '2rem',
            width: '100%',
            alignItems: 'center',
          }}
        >
          {/* Left column - Main content */}
          <div style={{ gridColumn: 'span 8' }}>
            {/* Kicker/Category */}
            <div
              style={{
                display: 'inline-flex',
                alignItems: 'center',
                gap: '0.75rem',
                marginBottom: '2rem',
              }}
            >
              <div
                style={{
                  width: '32px',
                  height: '2px',
                  background: COLORS.accent.primary,
                }}
              />
              <span
                style={{
                  fontFamily: FONTS.ui,
                  fontSize: TYPE_SCALE.ui.sm.size,
                  fontWeight: 600,
                  letterSpacing: '0.15em',
                  textTransform: 'uppercase',
                  color: COLORS.accent.primary,
                }}
              >
                Faculty Proposal
              </span>
            </div>

            {/* Main title */}
            <h1
              style={{
                fontFamily: FONTS.display,
                fontSize: 'clamp(3rem, 8vw, 6rem)',
                fontWeight: 400,
                lineHeight: 0.95,
                letterSpacing: '-0.03em',
                color: COLORS.ink[900],
                marginBottom: '1.5rem',
              }}
            >
              <span style={{ display: 'block' }}>The</span>
              <span
                style={{
                  display: 'block',
                  background: `linear-gradient(135deg, ${COLORS.accent.primary} 0%, ${COLORS.accent.light} 100%)`,
                  WebkitBackgroundClip: 'text',
                  WebkitTextFillColor: 'transparent',
                  backgroundClip: 'text',
                }}
              >
                Product
              </span>
              <span
                style={{
                  display: 'block',
                  fontStyle: 'italic',
                }}
              >
                Engineer
              </span>
            </h1>

            {/* Subtitle/Dek */}
            <p
              style={{
                fontFamily: FONTS.body,
                fontSize: 'clamp(1.125rem, 2vw, 1.375rem)',
                lineHeight: 1.6,
                color: COLORS.ink[500],
                maxWidth: '36rem',
                marginBottom: '3rem',
              }}
            >
              {subtitle}
            </p>

            {/* Author info - horizontal card */}
            <div
              style={{
                display: 'inline-flex',
                alignItems: 'center',
                gap: '1.25rem',
                padding: '1rem 1.5rem',
                background: COLORS.surface.elevated,
                borderRadius: EFFECTS.radius.xl,
                border: `1px solid ${COLORS.ink[200]}`,
                boxShadow: EFFECTS.shadow.lg,
              }}
            >
              {/* Headshot with fallback */}
              <div
                style={{
                  width: '56px',
                  height: '56px',
                  borderRadius: EFFECTS.radius.full,
                  overflow: 'hidden',
                  border: `3px solid ${COLORS.accent.primary}`,
                  background: imageError
                    ? `linear-gradient(135deg, ${COLORS.accent.primary} 0%, ${COLORS.accent.light} 100%)`
                    : COLORS.ink[100],
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  flexShrink: 0,
                }}
              >
                {!imageError && headshot ? (
                  <img
                    src={headshot}
                    alt={from}
                    onError={() => setImageError(true)}
                    style={{
                      width: '100%',
                      height: '100%',
                      objectFit: 'cover',
                    }}
                  />
                ) : (
                  <span
                    style={{
                      fontFamily: FONTS.ui,
                      fontSize: '1.25rem',
                      fontWeight: 600,
                      color: 'white',
                    }}
                  >
                    {getInitials(from)}
                  </span>
                )}
              </div>

              <div>
                <p
                  style={{
                    fontFamily: FONTS.ui,
                    fontSize: TYPE_SCALE.ui.lg.size,
                    fontWeight: 600,
                    color: COLORS.ink[800],
                    marginBottom: '0.25rem',
                  }}
                >
                  {from}
                </p>
                {fromEmail && (
                  <a
                    href={`mailto:${fromEmail}`}
                    style={{
                      fontFamily: FONTS.mono,
                      fontSize: TYPE_SCALE.mono.sm.size,
                      color: COLORS.ink[500],
                      textDecoration: 'none',
                      display: 'block',
                      marginBottom: '0.5rem',
                    }}
                  >
                    {fromEmail}
                  </a>
                )}
                {/* Social links */}
                <div style={{ display: 'flex', gap: '0.75rem' }}>
                  {linkedin && (
                    <a
                      href={linkedin}
                      target="_blank"
                      rel="noopener noreferrer"
                      style={{
                        width: '28px',
                        height: '28px',
                        borderRadius: EFFECTS.radius.md,
                        background: COLORS.ink[100],
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        color: COLORS.ink[500],
                        textDecoration: 'none',
                        transition: 'all 0.2s ease',
                      }}
                      title="LinkedIn"
                    >
                      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                      </svg>
                    </a>
                  )}
                  {github && (
                    <a
                      href={github}
                      target="_blank"
                      rel="noopener noreferrer"
                      style={{
                        width: '28px',
                        height: '28px',
                        borderRadius: EFFECTS.radius.md,
                        background: COLORS.ink[100],
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        color: COLORS.ink[500],
                        textDecoration: 'none',
                        transition: 'all 0.2s ease',
                      }}
                      title="GitHub"
                    >
                      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                      </svg>
                    </a>
                  )}
                </div>
              </div>
            </div>
          </div>

          {/* Right column - Hero quote */}
          <div
            style={{
              gridColumn: 'span 4',
              display: 'flex',
              flexDirection: 'column',
              alignItems: 'flex-start',
              gap: '1.5rem',
            }}
          >
            {/* Hero quote */}
            <div
              style={{
                position: 'relative',
                padding: '2rem',
                background: COLORS.surface.elevated,
                borderRadius: EFFECTS.radius.xl,
                border: `1px solid ${COLORS.ink[200]}`,
                boxShadow: EFFECTS.shadow.lg,
              }}
            >
              {/* Large quotation mark */}
              <div
                style={{
                  position: 'absolute',
                  top: '-0.5rem',
                  left: '1.5rem',
                  fontFamily: FONTS.display,
                  fontSize: '5rem',
                  fontWeight: 400,
                  lineHeight: 1,
                  color: COLORS.accent.primary,
                  opacity: 0.2,
                  userSelect: 'none',
                }}
              >
                "
              </div>
              <blockquote
                style={{
                  position: 'relative',
                  fontFamily: FONTS.body,
                  fontSize: 'clamp(1.125rem, 1.5vw, 1.375rem)',
                  fontWeight: 400,
                  lineHeight: 1.5,
                  color: COLORS.ink[700],
                  fontStyle: 'italic',
                  margin: 0,
                }}
              >
                {quote.quote}
              </blockquote>

              {/* Attribution */}
              {quote.author && (
                <div
                  style={{
                    marginTop: '1rem',
                    display: 'flex',
                    alignItems: 'center',
                    gap: '0.5rem',
                  }}
                >
                  <span
                    style={{
                      width: '12px',
                      height: '1px',
                      background: COLORS.ink[300],
                    }}
                  />
                  <span
                    style={{
                      fontFamily: FONTS.ui,
                      fontSize: TYPE_SCALE.ui.sm.size,
                      fontWeight: 600,
                      color: COLORS.ink[600],
                    }}
                  >
                    {quote.author}
                  </span>
                  {quote.title && (
                    <>
                      <span style={{ color: COLORS.ink[300] }}>·</span>
                      <span
                        style={{
                          fontFamily: FONTS.ui,
                          fontSize: TYPE_SCALE.ui.sm.size,
                          color: COLORS.ink[400],
                        }}
                      >
                        {quote.title}
                      </span>
                    </>
                  )}
                </div>
              )}

              {/* Accent bar (only if no attribution) */}
              {!quote.author && (
                <div
                  style={{
                    marginTop: '1.25rem',
                    width: '48px',
                    height: '3px',
                    background: `linear-gradient(90deg, ${COLORS.accent.primary} 0%, ${COLORS.accent.light} 100%)`,
                    borderRadius: EFFECTS.radius.full,
                  }}
                />
              )}
            </div>
          </div>
        </div>
      </div>

      {/* Scroll indicator - centered */}
      <div
        style={{
          position: 'relative',
          zIndex: 10,
          padding: `0 ${LAYOUT.margin} 3rem`,
        }}
      >
        <div
          style={{
            maxWidth: LAYOUT.maxWidth.wide,
            margin: '0 auto',
            display: 'flex',
            flexDirection: 'column',
            alignItems: 'center',
            gap: '0.75rem',
          }}
        >
          <div
            style={{
              width: '1px',
              height: '40px',
              background: `linear-gradient(to bottom, ${COLORS.accent.primary}, transparent)`,
            }}
          />
          <div
            style={{
              width: '8px',
              height: '8px',
              borderRadius: EFFECTS.radius.full,
              background: COLORS.accent.primary,
              animation: 'pulse 2s ease-in-out infinite',
            }}
          />
          <span
            style={{
              fontFamily: FONTS.mono,
              fontSize: TYPE_SCALE.mono.sm.size,
              color: COLORS.ink[400],
              letterSpacing: '0.1em',
              textTransform: 'uppercase',
            }}
          >
            Scroll to explore
          </span>
        </div>
      </div>

      {/* CSS animation */}
      <style>{`
        @keyframes pulse {
          0%, 100% { opacity: 1; transform: scale(1); }
          50% { opacity: 0.5; transform: scale(0.8); }
        }
      `}</style>
    </header>
  );
};

/**
 * CardGrid Component - "The Scholarly Disruptor"
 *
 * Editorial magazine aesthetic with distinct card personalities:
 * - Feature: Bold editorial callouts with dramatic numbering
 * - Profile: Refined requirement cards with vertical rhythm
 * - Topic: Expandable curriculum cards with audience tags
 */




// =============================================================================
// FEATURE CARD - Bold editorial callouts for strategic pillars
// Large numbers, dramatic typography, asymmetric layout
// =============================================================================
const FeatureCard = ({ card, index }) => {
  const [isHovered, setIsHovered] = useState(false);
  const number = String(index + 1).padStart(2, '0');

  return (
    <div
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
      style={{
        position: 'relative',
        background: COLORS.surface.elevated,
        borderRadius: EFFECTS.radius.lg,
        padding: `${SPACE[8]} ${SPACE[6]} ${SPACE[6]}`,
        border: `1px solid ${isHovered ? COLORS.ink[300] : COLORS.ink[200]}`,
        boxShadow: isHovered ? EFFECTS.shadow.lg : EFFECTS.shadow.md,
        overflow: 'hidden',
        minHeight: '280px',
        display: 'flex',
        flexDirection: 'column',
        transform: isHovered ? 'translateY(-2px)' : 'translateY(0)',
        transition: `all ${EFFECTS.transition.base}`,
      }}
    >
      {/* Large background number */}
      <div
        style={{
          position: 'absolute',
          top: '-0.5rem',
          right: '0.5rem',
          fontFamily: FONTS.display,
          fontSize: '8rem',
          fontWeight: 300,
          lineHeight: 1,
          color: COLORS.ink[100],
          userSelect: 'none',
          pointerEvents: 'none',
        }}
      >
        {number}
      </div>

      {/* Top accent line */}
      <div
        style={{
          position: 'absolute',
          top: 0,
          left: 0,
          width: '100%',
          height: '3px',
          background: index === 0
            ? COLORS.accent.primary
            : `linear-gradient(90deg, ${COLORS.ink[300]} 0%, ${COLORS.ink[200]} 100%)`,
        }}
      />

      {/* Content */}
      <div style={{ position: 'relative', zIndex: 1, flex: 1, display: 'flex', flexDirection: 'column' }}>
        {/* Title */}
        <h4
          style={{
            fontFamily: FONTS.headline,
            fontWeight: TYPE_SCALE.headline.md.weight,
            fontSize: TYPE_SCALE.headline.md.size,
            lineHeight: TYPE_SCALE.headline.md.lineHeight,
            letterSpacing: TYPE_SCALE.headline.md.letterSpacing,
            color: COLORS.ink[800],
            marginBottom: SPACE[4],
            maxWidth: '85%',
          }}
        >
          {card.title}
        </h4>

        {/* Description */}
        <p
          style={{
            fontFamily: FONTS.body,
            fontSize: TYPE_SCALE.body.sm.size,
            lineHeight: TYPE_SCALE.body.sm.lineHeight,
            color: COLORS.ink[500],
            margin: 0,
            marginTop: 'auto',
          }}
        >
          <RichText>{card.content}</RichText>
        </p>
      </div>
    </div>
  );
};

// =============================================================================
// PROFILE CARD - Refined requirement cards (expandable when has expandedContent)
// Clean lines, subtle hierarchy, professional restraint
// =============================================================================
const ProfileCard = ({ card, index, isExpanded, onToggle, hasExpandedContent }) => {
  const [isHovered, setIsHovered] = useState(false);
  const isFirst = index === 0;
  const canExpand = hasExpandedContent && card.expandedContent;

  const cardContent = (
    <div
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
      style={{
        position: 'relative',
        background: isFirst ? COLORS.ink[900] : COLORS.surface.elevated,
        borderRadius: EFFECTS.radius.md,
        border: isFirst ? 'none' : `1px solid ${isExpanded ? COLORS.accent.primary : (isHovered ? COLORS.ink[300] : COLORS.ink[200])}`,
        boxShadow: isFirst ? EFFECTS.shadow.xl : (isExpanded || isHovered ? EFFECTS.shadow.md : EFFECTS.shadow.sm),
        overflow: 'hidden',
        display: 'flex',
        flexDirection: 'column',
        height: '100%',
        transform: isHovered && !isExpanded && !isFirst ? 'translateY(-2px)' : 'translateY(0)',
        transition: `all ${EFFECTS.transition.base}`,
      }}
    >
      {/* Clickable header area */}
      <div
        style={{
          padding: SPACE[5],
          cursor: canExpand ? 'pointer' : 'default',
          flex: canExpand ? 'none' : 1,
          display: 'flex',
          flexDirection: 'column',
        }}
        onClick={canExpand ? onToggle : undefined}
      >
        {/* Header row with icon and title */}
        <div
          style={{
            display: 'flex',
            alignItems: 'flex-start',
            gap: SPACE[4],
            marginBottom: SPACE[4],
          }}
        >
          {/* Icon container */}
          <div
            style={{
              width: '40px',
              height: '40px',
              borderRadius: EFFECTS.radius.md,
              background: isFirst
                ? 'rgba(255,255,255,0.1)'
                : (isExpanded ? COLORS.accent.wash : COLORS.surface.inset),
              border: `1px solid ${isFirst ? 'rgba(255,255,255,0.15)' : (isExpanded ? COLORS.accent.primary + '40' : COLORS.ink[200])}`,
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              flexShrink: 0,
              transition: EFFECTS.transition.base,
            }}
          >
            {getIcon(card.icon, isFirst ? 'rgba(255,255,255,0.9)' : (isExpanded ? COLORS.accent.primary : COLORS.ink[500]))}
          </div>

          {/* Title and expand indicator */}
          <div style={{ flex: 1, display: 'flex', alignItems: 'flex-start', justifyContent: 'space-between', gap: SPACE[2] }}>
            <h4
              style={{
                fontFamily: FONTS.ui,
                fontWeight: 600,
                fontSize: TYPE_SCALE.ui.lg.size,
                lineHeight: 1.3,
                color: isFirst ? '#FFFFFF' : COLORS.ink[800],
                margin: 0,
                paddingTop: '0.25rem',
              }}
            >
              {card.title}
            </h4>

            {/* Expand indicator for expandable cards */}
            {canExpand && (
              <div
                style={{
                  width: '24px',
                  height: '24px',
                  borderRadius: EFFECTS.radius.full,
                  background: isFirst
                    ? 'rgba(255,255,255,0.15)'
                    : (isExpanded ? COLORS.accent.primary : COLORS.surface.inset),
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  flexShrink: 0,
                  transition: EFFECTS.transition.base,
                  marginTop: '0.25rem',
                }}
              >
                <svg
                  width="12"
                  height="12"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke={isFirst ? 'rgba(255,255,255,0.8)' : (isExpanded ? '#FFFFFF' : COLORS.ink[400])}
                  strokeWidth="2"
                  style={{
                    transform: isExpanded ? 'rotate(180deg)' : 'rotate(0deg)',
                    transition: EFFECTS.transition.base,
                  }}
                >
                  <path d="M6 9l6 6 6-6" strokeLinecap="round" strokeLinejoin="round"/>
                </svg>
              </div>
            )}
          </div>
        </div>

        {/* Summary description */}
        <p
          style={{
            fontFamily: FONTS.body,
            fontSize: TYPE_SCALE.body.sm.size,
            lineHeight: TYPE_SCALE.body.sm.lineHeight,
            color: isFirst ? 'rgba(255,255,255,0.7)' : COLORS.ink[500],
            margin: 0,
            paddingLeft: `calc(40px + ${SPACE[4]})`,
            flex: canExpand ? 'none' : 1,
          }}
        >
          <RichText>{card.content}</RichText>
        </p>
      </div>

      {/* Expanded content with smooth animation */}
      {canExpand && (
        <div
          style={{
            maxHeight: isExpanded ? '500px' : '0px',
            opacity: isExpanded ? 1 : 0,
            overflow: 'hidden',
            transition: `max-height ${EFFECTS.transition.expand}, opacity ${EFFECTS.transition.base}`,
          }}
        >
          <div
            style={{
              padding: `0 ${SPACE[5]} ${SPACE[5]}`,
              paddingLeft: `calc(40px + ${SPACE[4]} + ${SPACE[5]})`,
              borderTop: `1px solid ${isFirst ? 'rgba(255,255,255,0.1)' : COLORS.ink[100]}`,
              background: isFirst ? 'rgba(0,0,0,0.2)' : COLORS.surface.paper,
            }}
          >
            <p
              style={{
                fontFamily: FONTS.body,
                fontSize: TYPE_SCALE.body.sm.size,
                lineHeight: TYPE_SCALE.body.sm.lineHeight,
                color: isFirst ? 'rgba(255,255,255,0.8)' : COLORS.ink[600],
                margin: 0,
                paddingTop: SPACE[4],
              }}
            >
              <RichText>{card.expandedContent}</RichText>
            </p>
          </div>
        </div>
      )}

      {/* Subtle bottom border accent for first card */}
      {isFirst && (
        <div
          style={{
            position: 'absolute',
            bottom: 0,
            left: SPACE[5],
            right: SPACE[5],
            height: '2px',
            background: `linear-gradient(90deg, ${COLORS.accent.primary} 0%, ${COLORS.accent.light} 100%)`,
            borderRadius: EFFECTS.radius.full,
          }}
        />
      )}
    </div>
  );

  return cardContent;
};

// =============================================================================
// TOPIC CARD CONTENT PARSER
// Parses structured curriculum content into visual sections
// =============================================================================
const parseTopicContent = (content) => {
  if (!content) return { intro: '', teachings: [], technologies: '' };

  // Split content by the main sections
  const parts = {
    intro: '',
    teachings: [],
    technologies: '',
  };

  // Find "What I Teach:" or "What John Teaches:" section
  const teachMatch = content.match(/\*\*What (?:I|John) Teach(?:es)?:\*\*\s*([\s\S]*?)(?=\*\*Technologies:\*\*|$)/i);
  const techMatch = content.match(/\*\*Technologies:\*\*\s*([\s\S]*?)$/i);

  // Everything before "What I Teach" is intro
  const introEnd = content.search(/\*\*What (?:I|John) Teach/i);
  if (introEnd > 0) {
    parts.intro = content.substring(0, introEnd).trim();
  } else if (!teachMatch && !techMatch) {
    parts.intro = content;
  }

  // Parse teachings - handle both bullet points (•) and inline format
  if (teachMatch) {
    const teachContent = teachMatch[1].trim();
    // Check if it has bullet points
    if (teachContent.includes('•')) {
      parts.teachings = teachContent.split('•')
        .map(t => t.trim())
        .filter(t => t.length > 0);
    } else {
      // Single paragraph teaching description
      parts.teachings = [teachContent];
    }
  }

  // Parse technologies
  if (techMatch) {
    parts.technologies = techMatch[1].trim();
  }

  return parts;
};

// =============================================================================
// TOPIC CARD - Curriculum catalog with audience tags
// Expandable, tagged, informative
// =============================================================================
const TopicCard = ({ card, index, isExpanded, onToggle }) => {
  const [isHovered, setIsHovered] = useState(false);
  const parsedContent = parseTopicContent(card.expandedContent || card.content);

  return (
    <div
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
      style={{
        background: COLORS.surface.elevated,
        borderRadius: EFFECTS.radius.md,
        border: `1px solid ${isExpanded ? COLORS.accent.primary : (isHovered ? COLORS.ink[300] : COLORS.ink[200])}`,
        overflow: 'hidden',
        boxShadow: isExpanded || isHovered ? EFFECTS.shadow.md : EFFECTS.shadow.sm,
        transform: isHovered && !isExpanded ? 'translateY(-1px)' : 'translateY(0)',
        transition: `all ${EFFECTS.transition.base}`,
      }}
    >
      {/* Header button */}
      <button
        onClick={onToggle}
        style={{
          width: '100%',
          padding: SPACE[5],
          display: 'flex',
          alignItems: 'center',
          gap: SPACE[4],
          textAlign: 'left',
          background: isExpanded ? COLORS.accent.wash : 'transparent',
          border: 'none',
          cursor: 'pointer',
          transition: EFFECTS.transition.base,
        }}
      >
        {/* Index number */}
        <span
          style={{
            fontFamily: FONTS.mono,
            fontSize: TYPE_SCALE.mono.sm.size,
            fontWeight: 600,
            color: isExpanded ? COLORS.accent.primary : COLORS.ink[300],
            width: '24px',
            flexShrink: 0,
          }}
        >
          {String(index + 1).padStart(2, '0')}
        </span>

        {/* Icon */}
        <div
          style={{
            width: '36px',
            height: '36px',
            borderRadius: EFFECTS.radius.md,
            background: isExpanded ? COLORS.accent.primary : COLORS.surface.inset,
            border: `1px solid ${isExpanded ? COLORS.accent.primary : COLORS.ink[200]}`,
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            flexShrink: 0,
            transition: EFFECTS.transition.base,
          }}
        >
          {getIcon(card.icon, isExpanded ? '#FFFFFF' : COLORS.ink[500])}
        </div>

        {/* Title and audience */}
        <div style={{ flex: 1, minWidth: 0 }}>
          <h4
            style={{
              fontFamily: FONTS.ui,
              fontWeight: 600,
              fontSize: TYPE_SCALE.ui.md.size,
              color: COLORS.ink[800],
              margin: 0,
              marginBottom: card.audience ? SPACE[1] : 0,
            }}
          >
            {card.title}
          </h4>
          {card.audience && (
            <span
              style={{
                fontFamily: FONTS.mono,
                fontSize: TYPE_SCALE.mono.sm.size,
                color: COLORS.ink[400],
                letterSpacing: '0.02em',
              }}
            >
              {card.audience}
            </span>
          )}
        </div>

        {/* Expand indicator */}
        <div
          style={{
            width: '28px',
            height: '28px',
            borderRadius: EFFECTS.radius.full,
            background: isExpanded ? COLORS.accent.primary : COLORS.surface.inset,
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            flexShrink: 0,
            transition: EFFECTS.transition.base,
          }}
        >
          <svg
            width="14"
            height="14"
            viewBox="0 0 24 24"
            fill="none"
            stroke={isExpanded ? '#FFFFFF' : COLORS.ink[400]}
            strokeWidth="2"
            style={{
              transform: isExpanded ? 'rotate(180deg)' : 'rotate(0deg)',
              transition: EFFECTS.transition.base,
            }}
          >
            <path d="M6 9l6 6 6-6" strokeLinecap="round" strokeLinejoin="round"/>
          </svg>
        </div>
      </button>

      {/* Expanded content with smooth animation */}
      <div
        style={{
          maxHeight: isExpanded ? '1200px' : '0px',
          opacity: isExpanded ? 1 : 0,
          overflow: 'hidden',
          transition: `max-height ${EFFECTS.transition.expand}, opacity ${EFFECTS.transition.base}`,
        }}
      >
        <div
          style={{
            padding: SPACE[5],
            paddingTop: SPACE[4],
            borderTop: `1px solid ${COLORS.ink[100]}`,
            background: COLORS.surface.paper,
          }}
        >
          {/* Introduction paragraph */}
          {parsedContent.intro && (
            <p
              style={{
                fontFamily: FONTS.body,
                fontSize: TYPE_SCALE.body.md.size,
                lineHeight: TYPE_SCALE.body.md.lineHeight,
                color: COLORS.ink[700],
                margin: 0,
                marginBottom: (parsedContent.teachings.length > 0 || parsedContent.technologies) ? SPACE[5] : 0,
              }}
            >
              <RichText>{parsedContent.intro}</RichText>
            </p>
          )}

          {/* What I Teach section */}
          {parsedContent.teachings.length > 0 && (
            <div
              style={{
                background: COLORS.surface.elevated,
                borderRadius: EFFECTS.radius.md,
                border: `1px solid ${COLORS.ink[200]}`,
                padding: SPACE[4],
                marginBottom: parsedContent.technologies ? SPACE[4] : 0,
              }}
            >
              <h5
                style={{
                  fontFamily: FONTS.ui,
                  fontSize: TYPE_SCALE.ui.sm.size,
                  fontWeight: 600,
                  color: COLORS.accent.primary,
                  textTransform: 'uppercase',
                  letterSpacing: '0.05em',
                  margin: 0,
                  marginBottom: SPACE[3],
                  display: 'flex',
                  alignItems: 'center',
                  gap: SPACE[2],
                }}
              >
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke={COLORS.accent.primary} strokeWidth="2">
                  <path d="M22 10v6M2 10l10-5 10 5-10 5z" strokeLinecap="round" strokeLinejoin="round"/>
                  <path d="M6 12v5c0 2 2 3 6 3s6-1 6-3v-5" strokeLinecap="round" strokeLinejoin="round"/>
                </svg>
                What I Teach
              </h5>
              {parsedContent.teachings.length === 1 ? (
                <p
                  style={{
                    fontFamily: FONTS.body,
                    fontSize: TYPE_SCALE.body.sm.size,
                    lineHeight: TYPE_SCALE.body.sm.lineHeight,
                    color: COLORS.ink[600],
                    margin: 0,
                  }}
                >
                  <RichText>{parsedContent.teachings[0]}</RichText>
                </p>
              ) : (
                <ul
                  style={{
                    margin: 0,
                    padding: 0,
                    listStyle: 'none',
                    display: 'flex',
                    flexDirection: 'column',
                    gap: SPACE[2],
                  }}
                >
                  {parsedContent.teachings.map((item, i) => (
                    <li
                      key={i}
                      style={{
                        fontFamily: FONTS.body,
                        fontSize: TYPE_SCALE.body.sm.size,
                        lineHeight: TYPE_SCALE.body.sm.lineHeight,
                        color: COLORS.ink[600],
                        paddingLeft: SPACE[4],
                        position: 'relative',
                      }}
                    >
                      <span
                        style={{
                          position: 'absolute',
                          left: 0,
                          top: '0.5em',
                          width: '6px',
                          height: '6px',
                          borderRadius: '50%',
                          background: COLORS.accent.light,
                        }}
                      />
                      <RichText>{item}</RichText>
                    </li>
                  ))}
                </ul>
              )}
            </div>
          )}

          {/* Technologies section */}
          {parsedContent.technologies && (
            <div
              style={{
                background: COLORS.ink[50],
                borderRadius: EFFECTS.radius.md,
                padding: SPACE[3],
                display: 'flex',
                flexWrap: 'wrap',
                alignItems: 'center',
                gap: SPACE[2],
              }}
            >
              <span
                style={{
                  fontFamily: FONTS.mono,
                  fontSize: TYPE_SCALE.mono.sm.size,
                  fontWeight: 600,
                  color: COLORS.ink[500],
                  textTransform: 'uppercase',
                  letterSpacing: '0.05em',
                  marginRight: SPACE[2],
                }}
              >
                Tech Stack:
              </span>
              {parsedContent.technologies.split(',').map((tech, i) => (
                <span
                  key={i}
                  style={{
                    fontFamily: FONTS.mono,
                    fontSize: TYPE_SCALE.mono.sm.size,
                    color: COLORS.ink[600],
                    background: COLORS.surface.elevated,
                    border: `1px solid ${COLORS.ink[200]}`,
                    borderRadius: EFFECTS.radius.sm,
                    padding: `${SPACE[1]} ${SPACE[2]}`,
                  }}
                >
                  {tech.trim()}
                </span>
              ))}
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

// =============================================================================
// MAIN CARD GRID
// =============================================================================
const CardGrid = ({ type = 'profile', columns = 3, cards }) => {
  const [expandedIndex, setExpandedIndex] = React.useState(0); // First expanded by default
  const [profileExpandedIndex, setProfileExpandedIndex] = React.useState(null);

  if (!cards || cards.length === 0) return null;

  // Check if any profile cards have expanded content
  const hasExpandableProfiles = type === 'profile' && cards.some(c => c.expandedContent);

  // Grid configuration based on card type
  const gridConfig = {
    feature: {
      gridTemplateColumns: 'repeat(3, 1fr)',
      gap: SPACE[5],
    },
    profile: {
      gridTemplateColumns: hasExpandableProfiles
        ? 'repeat(auto-fit, minmax(340px, 1fr))'
        : 'repeat(auto-fit, minmax(300px, 1fr))',
      gap: SPACE[4],
    },
    topic: {
      gridTemplateColumns: '1fr',
      gap: SPACE[3],
    },
  };

  const config = gridConfig[type] || gridConfig.profile;

  return (
    <div style={{ marginTop: SPACE[6], marginBottom: SPACE[6] }}>
      {/* Section label for topic cards */}
      {type === 'topic' && (
        <div
          style={{
            display: 'flex',
            alignItems: 'center',
            gap: SPACE[3],
            marginBottom: SPACE[5],
          }}
        >
          <div
            style={{
              width: '24px',
              height: '2px',
              background: COLORS.accent.primary,
            }}
          />
          <span
            style={{
              fontFamily: FONTS.mono,
              fontSize: TYPE_SCALE.mono.sm.size,
              fontWeight: 500,
              letterSpacing: '0.1em',
              textTransform: 'uppercase',
              color: COLORS.ink[400],
            }}
          >
            {cards.length} Teaching Areas
          </span>
        </div>
      )}

      {/* Section label for expandable profile cards */}
      {hasExpandableProfiles && (
        <div
          style={{
            display: 'flex',
            alignItems: 'center',
            gap: SPACE[3],
            marginBottom: SPACE[5],
          }}
        >
          <div
            style={{
              width: '24px',
              height: '2px',
              background: COLORS.accent.primary,
            }}
          />
          <span
            style={{
              fontFamily: FONTS.mono,
              fontSize: TYPE_SCALE.mono.sm.size,
              fontWeight: 500,
              letterSpacing: '0.1em',
              textTransform: 'uppercase',
              color: COLORS.ink[400],
            }}
          >
            Click to expand
          </span>
        </div>
      )}

      <div
        style={{
          display: 'grid',
          ...config,
          alignItems: hasExpandableProfiles ? 'start' : undefined,
        }}
      >
        {cards.map((card, i) => {
          switch (type) {
            case 'feature':
              return <FeatureCard key={i} card={card} index={i} />;
            case 'topic':
              return (
                <TopicCard
                  key={i}
                  card={card}
                  index={i}
                  isExpanded={expandedIndex === i}
                  onToggle={() => setExpandedIndex(expandedIndex === i ? null : i)}
                />
              );
            case 'profile':
            default:
              return (
                <ProfileCard
                  key={i}
                  card={card}
                  index={i}
                  isExpanded={profileExpandedIndex === i}
                  onToggle={() => setProfileExpandedIndex(profileExpandedIndex === i ? null : i)}
                  hasExpandedContent={hasExpandableProfiles}
                />
              );
          }
        })}
      </div>
    </div>
  );
};

/**
 * StatsGrid Component - "The Scholarly Disruptor"
 *
 * Editorial data visualization cards
 * - Hero stat with dark treatment
 * - Large background decorative numbers
 * - Delta/change emphasis (the story is in the change)
 * - Consistent with Feature/Profile card aesthetics
 */



// =============================================================================
// STAT CARD - Editorial treatment with background numbers
// =============================================================================
const StatCard = ({ stat, index, isHero }) => {
  // Extract numeric value for background display
  const bgNumber = stat.value.replace(/[^0-9]/g, '');

  // Check if this is a "change" stat (has "up from" or similar)
  const hasChange = stat.source && (
    stat.source.toLowerCase().includes('up from') ||
    stat.source.toLowerCase().includes('down from')
  );

  if (isHero) {
    // Hero stat - large, dark, prominent
    return (
      <div
        style={{
          position: 'relative',
          gridColumn: 'span 2',
          padding: `${SPACE[7]} ${SPACE[6]}`,
          background: COLORS.ink[900],
          borderRadius: EFFECTS.radius.lg,
          overflow: 'hidden',
          minHeight: '180px',
          display: 'flex',
          flexDirection: 'column',
          justifyContent: 'flex-end',
        }}
      >
        {/* Large background number */}
        <div
          style={{
            position: 'absolute',
            top: '-10%',
            right: '5%',
            fontFamily: FONTS.display,
            fontSize: 'clamp(8rem, 20vw, 14rem)',
            fontWeight: 300,
            lineHeight: 1,
            color: COLORS.ink[800],
            userSelect: 'none',
            pointerEvents: 'none',
          }}
        >
          {bgNumber}
        </div>

        {/* Content */}
        <div style={{ position: 'relative', zIndex: 1 }}>
          {/* Value with gradient */}
          <div
            style={{
              fontFamily: FONTS.display,
              fontSize: 'clamp(3rem, 6vw, 4.5rem)',
              fontWeight: 400,
              lineHeight: 1,
              letterSpacing: '-0.03em',
              background: `linear-gradient(135deg, #FFFFFF 0%, ${COLORS.accent.muted} 100%)`,
              WebkitBackgroundClip: 'text',
              WebkitTextFillColor: 'transparent',
              backgroundClip: 'text',
              marginBottom: SPACE[3],
            }}
          >
            {stat.value}
          </div>

          {/* Label */}
          <div
            style={{
              fontFamily: FONTS.ui,
              fontSize: TYPE_SCALE.ui.lg.size,
              fontWeight: 600,
              color: '#FFFFFF',
              marginBottom: SPACE[2],
            }}
          >
            {stat.label}
          </div>

          {/* Source/Change - emphasized */}
          {stat.source && (
            <div
              style={{
                display: 'inline-flex',
                alignItems: 'center',
                gap: SPACE[2],
                padding: `${SPACE[1]} ${SPACE[3]}`,
                background: 'rgba(255,255,255,0.1)',
                borderRadius: EFFECTS.radius.full,
                border: '1px solid rgba(255,255,255,0.15)',
              }}
            >
              {hasChange && (
                <svg
                  width="12"
                  height="12"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke={COLORS.semantic.success}
                  strokeWidth="2.5"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                >
                  <path d="M12 19V5M5 12l7-7 7 7" />
                </svg>
              )}
              <span
                style={{
                  fontFamily: FONTS.mono,
                  fontSize: TYPE_SCALE.mono.sm.size,
                  color: 'rgba(255,255,255,0.7)',
                  letterSpacing: '0.02em',
                }}
              >
                {stat.source}
              </span>
            </div>
          )}
        </div>

        {/* Bottom accent line */}
        <div
          style={{
            position: 'absolute',
            bottom: 0,
            left: 0,
            right: 0,
            height: '3px',
            background: `linear-gradient(90deg, ${COLORS.accent.primary} 0%, ${COLORS.accent.light} 50%, transparent 100%)`,
          }}
        />
      </div>
    );
  }

  // Standard stat card
  return (
    <div
      style={{
        position: 'relative',
        padding: SPACE[5],
        background: COLORS.surface.elevated,
        borderRadius: EFFECTS.radius.lg,
        border: `1px solid ${COLORS.ink[200]}`,
        overflow: 'hidden',
        display: 'flex',
        flexDirection: 'column',
        minHeight: '140px',
      }}
    >
      {/* Subtle background number */}
      <div
        style={{
          position: 'absolute',
          top: '-5%',
          right: '-5%',
          fontFamily: FONTS.display,
          fontSize: '6rem',
          fontWeight: 300,
          lineHeight: 1,
          color: COLORS.ink[100],
          userSelect: 'none',
          pointerEvents: 'none',
          opacity: 0.7,
        }}
      >
        {bgNumber}
      </div>

      {/* Index indicator */}
      <div
        style={{
          position: 'absolute',
          top: SPACE[3],
          left: SPACE[3],
          fontFamily: FONTS.mono,
          fontSize: TYPE_SCALE.mono.sm.size,
          fontWeight: 500,
          color: COLORS.ink[300],
          letterSpacing: '0.05em',
        }}
      >
        {String(index + 1).padStart(2, '0')}
      </div>

      {/* Content - pushed to bottom */}
      <div style={{ position: 'relative', zIndex: 1, marginTop: 'auto' }}>
        {/* Value */}
        <div
          style={{
            fontFamily: FONTS.display,
            fontSize: 'clamp(2rem, 4vw, 2.75rem)',
            fontWeight: 400,
            lineHeight: 1,
            letterSpacing: '-0.02em',
            color: COLORS.accent.primary,
            marginBottom: SPACE[2],
          }}
        >
          {stat.value}
        </div>

        {/* Label */}
        <div
          style={{
            fontFamily: FONTS.ui,
            fontSize: TYPE_SCALE.ui.sm.size,
            fontWeight: 600,
            lineHeight: 1.4,
            color: COLORS.ink[700],
            marginBottom: stat.source ? SPACE[2] : 0,
          }}
        >
          {stat.label}
        </div>

        {/* Source/Change */}
        {stat.source && (
          <div
            style={{
              display: 'flex',
              alignItems: 'center',
              gap: SPACE[1],
            }}
          >
            {hasChange && (
              <svg
                width="10"
                height="10"
                viewBox="0 0 24 24"
                fill="none"
                stroke={COLORS.semantic.success}
                strokeWidth="2.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              >
                <path d="M12 19V5M5 12l7-7 7 7" />
              </svg>
            )}
            <span
              style={{
                fontFamily: FONTS.mono,
                fontSize: '0.6875rem',
                color: COLORS.ink[400],
                letterSpacing: '0.01em',
              }}
            >
              {stat.source}
            </span>
          </div>
        )}
      </div>

      {/* Left accent bar */}
      <div
        style={{
          position: 'absolute',
          top: SPACE[4],
          bottom: SPACE[4],
          left: 0,
          width: '3px',
          background: index === 1
            ? COLORS.accent.primary
            : COLORS.ink[200],
          borderRadius: `0 ${EFFECTS.radius.full} ${EFFECTS.radius.full} 0`,
        }}
      />
    </div>
  );
};

// =============================================================================
// STATS GRID - Editorial layout
// =============================================================================
const StatsGrid = ({ stats }) => {
  if (!stats || stats.length === 0) return null;

  // For 4 stats: first is hero (spans 2), rest are in row below
  const hasHero = stats.length === 4;

  return (
    <div
      style={{
        marginTop: SPACE[6],
        marginBottom: SPACE[6],
      }}
    >
      {/* Section label */}
      <div
        style={{
          display: 'flex',
          alignItems: 'center',
          gap: SPACE[3],
          marginBottom: SPACE[4],
        }}
      >
        <div
          style={{
            width: '24px',
            height: '2px',
            background: COLORS.accent.primary,
          }}
        />
        <span
          style={{
            fontFamily: FONTS.mono,
            fontSize: TYPE_SCALE.mono.sm.size,
            fontWeight: 500,
            letterSpacing: '0.1em',
            textTransform: 'uppercase',
            color: COLORS.ink[400],
          }}
        >
          Key Metrics
        </span>
      </div>

      {hasHero ? (
        // 4-stat layout: hero + 3 below
        <div
          style={{
            display: 'grid',
            gridTemplateColumns: 'repeat(3, 1fr)',
            gap: SPACE[4],
          }}
        >
          {/* Hero stat spans first row */}
          <div style={{ gridColumn: 'span 2' }}>
            <StatCard stat={stats[0]} index={0} isHero={true} />
          </div>

          {/* Second stat in right column of first row */}
          <StatCard stat={stats[1]} index={1} isHero={false} />

          {/* Third stat */}
          <StatCard stat={stats[2]} index={2} isHero={false} />

          {/* Fourth stat spans remaining columns */}
          <div style={{ gridColumn: 'span 2' }}>
            <StatCard stat={stats[3]} index={3} isHero={false} />
          </div>
        </div>
      ) : (
        // Standard grid for other counts
        <div
          style={{
            display: 'grid',
            gridTemplateColumns: `repeat(${Math.min(stats.length, 3)}, 1fr)`,
            gap: SPACE[4],
          }}
        >
          {stats.map((stat, index) => (
            <StatCard key={index} stat={stat} index={index} isHero={false} />
          ))}
        </div>
      )}
    </div>
  );
};

/**
 * Chart Component - "The Scholarly Disruptor"
 *
 * Premium editorial data visualization
 * - Bloomberg/Economist-style charts
 * - Proper axis lines and grid
 * - Refined typography
 */



// Growth Chart - Editorial comparison layout
const GrowthChart = ({ data }) => {
  const { title, subtitle, series } = data;

  return (
    <div
      style={{
        marginTop: SPACE[5],
        marginBottom: SPACE[5],
        padding: SPACE[5],
        background: COLORS.surface.elevated,
        borderRadius: EFFECTS.radius.lg,
        border: `1px solid ${COLORS.ink[200]}`,
      }}
    >
      {/* Header */}
      <div style={{ marginBottom: SPACE[5] }}>
        <h4
          style={{
            fontFamily: FONTS.headline,
            fontSize: TYPE_SCALE.headline.sm.size,
            fontWeight: TYPE_SCALE.headline.sm.weight,
            color: COLORS.ink[800],
            margin: 0,
          }}
        >
          {title}
        </h4>
        {subtitle && (
          <p
            style={{
              fontFamily: FONTS.mono,
              fontSize: TYPE_SCALE.mono.sm.size,
              color: COLORS.ink[400],
              margin: 0,
              marginTop: SPACE[1],
            }}
          >
            {subtitle}
          </p>
        )}
      </div>

      {/* Series rows */}
      <div style={{ display: 'flex', flexDirection: 'column', gap: SPACE[4] }}>
        {series.map((s, si) => {
          const startPoint = s.points[0];
          const endPoint = s.points[s.points.length - 1];
          const growth = endPoint.value - startPoint.value;
          const color = CHART_COLORS[si];

          return (
            <div
              key={si}
              style={{
                padding: SPACE[4],
                background: si === 0 ? COLORS.accent.wash : COLORS.surface.inset,
                borderRadius: EFFECTS.radius.md,
                border: `1px solid ${si === 0 ? COLORS.accent.primary + '20' : COLORS.ink[100]}`,
              }}
            >
              {/* Series label */}
              <div
                style={{
                  fontFamily: FONTS.ui,
                  fontSize: TYPE_SCALE.ui.sm.size,
                  fontWeight: 600,
                  color: COLORS.ink[600],
                  marginBottom: SPACE[3],
                  display: 'flex',
                  alignItems: 'center',
                  gap: SPACE[2],
                }}
              >
                <span
                  style={{
                    width: '10px',
                    height: '10px',
                    borderRadius: '2px',
                    background: color,
                  }}
                />
                {s.label}
              </div>

              {/* Values row */}
              <div
                style={{
                  display: 'flex',
                  alignItems: 'center',
                  gap: SPACE[4],
                }}
              >
                {/* Start value */}
                <div style={{ textAlign: 'center', minWidth: '80px' }}>
                  <div
                    style={{
                      fontFamily: FONTS.mono,
                      fontSize: '0.6875rem',
                      color: COLORS.ink[400],
                      marginBottom: SPACE[1],
                      textTransform: 'uppercase',
                      letterSpacing: '0.05em',
                    }}
                  >
                    {startPoint.year}
                  </div>
                  <div
                    style={{
                      fontFamily: FONTS.display,
                      fontSize: '1.75rem',
                      fontWeight: 400,
                      color: COLORS.ink[400],
                    }}
                  >
                    {startPoint.value}%
                  </div>
                </div>

                {/* Progress bar */}
                <div style={{ flex: 1, position: 'relative' }}>
                  <div
                    style={{
                      height: '8px',
                      background: COLORS.ink[100],
                      borderRadius: EFFECTS.radius.full,
                      overflow: 'hidden',
                    }}
                  >
                    <div
                      style={{
                        height: '100%',
                        width: `${endPoint.value}%`,
                        background: `linear-gradient(90deg, ${color}60 0%, ${color} 100%)`,
                        borderRadius: EFFECTS.radius.full,
                      }}
                    />
                  </div>
                  {/* Growth indicator */}
                  <div
                    style={{
                      position: 'absolute',
                      top: '50%',
                      left: '50%',
                      transform: 'translate(-50%, -50%)',
                      background: COLORS.surface.elevated,
                      padding: `${SPACE[1]} ${SPACE[2]}`,
                      borderRadius: EFFECTS.radius.full,
                      border: `1px solid ${COLORS.ink[200]}`,
                      fontFamily: FONTS.mono,
                      fontSize: '0.6875rem',
                      fontWeight: 600,
                      color: COLORS.semantic.success,
                    }}
                  >
                    +{growth}
                  </div>
                </div>

                {/* End value */}
                <div style={{ textAlign: 'center', minWidth: '80px' }}>
                  <div
                    style={{
                      fontFamily: FONTS.mono,
                      fontSize: '0.6875rem',
                      color: COLORS.ink[400],
                      marginBottom: SPACE[1],
                      textTransform: 'uppercase',
                      letterSpacing: '0.05em',
                    }}
                  >
                    {endPoint.year}
                  </div>
                  <div
                    style={{
                      fontFamily: FONTS.display,
                      fontSize: '1.75rem',
                      fontWeight: 400,
                      fontStyle: 'italic',
                      color: color,
                    }}
                  >
                    {endPoint.value}%
                  </div>
                </div>
              </div>
            </div>
          );
        })}
      </div>
    </div>
  );
};

// Bar Chart - Horizontal bars with refined styling
const BarChart = ({ data }) => {
  const { title, subtitle, bars } = data;
  const maxValue = Math.max(...bars.map(b => b.value));

  return (
    <div
      style={{
        marginTop: SPACE[5],
        marginBottom: SPACE[5],
        padding: SPACE[5],
        background: COLORS.surface.elevated,
        borderRadius: EFFECTS.radius.lg,
        border: `1px solid ${COLORS.ink[200]}`,
      }}
    >
      {/* Header */}
      <div style={{ marginBottom: SPACE[5] }}>
        <h4
          style={{
            fontFamily: FONTS.headline,
            fontSize: TYPE_SCALE.headline.sm.size,
            fontWeight: TYPE_SCALE.headline.sm.weight,
            color: COLORS.ink[800],
            margin: 0,
          }}
        >
          {title}
        </h4>
        {subtitle && (
          <p
            style={{
              fontFamily: FONTS.mono,
              fontSize: TYPE_SCALE.mono.sm.size,
              color: COLORS.ink[400],
              margin: 0,
              marginTop: SPACE[1],
            }}
          >
            {subtitle}
          </p>
        )}
      </div>

      {/* Bars */}
      <div style={{ display: 'flex', flexDirection: 'column', gap: SPACE[4] }}>
        {bars.map((bar, i) => {
          const color = CHART_COLORS[i % CHART_COLORS.length];
          const widthPercent = (bar.value / maxValue) * 100;

          return (
            <div key={i}>
              {/* Label row */}
              <div
                style={{
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'baseline',
                  marginBottom: SPACE[2],
                }}
              >
                <span
                  style={{
                    fontFamily: FONTS.ui,
                    fontSize: TYPE_SCALE.ui.sm.size,
                    fontWeight: 500,
                    color: COLORS.ink[700],
                  }}
                >
                  {bar.label}
                </span>
                <span
                  style={{
                    fontFamily: FONTS.mono,
                    fontSize: '1.125rem',
                    fontWeight: 600,
                    color: color,
                  }}
                >
                  {bar.value}{bar.unit || '%'}
                </span>
              </div>

              {/* Bar track */}
              <div
                style={{
                  height: '8px',
                  background: COLORS.ink[100],
                  borderRadius: EFFECTS.radius.full,
                  overflow: 'hidden',
                  position: 'relative',
                }}
              >
                <div
                  style={{
                    position: 'absolute',
                    height: '100%',
                    width: `${widthPercent}%`,
                    background: color,
                    borderRadius: EFFECTS.radius.full,
                  }}
                />
              </div>

              {/* Source */}
              {bar.source && (
                <p
                  style={{
                    fontFamily: FONTS.mono,
                    fontSize: '0.6875rem',
                    color: COLORS.ink[400],
                    margin: 0,
                    marginTop: SPACE[2],
                  }}
                >
                  {bar.source}
                  {bar.cite && (
                    <sup style={{ color: COLORS.accent.primary, marginLeft: '4px' }}>
                      [{bar.cite}]
                    </sup>
                  )}
                </p>
              )}
            </div>
          );
        })}
      </div>
    </div>
  );
};

// Hierarchy Chart - Dramatic transformation visualization
const HierarchyChart = ({ data }) => {
  const { title, subtitle, levels } = data;

  return (
    <div
      style={{
        marginTop: SPACE[6],
        marginBottom: SPACE[6],
        padding: SPACE[6],
        background: COLORS.surface.paper,
        borderRadius: EFFECTS.radius.xl,
        border: `1px solid ${COLORS.ink[100]}`,
        boxShadow: EFFECTS.shadow.lg,
      }}
    >
      {/* Header */}
      <div style={{ marginBottom: SPACE[6], textAlign: 'center' }}>
        <h4
          style={{
            fontFamily: FONTS.headline,
            fontSize: TYPE_SCALE.headline.md.size,
            fontWeight: TYPE_SCALE.headline.md.weight,
            color: COLORS.ink[800],
            margin: 0,
          }}
        >
          {title}
        </h4>
        {subtitle && (
          <p
            style={{
              fontFamily: FONTS.mono,
              fontSize: TYPE_SCALE.mono.sm.size,
              color: COLORS.ink[400],
              margin: 0,
              marginTop: SPACE[2],
              letterSpacing: '0.02em',
            }}
          >
            {subtitle}
          </p>
        )}
      </div>

      {/* Transformation rows */}
      <div style={{ display: 'flex', flexDirection: 'column', gap: SPACE[4] }}>
        {levels.map((level, i) => (
          <div
            key={i}
            style={{
              display: 'grid',
              gridTemplateColumns: '1fr auto 1fr',
              alignItems: 'center',
              gap: SPACE[4],
              padding: `${SPACE[4]} ${SPACE[5]}`,
              background: i === 0 ? COLORS.accent.wash : COLORS.surface.inset,
              borderRadius: EFFECTS.radius.lg,
              border: `1px solid ${i === 0 ? COLORS.accent.primary + '20' : COLORS.ink[100]}`,
            }}
          >
            {/* FROM - faded, crossed out style */}
            <div style={{ textAlign: 'right' }}>
              <span
                style={{
                  display: 'inline-flex',
                  alignItems: 'center',
                  gap: SPACE[2],
                  padding: `${SPACE[2]} ${SPACE[4]}`,
                  fontFamily: FONTS.ui,
                  fontSize: TYPE_SCALE.ui.md.size,
                  fontWeight: 400,
                  color: COLORS.ink[400],
                  textDecoration: 'line-through',
                  textDecorationColor: COLORS.ink[300],
                  opacity: 0.7,
                }}
              >
                {level.from}
              </span>
            </div>

            {/* Arrow - dramatic chevron */}
            <div
              style={{
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                width: '48px',
                height: '48px',
                background: `linear-gradient(135deg, ${COLORS.accent.primary} 0%, ${COLORS.accent.deep} 100%)`,
                borderRadius: EFFECTS.radius.full,
                boxShadow: `${EFFECTS.shadow.md}, ${EFFECTS.shadow.inset}`,
              }}
            >
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                style={{ color: 'white' }}
              >
                <path
                  d="M9 6L15 12L9 18"
                  stroke="currentColor"
                  strokeWidth="2.5"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                />
              </svg>
            </div>

            {/* TO - bold, emphasized */}
            <div>
              <span
                style={{
                  display: 'inline-flex',
                  alignItems: 'center',
                  gap: SPACE[2],
                  padding: `${SPACE[3]} ${SPACE[5]}`,
                  background: COLORS.surface.paper,
                  border: `2px solid ${COLORS.accent.primary}`,
                  borderRadius: EFFECTS.radius.md,
                  fontFamily: FONTS.headline,
                  fontSize: TYPE_SCALE.ui.lg.size,
                  fontWeight: 600,
                  color: COLORS.accent.deep,
                  boxShadow: EFFECTS.shadow.sm,
                }}
              >
                {level.to}
              </span>
            </div>
          </div>
        ))}
      </div>

      {/* Bottom accent line */}
      <div
        style={{
          marginTop: SPACE[5],
          height: '3px',
          background: `linear-gradient(90deg, transparent 0%, ${COLORS.accent.primary}40 50%, transparent 100%)`,
          borderRadius: EFFECTS.radius.sm,
        }}
      />
    </div>
  );
};

// Range Chart - Salary/range bands
const RangeChart = ({ data }) => {
  const { title, subtitle, ranges } = data;
  const allValues = ranges.flatMap(r => [r.min, r.max]);
  const minVal = Math.min(...allValues);
  const maxVal = Math.max(...allValues);

  return (
    <div
      style={{
        marginTop: SPACE[5],
        marginBottom: SPACE[5],
        padding: SPACE[5],
        background: COLORS.surface.elevated,
        borderRadius: EFFECTS.radius.lg,
        border: `1px solid ${COLORS.ink[200]}`,
      }}
    >
      {/* Header */}
      <div style={{ marginBottom: SPACE[5] }}>
        <h4
          style={{
            fontFamily: FONTS.headline,
            fontSize: TYPE_SCALE.headline.sm.size,
            fontWeight: TYPE_SCALE.headline.sm.weight,
            color: COLORS.ink[800],
            margin: 0,
          }}
        >
          {title}
        </h4>
        {subtitle && (
          <p
            style={{
              fontFamily: FONTS.mono,
              fontSize: TYPE_SCALE.mono.sm.size,
              color: COLORS.ink[400],
              margin: 0,
              marginTop: SPACE[1],
            }}
          >
            {subtitle}
          </p>
        )}
      </div>

      {/* Ranges */}
      <div style={{ display: 'flex', flexDirection: 'column', gap: SPACE[4] }}>
        {ranges.map((range, i) => {
          const leftPercent = ((range.min - minVal) / (maxVal - minVal)) * 100;
          const widthPercent = ((range.max - range.min) / (maxVal - minVal)) * 100;

          return (
            <div key={i}>
              <div
                style={{
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'baseline',
                  marginBottom: SPACE[2],
                }}
              >
                <span
                  style={{
                    fontFamily: FONTS.ui,
                    fontSize: TYPE_SCALE.ui.sm.size,
                    fontWeight: 600,
                    color: range.highlight ? COLORS.accent.primary : COLORS.ink[700],
                  }}
                >
                  {range.label}
                </span>
                <span
                  style={{
                    fontFamily: FONTS.mono,
                    fontSize: TYPE_SCALE.mono.sm.size,
                    color: COLORS.ink[500],
                  }}
                >
                  ${range.min}{range.unit} – ${range.max}{range.unit}
                </span>
              </div>
              <div
                style={{
                  height: '20px',
                  background: COLORS.ink[100],
                  borderRadius: EFFECTS.radius.md,
                  position: 'relative',
                }}
              >
                <div
                  style={{
                    position: 'absolute',
                    height: '100%',
                    left: `${leftPercent}%`,
                    width: `${widthPercent}%`,
                    background: range.highlight
                      ? `linear-gradient(90deg, ${COLORS.accent.primary} 0%, ${COLORS.accent.light} 100%)`
                      : COLORS.ink[300],
                    borderRadius: EFFECTS.radius.md,
                  }}
                />
              </div>
            </div>
          );
        })}
      </div>

      {/* Scale */}
      <div
        style={{
          display: 'flex',
          justifyContent: 'space-between',
          fontFamily: FONTS.mono,
          fontSize: '0.6875rem',
          color: COLORS.ink[400],
          marginTop: SPACE[2],
        }}
      >
        <span>${minVal}k</span>
        <span>${maxVal}k</span>
      </div>
    </div>
  );
};

// Main Chart router
const Chart = ({ type, data }) => {
  switch (type) {
    case 'growth':
      return <GrowthChart data={data} />;
    case 'bar':
      return <BarChart data={data} />;
    case 'hierarchy':
      return <HierarchyChart data={data} />;
    case 'range':
      return <RangeChart data={data} />;
    default:
      return null;
  }
};

/**
 * Convergence Component - "The Scholarly Disruptor"
 *
 * Triangular convergence diagram showing PM, Designer, and Engineer
 * roles merging toward a central "Product Engineer" hub
 */



const Convergence = ({ roles }) => {
  const [hoveredRole, setHoveredRole] = useState(null);

  if (!roles || roles.length === 0) return null;

  // Map roles to positions (we expect 3 roles: PM, Designer, Engineer)
  const roleData = [
    { ...roles[0], position: 'top', angle: 0 },
    { ...roles[1], position: 'bottomLeft', angle: 120 },
    { ...roles[2], position: 'bottomRight', angle: 240 },
  ];

  return (
    <div
      style={{
        marginTop: SPACE[10],
        marginBottom: SPACE[10],
        background: `linear-gradient(135deg, ${COLORS.surface.inset} 0%, ${COLORS.surface.paper} 100%)`,
        borderRadius: EFFECTS.radius.xl,
        padding: SPACE[8],
        border: `1px solid ${COLORS.ink[100]}`,
        position: 'relative',
        overflow: 'hidden',
      }}
    >
      {/* Subtle background pattern */}
      <div
        style={{
          position: 'absolute',
          top: 0,
          left: 0,
          right: 0,
          bottom: 0,
          opacity: 0.03,
          background: `radial-gradient(circle at 50% 50%, ${COLORS.accent.primary} 0%, transparent 70%)`,
          pointerEvents: 'none',
        }}
      />

      {/* Header */}
      <div style={{ textAlign: 'center', marginBottom: SPACE[6], position: 'relative' }}>
        <span
          style={{
            fontFamily: FONTS.mono,
            fontSize: TYPE_SCALE.mono.sm.size,
            color: COLORS.accent.primary,
            textTransform: 'uppercase',
            letterSpacing: '0.1em',
          }}
        >
          The Convergence
        </span>
        <h4
          style={{
            fontFamily: FONTS.display,
            fontSize: 'clamp(1.5rem, 3vw, 2rem)',
            fontWeight: 400,
            color: COLORS.ink[800],
            margin: `${SPACE[2]} 0 0 0`,
            letterSpacing: '-0.02em',
          }}
        >
          Three Roles Becoming One
        </h4>
      </div>

      {/* Convergence Diagram */}
      <div
        style={{
          position: 'relative',
          width: '100%',
          maxWidth: '600px',
          margin: '0 auto',
          aspectRatio: '1.2 / 1',
          minHeight: '350px',
        }}
      >
        {/* Connection lines - curved paths */}
        <svg
          style={{
            position: 'absolute',
            top: 0,
            left: 0,
            width: '100%',
            height: '100%',
            pointerEvents: 'none',
          }}
          viewBox="0 0 400 350"
          preserveAspectRatio="xMidYMid meet"
        >
          <defs>
            <linearGradient id="lineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stopColor={COLORS.ink[200]} />
              <stop offset="50%" stopColor={COLORS.accent.primary} stopOpacity="0.5" />
              <stop offset="100%" stopColor={COLORS.ink[200]} />
            </linearGradient>
            <filter id="glow">
              <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
              <feMerge>
                <feMergeNode in="coloredBlur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>

          {/* Lines from each node to center */}
          {/* Top to center */}
          <path
            d="M 200 60 Q 200 120 200 175"
            fill="none"
            stroke={`url(#lineGradient)`}
            strokeWidth="2"
            strokeDasharray="6 4"
            opacity={hoveredRole === 0 ? 1 : 0.6}
          />
          {/* Bottom left to center */}
          <path
            d="M 80 280 Q 130 230 200 175"
            fill="none"
            stroke={`url(#lineGradient)`}
            strokeWidth="2"
            strokeDasharray="6 4"
            opacity={hoveredRole === 1 ? 1 : 0.6}
          />
          {/* Bottom right to center */}
          <path
            d="M 320 280 Q 270 230 200 175"
            fill="none"
            stroke={`url(#lineGradient)`}
            strokeWidth="2"
            strokeDasharray="6 4"
            opacity={hoveredRole === 2 ? 1 : 0.6}
          />

          {/* Subtle connecting arcs between outer nodes */}
          <path
            d="M 80 280 Q 200 330 320 280"
            fill="none"
            stroke={COLORS.ink[150] || COLORS.ink[200]}
            strokeWidth="1"
            opacity="0.3"
          />
          <path
            d="M 200 60 Q 100 150 80 280"
            fill="none"
            stroke={COLORS.ink[150] || COLORS.ink[200]}
            strokeWidth="1"
            opacity="0.3"
          />
          <path
            d="M 200 60 Q 300 150 320 280"
            fill="none"
            stroke={COLORS.ink[150] || COLORS.ink[200]}
            strokeWidth="1"
            opacity="0.3"
          />
        </svg>

        {/* Center hub - Product Engineer */}
        <div
          style={{
            position: 'absolute',
            top: '50%',
            left: '50%',
            transform: 'translate(-50%, -50%)',
            zIndex: 10,
          }}
        >
          <div
            style={{
              width: '140px',
              height: '140px',
              borderRadius: '50%',
              background: `linear-gradient(135deg, ${COLORS.accent.primary} 0%, ${COLORS.accent.muted} 100%)`,
              display: 'flex',
              flexDirection: 'column',
              alignItems: 'center',
              justifyContent: 'center',
              boxShadow: `0 8px 32px ${COLORS.accent.primary}40, 0 0 0 8px ${COLORS.accent.wash}`,
              border: `3px solid ${COLORS.surface.paper}`,
            }}
          >
            <span
              style={{
                fontFamily: FONTS.ui,
                fontSize: '0.65rem',
                fontWeight: 600,
                color: 'rgba(255,255,255,0.7)',
                textTransform: 'uppercase',
                letterSpacing: '0.08em',
                marginBottom: SPACE[1],
              }}
            >
              The New Role
            </span>
            <span
              style={{
                fontFamily: FONTS.display,
                fontSize: '1.1rem',
                fontWeight: 500,
                color: '#FFFFFF',
                textAlign: 'center',
                lineHeight: 1.2,
              }}
            >
              Product<br/>Engineer
            </span>
          </div>
        </div>

        {/* Role nodes */}
        {roleData.map((role, i) => {
          const positions = {
            0: { top: '0', left: '50%', transform: 'translateX(-50%)' },
            1: { bottom: '0', left: '5%' },
            2: { bottom: '0', right: '5%' },
          };
          const pos = positions[i];
          const isHovered = hoveredRole === i;

          return (
            <div
              key={i}
              onMouseEnter={() => setHoveredRole(i)}
              onMouseLeave={() => setHoveredRole(null)}
              style={{
                position: 'absolute',
                ...pos,
                cursor: 'default',
                transition: 'all 0.3s ease',
                transform: `${pos.transform || ''} ${isHovered ? 'scale(1.05)' : 'scale(1)'}`,
                zIndex: isHovered ? 15 : 5,
              }}
            >
              {/* Role card */}
              <div
                style={{
                  background: COLORS.surface.elevated,
                  borderRadius: EFFECTS.radius.lg,
                  padding: `${SPACE[4]} ${SPACE[5]}`,
                  border: `2px solid ${isHovered ? COLORS.accent.primary : COLORS.ink[200]}`,
                  boxShadow: isHovered
                    ? `0 8px 24px ${COLORS.accent.primary}20`
                    : EFFECTS.shadow.md,
                  textAlign: 'center',
                  minWidth: '100px',
                  transition: 'all 0.3s ease',
                }}
              >
                <div
                  style={{
                    fontFamily: FONTS.ui,
                    fontSize: TYPE_SCALE.ui.lg.size,
                    fontWeight: 600,
                    color: isHovered ? COLORS.accent.primary : COLORS.ink[700],
                    marginBottom: SPACE[1],
                    transition: 'color 0.3s ease',
                  }}
                >
                  {role.from}
                </div>
                <div
                  style={{
                    fontFamily: FONTS.mono,
                    fontSize: '0.65rem',
                    color: COLORS.ink[400],
                    textTransform: 'uppercase',
                    letterSpacing: '0.05em',
                  }}
                >
                  → {role.to}
                </div>
              </div>

              {/* Description tooltip on hover */}
              <div
                style={{
                  position: 'absolute',
                  top: i === 0 ? '100%' : 'auto',
                  bottom: i !== 0 ? '100%' : 'auto',
                  left: '50%',
                  transform: 'translateX(-50%)',
                  marginTop: i === 0 ? SPACE[2] : 0,
                  marginBottom: i !== 0 ? SPACE[2] : 0,
                  width: '200px',
                  opacity: isHovered ? 1 : 0,
                  visibility: isHovered ? 'visible' : 'hidden',
                  transition: 'all 0.3s ease',
                  pointerEvents: 'none',
                  zIndex: 20,
                }}
              >
                <div
                  style={{
                    background: COLORS.ink[800],
                    color: COLORS.surface.paper,
                    padding: `${SPACE[3]} ${SPACE[4]}`,
                    borderRadius: EFFECTS.radius.md,
                    fontFamily: FONTS.body,
                    fontSize: TYPE_SCALE.body.sm.size,
                    lineHeight: 1.5,
                    textAlign: 'center',
                    boxShadow: EFFECTS.shadow.lg,
                  }}
                >
                  {role.description}
                </div>
              </div>
            </div>
          );
        })}
      </div>

      {/* Bottom insight */}
      <div
        style={{
          textAlign: 'center',
          marginTop: SPACE[6],
          paddingTop: SPACE[5],
          borderTop: `1px solid ${COLORS.ink[100]}`,
        }}
      >
        <p
          style={{
            fontFamily: FONTS.body,
            fontSize: TYPE_SCALE.body.md.size,
            lineHeight: TYPE_SCALE.body.md.lineHeight,
            color: COLORS.ink[600],
            margin: 0,
            maxWidth: '500px',
            marginLeft: 'auto',
            marginRight: 'auto',
          }}
        >
          <em>The role that remains is the one who knows <strong style={{ color: COLORS.ink[800] }}>what to build</strong> and <strong style={{ color: COLORS.ink[800] }}>why</strong>.</em>
        </p>
      </div>
    </div>
  );
};

/**
 * QuoteCarousel Component - "The Scholarly Disruptor"
 *
 * Compact editorial quote panel
 * - Horizontal author tabs for navigation
 * - Slim, space-efficient layout
 * - Magazine sidebar aesthetic
 */



const QuoteCarousel = ({ quotes }) => {
  const [activeIndex, setActiveIndex] = useState(0);

  if (!quotes || quotes.length === 0) return null;

  const activeQuote = quotes[activeIndex];

  return (
    <div
      style={{
        marginTop: SPACE[6],
        marginBottom: SPACE[6],
      }}
    >
      {/* Section label - inline with accent */}
      <div
        style={{
          display: 'flex',
          alignItems: 'center',
          gap: SPACE[3],
          marginBottom: SPACE[4],
        }}
      >
        <div
          style={{
            width: '24px',
            height: '2px',
            background: COLORS.accent.primary,
          }}
        />
        <span
          style={{
            fontFamily: FONTS.mono,
            fontSize: '0.6875rem',
            letterSpacing: '0.12em',
            textTransform: 'uppercase',
            color: COLORS.ink[400],
          }}
        >
          Industry Perspectives
        </span>
      </div>

      {/* Main panel - compact dark strip */}
      <div
        style={{
          background: COLORS.surface.dark,
          borderRadius: EFFECTS.radius.lg,
          overflow: 'hidden',
        }}
      >
        {/* Author tabs - horizontal navigation */}
        <div
          style={{
            display: 'flex',
            borderBottom: `1px solid ${COLORS.ink[700]}`,
          }}
        >
          {quotes.map((quote, i) => {
            const isActive = i === activeIndex;
            // Show last name for cleaner tabs
            const nameParts = quote.author.split(' ');
            const displayName = nameParts.length > 1 ? nameParts[nameParts.length - 1] : nameParts[0];
            // Extract company/org from title (usually after comma or the whole thing)
            const titleParts = quote.title.split(',').map(s => s.trim());
            const shortTitle = titleParts.length > 1 ? titleParts[titleParts.length - 1] : titleParts[0];

            return (
              <button
                key={i}
                onClick={() => setActiveIndex(i)}
                style={{
                  flex: 1,
                  padding: `${SPACE[3]} ${SPACE[3]}`,
                  background: isActive ? COLORS.ink[800] : 'transparent',
                  border: 'none',
                  borderBottom: isActive ? `2px solid ${COLORS.accent.primary}` : '2px solid transparent',
                  cursor: 'pointer',
                  transition: EFFECTS.transition.base,
                  position: 'relative',
                }}
                onMouseEnter={(e) => {
                  if (!isActive) {
                    e.currentTarget.style.background = COLORS.ink[800] + '80';
                  }
                }}
                onMouseLeave={(e) => {
                  if (!isActive) {
                    e.currentTarget.style.background = 'transparent';
                  }
                }}
              >
                <span
                  style={{
                    fontFamily: FONTS.ui,
                    fontSize: TYPE_SCALE.ui.sm.size,
                    fontWeight: isActive ? 600 : 500,
                    color: isActive ? COLORS.ink[50] : COLORS.ink[300],
                    display: 'block',
                    whiteSpace: 'nowrap',
                    overflow: 'hidden',
                    textOverflow: 'ellipsis',
                  }}
                >
                  {displayName}
                </span>
                <span
                  style={{
                    fontFamily: FONTS.mono,
                    fontSize: '0.6875rem',
                    color: isActive ? COLORS.accent.light : COLORS.ink[400],
                    display: 'block',
                    marginTop: SPACE[1],
                    whiteSpace: 'nowrap',
                    overflow: 'hidden',
                    textOverflow: 'ellipsis',
                  }}
                >
                  {shortTitle}
                </span>
              </button>
            );
          })}
        </div>

        {/* Quote content - fixed height to prevent layout shift */}
        <div
          style={{
            padding: `${SPACE[6]} ${SPACE[7]}`,
            display: 'flex',
            gap: SPACE[5],
            alignItems: 'flex-start',
            minHeight: '180px',
          }}
        >
          {/* Large quote mark */}
          <div
            style={{
              fontFamily: FONTS.display,
              fontSize: '4.5rem',
              lineHeight: 1,
              color: COLORS.accent.primary,
              opacity: 0.8,
              marginTop: '-0.75rem',
              flexShrink: 0,
            }}
          >
            "
          </div>

          {/* Quote text and attribution */}
          <div style={{ flex: 1, minWidth: 0, display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>
            <blockquote
              style={{
                fontFamily: FONTS.body,
                fontSize: TYPE_SCALE.body.lg.size,
                fontStyle: 'italic',
                lineHeight: 1.7,
                color: COLORS.ink[50],
                margin: 0,
                marginBottom: SPACE[4],
              }}
            >
              {activeQuote.quote}
            </blockquote>

            {/* Attribution row */}
            <div
              style={{
                display: 'flex',
                alignItems: 'baseline',
                gap: SPACE[3],
                flexWrap: 'wrap',
              }}
            >
              <span
                style={{
                  fontFamily: FONTS.ui,
                  fontSize: TYPE_SCALE.ui.md.size,
                  fontWeight: 600,
                  color: COLORS.ink[100],
                }}
              >
                {activeQuote.author}
              </span>
              <span
                style={{
                  fontFamily: FONTS.ui,
                  fontSize: TYPE_SCALE.ui.sm.size,
                  color: COLORS.ink[300],
                }}
              >
                {activeQuote.title}
              </span>
              {activeQuote.cite && (
                <span
                  style={{
                    fontFamily: FONTS.mono,
                    fontSize: TYPE_SCALE.mono.sm.size,
                    color: COLORS.accent.muted,
                    marginLeft: 'auto',
                  }}
                >
                  [{activeQuote.cite}]
                </span>
              )}
            </div>
          </div>

          {/* Navigation arrows */}
          <div
            style={{
              display: 'flex',
              flexDirection: 'column',
              gap: SPACE[1],
              flexShrink: 0,
              alignSelf: 'center',
            }}
          >
            <button
              onClick={() => setActiveIndex(i => (i - 1 + quotes.length) % quotes.length)}
              style={{
                width: '36px',
                height: '36px',
                borderRadius: EFFECTS.radius.md,
                background: COLORS.ink[800],
                border: `1px solid ${COLORS.ink[600]}`,
                cursor: 'pointer',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                transition: EFFECTS.transition.base,
              }}
              onMouseEnter={(e) => {
                e.currentTarget.style.background = COLORS.ink[700];
                e.currentTarget.style.borderColor = COLORS.ink[500];
              }}
              onMouseLeave={(e) => {
                e.currentTarget.style.background = COLORS.ink[800];
                e.currentTarget.style.borderColor = COLORS.ink[600];
              }}
              aria-label="Previous quote"
            >
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke={COLORS.ink[300]} strokeWidth="2">
                <path d="M18 15l-6-6-6 6" strokeLinecap="round" strokeLinejoin="round"/>
              </svg>
            </button>
            <button
              onClick={() => setActiveIndex(i => (i + 1) % quotes.length)}
              style={{
                width: '36px',
                height: '36px',
                borderRadius: EFFECTS.radius.md,
                background: COLORS.ink[800],
                border: `1px solid ${COLORS.ink[600]}`,
                cursor: 'pointer',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                transition: EFFECTS.transition.base,
              }}
              onMouseEnter={(e) => {
                e.currentTarget.style.background = COLORS.ink[700];
                e.currentTarget.style.borderColor = COLORS.ink[500];
              }}
              onMouseLeave={(e) => {
                e.currentTarget.style.background = COLORS.ink[800];
                e.currentTarget.style.borderColor = COLORS.ink[600];
              }}
              aria-label="Next quote"
            >
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke={COLORS.ink[300]} strokeWidth="2">
                <path d="M6 9l6 6 6-6" strokeLinecap="round" strokeLinejoin="round"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

/**
 * PullQuote Component - "The Scholarly Disruptor"
 *
 * Editorial magazine aesthetic
 * - Confident serif typography
 * - Dramatic scale
 * - Print-inspired layout
 * - Optional author attribution for 3rd party quotes
 */



const PullQuote = ({ children, quote, author, title, align = 'center' }) => {
  // Support both string children (backwards compat) and quote object
  const quoteText = quote || children;
  const hasAttribution = author && author.length > 0;

  const isCenter = align === 'center';
  const isLeft = align === 'left';

  return (
    <aside
      style={{
        marginTop: SPACE[6],
        marginBottom: SPACE[6],
        paddingTop: SPACE[4],
        paddingBottom: SPACE[4],
        paddingLeft: isLeft ? SPACE[6] : 0,
        paddingRight: !isLeft && !isCenter ? SPACE[6] : 0,
        borderLeft: isLeft ? `2px solid ${COLORS.accent.primary}` : 'none',
        borderRight: !isLeft && !isCenter ? `2px solid ${COLORS.accent.primary}` : 'none',
        position: 'relative',
        maxWidth: LAYOUT.maxWidth.prose,
      }}
    >
      {/* Centered top accent line */}
      {isCenter && (
        <div
          style={{
            width: '48px',
            height: '2px',
            background: COLORS.accent.primary,
            margin: `0 auto ${SPACE[4]}`,
          }}
        />
      )}

      <blockquote style={{ position: 'relative' }}>
        {/* Quote text - dramatic serif */}
        <p
          style={{
            fontFamily: FONTS.display,
            fontSize: TYPE_SCALE.display.md.size,
            fontWeight: TYPE_SCALE.display.md.weight,
            fontStyle: 'italic',
            color: COLORS.ink[800],
            lineHeight: TYPE_SCALE.display.md.lineHeight,
            letterSpacing: TYPE_SCALE.display.md.letterSpacing,
            textAlign: align,
            margin: 0,
          }}
        >
          "{quoteText}"
        </p>

        {/* Attribution */}
        {hasAttribution && (
          <footer
            style={{
              marginTop: SPACE[4],
              textAlign: align,
            }}
          >
            <cite
              style={{
                fontFamily: FONTS.ui,
                fontSize: TYPE_SCALE.ui.md.size,
                fontStyle: 'normal',
                color: COLORS.ink[600],
                display: 'flex',
                alignItems: 'center',
                justifyContent: isCenter ? 'center' : isLeft ? 'flex-start' : 'flex-end',
                gap: SPACE[2],
              }}
            >
              <span
                style={{
                  width: '16px',
                  height: '1px',
                  background: COLORS.ink[300],
                }}
              />
              <span style={{ fontWeight: 600, color: COLORS.ink[700] }}>
                {author}
              </span>
              {title && (
                <>
                  <span style={{ color: COLORS.ink[400] }}>·</span>
                  <span style={{ color: COLORS.ink[500] }}>{title}</span>
                </>
              )}
            </cite>
          </footer>
        )}
      </blockquote>

      {/* Bottom accent line for center alignment (only if no attribution) */}
      {isCenter && !hasAttribution && (
        <div
          style={{
            width: '48px',
            height: '2px',
            background: COLORS.ink[200],
            margin: `${SPACE[4]} auto 0`,
          }}
        />
      )}
    </aside>
  );
};

/**
 * Credentials Component - "The Scholarly Disruptor"
 *
 * Editorial magazine aesthetic
 * - Display typography for categories
 * - Dark background for contrast
 * - 3x2 grid for 6 credentials
 */



const Credentials = ({ credentials }) => {
  if (!credentials || credentials.length === 0) return null;

  return (
    <div
      style={{
        marginTop: SPACE[8],
        marginBottom: SPACE[8],
        background: COLORS.surface.dark,
        borderRadius: EFFECTS.radius.lg,
        padding: `${SPACE[7]} ${SPACE[6]}`,
        position: 'relative',
        overflow: 'hidden',
      }}
    >
      {/* Subtle noise texture */}
      <div
        style={{
          position: 'absolute',
          inset: 0,
          opacity: 0.03,
          backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`,
        }}
      />

      {/* Top accent line */}
      <div
        style={{
          position: 'absolute',
          top: 0,
          left: 0,
          right: 0,
          height: '1px',
          background: `linear-gradient(90deg, transparent 0%, ${COLORS.accent.primary}40 50%, transparent 100%)`,
        }}
      />

      {/* Header */}
      <h4
        style={{
          textAlign: 'center',
          fontFamily: FONTS.mono,
          fontSize: TYPE_SCALE.mono.sm.size,
          letterSpacing: '0.15em',
          textTransform: 'uppercase',
          color: COLORS.ink[400],
          marginBottom: SPACE[6],
          position: 'relative',
          zIndex: 1,
        }}
      >
        At a Glance
      </h4>

      {/* Credentials grid - fixed 3 columns */}
      <div
        style={{
          display: 'grid',
          gridTemplateColumns: 'repeat(3, 1fr)',
          gap: `${SPACE[5]} ${SPACE[4]}`,
          position: 'relative',
          zIndex: 1,
        }}
      >
        {credentials.map((cred, i) => (
          <div
            key={i}
            style={{
              textAlign: 'center',
              padding: `${SPACE[3]} ${SPACE[2]}`,
            }}
          >
            {/* Category name - editorial display style */}
            <div
              style={{
                fontFamily: FONTS.display,
                fontSize: 'clamp(1.5rem, 3vw, 2rem)',
                fontWeight: 400,
                fontStyle: 'italic',
                color: i === 0 ? COLORS.accent.light : COLORS.ink[100],
                marginBottom: SPACE[2],
                lineHeight: 1.1,
                letterSpacing: '-0.02em',
              }}
            >
              {cred.value}
            </div>
            {/* Description */}
            <div
              style={{
                fontFamily: FONTS.ui,
                fontSize: TYPE_SCALE.ui.sm.size,
                color: COLORS.ink[400],
                lineHeight: 1.4,
              }}
            >
              {cred.label}
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

/**
 * Timeline Component - "The Scholarly Disruptor"
 *
 * Vertical editorial timeline with dramatic visual presence
 * - Large year markers as visual anchors
 * - Alternating left/right cards for rhythm
 * - Elegant connecting spine
 * - Rich hover interactions
 */




const TimelineEntry = ({ entry, index, total }) => {
  const [isHovered, setIsHovered] = useState(false);
  const isLeft = index % 2 === 0;
  const isFirst = index === 0;
  const isLast = index === total - 1;

  return (
    <div
      style={{
        display: 'grid',
        gridTemplateColumns: '1fr 80px 1fr',
        gap: SPACE[4],
        position: 'relative',
        minHeight: '200px',
      }}
    >
      {/* Left content area */}
      <div
        style={{
          display: 'flex',
          justifyContent: 'flex-end',
          alignItems: 'flex-start',
          paddingTop: SPACE[2],
        }}
      >
        {isLeft && (
          <TimelineCard
            entry={entry}
            isHovered={isHovered}
            setIsHovered={setIsHovered}
            align="right"
          />
        )}
      </div>

      {/* Center spine */}
      <div
        style={{
          position: 'relative',
          display: 'flex',
          flexDirection: 'column',
          alignItems: 'center',
        }}
      >
        {/* Vertical line - top segment */}
        {!isFirst && (
          <div
            style={{
              position: 'absolute',
              top: 0,
              left: '50%',
              transform: 'translateX(-50%)',
              width: '2px',
              height: SPACE[6],
              background: `linear-gradient(180deg, ${COLORS.ink[200]} 0%, ${entry.highlight ? COLORS.accent.primary : COLORS.ink[300]} 100%)`,
            }}
          />
        )}

        {/* Year circle */}
        <div
          style={{
            marginTop: isFirst ? 0 : SPACE[6],
            width: '72px',
            height: '72px',
            borderRadius: EFFECTS.radius.full,
            background: entry.highlight
              ? `linear-gradient(135deg, ${COLORS.accent.primary} 0%, ${COLORS.accent.light} 100%)`
              : COLORS.surface.elevated,
            border: entry.highlight
              ? 'none'
              : `2px solid ${isHovered ? COLORS.ink[400] : COLORS.ink[200]}`,
            boxShadow: entry.highlight
              ? `0 4px 20px ${COLORS.accent.primary}40, ${EFFECTS.shadow.lg}`
              : (isHovered ? EFFECTS.shadow.md : EFFECTS.shadow.sm),
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            position: 'relative',
            zIndex: 2,
            transition: `all ${EFFECTS.transition.base}`,
            transform: isHovered ? 'scale(1.08)' : 'scale(1)',
          }}
        >
          {/* Handle date ranges (e.g., "2014-2024") by stacking vertically */}
          {entry.year.includes('-') && /^\d{4}-\d{4}$/.test(entry.year) ? (
            <div
              style={{
                display: 'flex',
                flexDirection: 'column',
                alignItems: 'center',
                lineHeight: 1.1,
              }}
            >
              <span
                style={{
                  fontFamily: FONTS.display,
                  fontSize: '0.85rem',
                  fontWeight: 500,
                  fontStyle: 'italic',
                  color: entry.highlight ? '#FFFFFF' : COLORS.ink[700],
                  letterSpacing: '-0.02em',
                }}
              >
                {entry.year.split('-')[0]}
              </span>
              <span
                style={{
                  fontFamily: FONTS.display,
                  fontSize: '0.65rem',
                  fontWeight: 400,
                  color: entry.highlight ? 'rgba(255,255,255,0.6)' : COLORS.ink[400],
                }}
              >
                –
              </span>
              <span
                style={{
                  fontFamily: FONTS.display,
                  fontSize: '0.85rem',
                  fontWeight: 500,
                  fontStyle: 'italic',
                  color: entry.highlight ? '#FFFFFF' : COLORS.ink[700],
                  letterSpacing: '-0.02em',
                }}
              >
                {entry.year.split('-')[1]}
              </span>
            </div>
          ) : (
            <span
              style={{
                fontFamily: FONTS.display,
                fontSize: entry.year === 'Current' ? '0.875rem' : '1.25rem',
                fontWeight: 500,
                fontStyle: 'italic',
                color: entry.highlight ? '#FFFFFF' : COLORS.ink[700],
                letterSpacing: '-0.02em',
              }}
            >
              {entry.year}
            </span>
          )}
        </div>

        {/* Vertical line - bottom segment */}
        {!isLast && (
          <div
            style={{
              flex: 1,
              width: '2px',
              background: `linear-gradient(180deg, ${entry.highlight ? COLORS.accent.primary : COLORS.ink[300]} 0%, ${COLORS.ink[200]} 100%)`,
              marginTop: SPACE[1],
            }}
          />
        )}
      </div>

      {/* Right content area */}
      <div
        style={{
          display: 'flex',
          justifyContent: 'flex-start',
          alignItems: 'flex-start',
          paddingTop: SPACE[2],
        }}
      >
        {!isLeft && (
          <TimelineCard
            entry={entry}
            isHovered={isHovered}
            setIsHovered={setIsHovered}
            align="left"
          />
        )}
      </div>
    </div>
  );
};

const TimelineCard = ({ entry, isHovered, setIsHovered, align }) => {
  return (
    <div
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
      style={{
        maxWidth: '340px',
        width: '100%',
        background: entry.highlight
          ? COLORS.surface.dark
          : COLORS.surface.elevated,
        borderRadius: EFFECTS.radius.lg,
        border: `1px solid ${entry.highlight ? COLORS.ink[700] : (isHovered ? COLORS.ink[300] : COLORS.ink[200])}`,
        padding: SPACE[5],
        boxShadow: isHovered ? EFFECTS.shadow.lg : EFFECTS.shadow.sm,
        transform: isHovered ? 'translateY(-4px)' : 'translateY(0)',
        transition: `all ${EFFECTS.transition.base}`,
        position: 'relative',
        overflow: 'hidden',
        cursor: 'default',
      }}
    >
      {/* Top accent for highlighted entries */}
      {entry.highlight && (
        <div
          style={{
            position: 'absolute',
            top: 0,
            left: 0,
            right: 0,
            height: '3px',
            background: `linear-gradient(90deg, ${COLORS.accent.primary} 0%, ${COLORS.accent.light} 100%)`,
          }}
        />
      )}

      {/* Pointer arrow */}
      <div
        style={{
          position: 'absolute',
          top: '28px',
          [align === 'right' ? 'right' : 'left']: '-8px',
          width: '16px',
          height: '16px',
          background: entry.highlight ? COLORS.surface.dark : COLORS.surface.elevated,
          border: `1px solid ${entry.highlight ? COLORS.ink[700] : (isHovered ? COLORS.ink[300] : COLORS.ink[200])}`,
          borderRight: align === 'right' ? 'none' : undefined,
          borderBottom: align === 'right' ? 'none' : undefined,
          borderLeft: align === 'left' ? 'none' : undefined,
          borderTop: align === 'left' ? 'none' : undefined,
          transform: 'rotate(45deg)',
          transition: `border-color ${EFFECTS.transition.base}`,
        }}
      />

      {/* Company & badge row */}
      <div
        style={{
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'space-between',
          marginBottom: SPACE[3],
          position: 'relative',
          zIndex: 1,
        }}
      >
        <div
          style={{
            padding: `${SPACE[1]} ${SPACE[3]}`,
            background: entry.highlight ? COLORS.ink[800] : COLORS.surface.inset,
            borderRadius: EFFECTS.radius.sm,
          }}
        >
          <span
            style={{
              fontFamily: FONTS.mono,
              fontSize: TYPE_SCALE.mono.sm.size,
              fontWeight: 600,
              letterSpacing: '0.05em',
              color: entry.highlight ? COLORS.accent.light : COLORS.ink[500],
              textTransform: 'uppercase',
            }}
          >
            {entry.company}
          </span>
        </div>

        {entry.highlight && (
          <div
            style={{
              display: 'flex',
              alignItems: 'center',
              gap: SPACE[1],
            }}
          >
            <div
              style={{
                width: '6px',
                height: '6px',
                borderRadius: EFFECTS.radius.full,
                background: COLORS.accent.primary,
                boxShadow: `0 0 8px ${COLORS.accent.primary}`,
              }}
            />
            <span
              style={{
                fontFamily: FONTS.mono,
                fontSize: '0.625rem',
                fontWeight: 600,
                letterSpacing: '0.08em',
                textTransform: 'uppercase',
                color: COLORS.accent.muted,
              }}
            >
              Milestone
            </span>
          </div>
        )}
      </div>

      {/* Title */}
      <h4
        style={{
          fontFamily: FONTS.headline,
          fontWeight: 500,
          fontSize: TYPE_SCALE.headline.sm.size,
          lineHeight: 1.3,
          color: entry.highlight ? COLORS.ink[50] : COLORS.ink[800],
          marginBottom: SPACE[3],
          position: 'relative',
          zIndex: 1,
        }}
      >
        {entry.title}
      </h4>

      {/* Description */}
      <p
        style={{
          fontFamily: FONTS.body,
          fontSize: TYPE_SCALE.body.sm.size,
          lineHeight: TYPE_SCALE.body.sm.lineHeight,
          color: entry.highlight ? COLORS.ink[300] : COLORS.ink[500],
          margin: 0,
          position: 'relative',
          zIndex: 1,
        }}
      >
        <RichText>{entry.content}</RichText>
      </p>
    </div>
  );
};

const Timeline = ({ entries }) => {
  if (!entries || entries.length === 0) return null;

  return (
    <div
      style={{
        marginTop: SPACE[8],
        marginBottom: SPACE[8],
      }}
    >
      {/* Section header */}
      <div
        style={{
          display: 'flex',
          alignItems: 'center',
          gap: SPACE[4],
          marginBottom: SPACE[8],
        }}
      >
        <div
          style={{
            width: '32px',
            height: '3px',
            background: COLORS.accent.primary,
            borderRadius: EFFECTS.radius.full,
          }}
        />
        <div>
          <span
            style={{
              fontFamily: FONTS.mono,
              fontSize: TYPE_SCALE.mono.sm.size,
              fontWeight: 500,
              letterSpacing: '0.12em',
              textTransform: 'uppercase',
              color: COLORS.ink[400],
            }}
          >
            Career Timeline
          </span>
          <h3
            style={{
              fontFamily: FONTS.display,
              fontSize: TYPE_SCALE.display.md.size,
              fontWeight: 400,
              fontStyle: 'italic',
              letterSpacing: '-0.02em',
              color: COLORS.ink[800],
              marginTop: SPACE[1],
              lineHeight: 1.1,
            }}
          >
            The Journey
          </h3>
        </div>
      </div>

      {/* Timeline entries */}
      <div
        style={{
          display: 'flex',
          flexDirection: 'column',
        }}
      >
        {entries.map((entry, i) => (
          <TimelineEntry
            key={i}
            entry={entry}
            index={i}
            total={entries.length}
          />
        ))}
      </div>

      {/* Bottom flourish */}
      <div
        style={{
          display: 'flex',
          justifyContent: 'center',
          marginTop: SPACE[6],
        }}
      >
        <div
          style={{
            width: '40px',
            height: '4px',
            background: `linear-gradient(90deg, transparent 0%, ${COLORS.ink[300]} 50%, transparent 100%)`,
            borderRadius: EFFECTS.radius.full,
          }}
        />
      </div>
    </div>
  );
};

/**
 * Testimonials Component - "The Scholarly Disruptor"
 *
 * Editorial magazine aesthetic
 * - Clean card layouts
 * - Confident typography
 * - Restrained visual hierarchy
 */



// Leadership testimonials - larger, more prominent
const LeadershipTestimonials = ({ testimonials }) => (
  <div style={{ display: 'flex', flexDirection: 'column', gap: SPACE[5], marginTop: SPACE[8], marginBottom: SPACE[8] }}>
    {testimonials.map((t, i) => (
      <div
        key={i}
        style={{
          background: COLORS.surface.elevated,
          borderRadius: EFFECTS.radius.lg,
          border: `1px solid ${COLORS.ink[100]}`,
          padding: SPACE[7],
          boxShadow: EFFECTS.shadow.sm,
        }}
      >
        <div style={{ display: 'flex', alignItems: 'flex-start', gap: SPACE[5] }}>
          {/* Initial avatar */}
          <div
            style={{
              width: '56px',
              height: '56px',
              borderRadius: EFFECTS.radius.full,
              background: COLORS.accent.wash,
              border: `1px solid ${COLORS.accent.glow}`,
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              color: COLORS.accent.primary,
              fontFamily: FONTS.display,
              fontWeight: 600,
              fontSize: '1.25rem',
              flexShrink: 0,
            }}
          >
            {t.author?.charAt(0) || '?'}
          </div>

          <div style={{ flex: 1 }}>
            {/* Quote */}
            <blockquote
              style={{
                fontFamily: FONTS.body,
                fontSize: TYPE_SCALE.body.md.size,
                color: COLORS.ink[500],
                lineHeight: TYPE_SCALE.body.md.lineHeight,
                marginBottom: SPACE[4],
                fontStyle: 'italic',
              }}
            >
              "{t.content}"
            </blockquote>

            {/* Attribution */}
            <div>
              <p
                style={{
                  fontFamily: FONTS.ui,
                  fontWeight: 600,
                  fontSize: TYPE_SCALE.ui.md.size,
                  color: COLORS.ink[700],
                  marginBottom: SPACE[1],
                }}
              >
                {t.author}
              </p>
              <p
                style={{
                  fontFamily: FONTS.ui,
                  fontSize: TYPE_SCALE.ui.sm.size,
                  color: COLORS.ink[400],
                }}
              >
                {t.title}
              </p>
              {t.subtitle && (
                <p
                  style={{
                    fontFamily: FONTS.mono,
                    fontSize: TYPE_SCALE.mono.sm.size,
                    color: COLORS.accent.muted,
                    marginTop: SPACE[1],
                  }}
                >
                  {t.subtitle}
                </p>
              )}
            </div>
          </div>
        </div>
      </div>
    ))}
  </div>
);

// Teaching testimonials - medium size, professional
const TeachingTestimonials = ({ testimonials }) => (
  <div
    style={{
      display: 'grid',
      gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',
      gap: SPACE[5],
      marginTop: SPACE[8],
      marginBottom: SPACE[8],
    }}
  >
    {testimonials.map((t, i) => (
      <div
        key={i}
        style={{
          background: i % 2 === 0 ? COLORS.surface.elevated : COLORS.surface.inset,
          borderRadius: EFFECTS.radius.lg,
          border: `1px solid ${COLORS.ink[100]}`,
          padding: SPACE[6],
        }}
      >
        {/* Quote */}
        <blockquote
          style={{
            fontFamily: FONTS.body,
            fontSize: TYPE_SCALE.body.sm.size,
            color: COLORS.ink[500],
            lineHeight: TYPE_SCALE.body.sm.lineHeight,
            marginBottom: SPACE[5],
            fontStyle: 'italic',
          }}
        >
          "{t.content}"
        </blockquote>

        {/* Attribution */}
        <div style={{ display: 'flex', alignItems: 'center', gap: SPACE[3] }}>
          <div
            style={{
              width: '36px',
              height: '36px',
              borderRadius: EFFECTS.radius.md,
              background: COLORS.accent.wash,
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              color: COLORS.accent.primary,
              fontFamily: FONTS.ui,
              fontWeight: 600,
              fontSize: '0.875rem',
            }}
          >
            {t.author?.charAt(0) || '?'}
          </div>
          <div>
            <p
              style={{
                fontFamily: FONTS.ui,
                fontWeight: 600,
                fontSize: TYPE_SCALE.ui.sm.size,
                color: COLORS.ink[700],
              }}
            >
              {t.author}
            </p>
            <p
              style={{
                fontFamily: FONTS.mono,
                fontSize: TYPE_SCALE.mono.sm.size,
                color: COLORS.ink[400],
              }}
            >
              {t.title}
            </p>
          </div>
        </div>
      </div>
    ))}
  </div>
);

// Student testimonials - compact, grid layout with enhanced card styling
const StudentTestimonials = ({ testimonials, source }) => (
  <div
    style={{
      marginTop: SPACE[8],
      marginBottom: SPACE[8],
      background: COLORS.surface.inset,
      borderRadius: EFFECTS.radius.lg,
      padding: SPACE[7],
      border: `1px solid ${COLORS.ink[100]}`,
      position: 'relative',
      overflow: 'hidden',
    }}
  >
    {/* Subtle gradient accent at top */}
    <div
      style={{
        position: 'absolute',
        top: 0,
        left: 0,
        right: 0,
        height: '2px',
        background: `linear-gradient(90deg, ${COLORS.accent.primary}40 0%, ${COLORS.accent.muted}40 50%, transparent 100%)`,
      }}
    />

    {source && (
      <h4
        style={{
          textAlign: 'center',
          fontFamily: FONTS.mono,
          fontSize: TYPE_SCALE.mono.sm.size,
          letterSpacing: '0.1em',
          textTransform: 'uppercase',
          color: COLORS.ink[400],
          marginBottom: SPACE[6],
        }}
      >
        Student Feedback — {source}
      </h4>
    )}

    <div
      style={{
        display: 'grid',
        gridTemplateColumns: 'repeat(auto-fit, minmax(260px, 1fr))',
        gap: SPACE[5],
      }}
    >
      {testimonials.map((t, i) => (
        <div
          key={i}
          style={{
            background: COLORS.surface.elevated,
            borderRadius: EFFECTS.radius.lg,
            padding: SPACE[6],
            border: `1px solid ${COLORS.ink[150] || COLORS.ink[100]}`,
            boxShadow: EFFECTS.shadow.sm,
            position: 'relative',
            transition: 'all 0.2s ease',
          }}
        >
          {/* Purple accent line at top of each card */}
          <div
            style={{
              position: 'absolute',
              top: 0,
              left: SPACE[4],
              width: '24px',
              height: '3px',
              background: COLORS.accent.primary,
              borderRadius: '0 0 2px 2px',
            }}
          />

          {/* Em dash quote indicator */}
          <div
            style={{
              fontFamily: FONTS.mono,
              fontSize: '1rem',
              color: COLORS.accent.primary,
              marginBottom: SPACE[3],
              marginTop: SPACE[2],
            }}
          >
            —
          </div>

          <blockquote
            style={{
              fontFamily: FONTS.body,
              fontSize: TYPE_SCALE.body.sm.size,
              color: COLORS.ink[500],
              lineHeight: TYPE_SCALE.body.sm.lineHeight,
              fontStyle: 'italic',
              margin: 0,
            }}
          >
            "{t.content}"
          </blockquote>
        </div>
      ))}
    </div>
  </div>
);

// Main Testimonials component
const Testimonials = ({ type = 'leadership', testimonials, source }) => {
  if (!testimonials || testimonials.length === 0) return null;

  switch (type) {
    case 'teaching':
      return <TeachingTestimonials testimonials={testimonials} />;
    case 'students':
      return <StudentTestimonials testimonials={testimonials} source={source} />;
    case 'leadership':
    default:
      return <LeadershipTestimonials testimonials={testimonials} />;
  }
};

/**
 * Table Component - "The Scholarly Disruptor"
 *
 * Editorial magazine aesthetic
 * - Clean, minimal tables
 * - Confident typography
 * - Print-inspired styling
 */




const Table = ({ headers, rows, variant = 'default' }) => {
  if (!headers || !rows || rows.length === 0) return null;

  // Normalize rows to match header count (trim extra empty columns)
  const numCols = headers.length;
  const normalizedRows = rows.map(row => {
    // Take only as many cells as there are headers
    return row.slice(0, numCols);
  });

  // Render cell content
  const renderCellContent = (content, cellIndex, totalCols) => {
    const isLastCol = cellIndex === totalCols - 1;

    // Handle checkmark patterns
    if (content === '✓' || content === '✔' || content.toLowerCase() === 'yes') {
      return (
        <td
          key={cellIndex}
          style={{
            padding: SPACE[4],
            textAlign: 'left',
            verticalAlign: 'top',
          }}
        >
          <span
            style={{
              display: 'inline-flex',
              alignItems: 'center',
              justifyContent: 'center',
              width: '24px',
              height: '24px',
              borderRadius: EFFECTS.radius.full,
              background: COLORS.accent.wash,
              color: COLORS.accent.primary,
              fontSize: '0.75rem',
              fontWeight: 700,
            }}
          >
            ✓
          </span>
        </td>
      );
    }

    if (content === '✗' || content === '✘' || content.toLowerCase() === 'no') {
      return (
        <td
          key={cellIndex}
          style={{
            padding: SPACE[4],
            textAlign: 'left',
            verticalAlign: 'top',
          }}
        >
          <span
            style={{
              display: 'inline-flex',
              alignItems: 'center',
              justifyContent: 'center',
              width: '24px',
              height: '24px',
              borderRadius: EFFECTS.radius.full,
              background: COLORS.ink[100],
              color: COLORS.ink[400],
              fontSize: '0.75rem',
            }}
          >
            ✗
          </span>
        </td>
      );
    }

    return (
      <td
        key={cellIndex}
        style={{
          padding: SPACE[4],
          fontFamily: FONTS.body,
          fontSize: TYPE_SCALE.body.sm.size,
          lineHeight: 1.5,
          color: isLastCol ? COLORS.ink[500] : COLORS.ink[700],
          textAlign: 'left',
          verticalAlign: 'top',
          fontWeight: isLastCol ? 400 : 500,
        }}
      >
        <RichText>{content}</RichText>
      </td>
    );
  };

  return (
    <div
      style={{
        marginTop: SPACE[6],
        marginBottom: SPACE[6],
        overflowX: 'auto',
        background: COLORS.surface.elevated,
        borderRadius: EFFECTS.radius.lg,
        border: `1px solid ${COLORS.ink[100]}`,
      }}
    >
      <table style={{ width: '100%', borderCollapse: 'collapse' }}>
        <thead>
          <tr
            style={{
              background: COLORS.surface.inset,
              borderBottom: `1px solid ${COLORS.ink[200]}`,
            }}
          >
            {headers.map((header, i) => {
              const isHighlighted = i === headers.length - 1;
              const colWidth = `${100 / headers.length}%`;

              return (
                <th
                  key={i}
                  style={{
                    width: colWidth,
                    padding: `${SPACE[3]} ${SPACE[4]}`,
                    fontFamily: FONTS.ui,
                    fontSize: TYPE_SCALE.ui.sm.size,
                    fontWeight: 600,
                    color: isHighlighted ? COLORS.accent.primary : COLORS.ink[700],
                    textAlign: 'left',
                    letterSpacing: '0.01em',
                    borderBottom: isHighlighted ? `2px solid ${COLORS.accent.primary}` : 'none',
                  }}
                >
                  {header}
                </th>
              );
            })}
          </tr>
        </thead>
        <tbody>
          {normalizedRows.map((row, rowIndex) => (
            <tr
              key={rowIndex}
              style={{
                borderBottom: rowIndex < normalizedRows.length - 1 ? `1px solid ${COLORS.ink[100]}` : 'none',
              }}
            >
              {row.map((cell, cellIndex) => renderCellContent(cell, cellIndex, numCols))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};

/**
 * Section Component - "The Scholarly Disruptor"
 *
 * Editorial magazine aesthetic with distinctive chapter markers
 * - Asymmetric rule treatments inspired by print design
 * - Generous white space with purposeful rhythm
 * - Visual hierarchy through typographic and linear elements
 * - Terminal-style typewriter animations on scroll
 */




// Keyframes for cursor blink - injected once
const injectKeyframes = (() => {
  let injected = false;
  return () => {
    if (injected || typeof document === 'undefined') return;
    const style = document.createElement('style');
    style.textContent = `
      @keyframes terminalBlink {
        0%, 50% { opacity: 1; }
        51%, 100% { opacity: 0; }
      }
      @keyframes lineGrow {
        from { width: 0; opacity: 0; }
        to { width: 100%; opacity: 1; }
      }
      @keyframes fadeSlideIn {
        from { opacity: 0; transform: translateY(8px); }
        to { opacity: 1; transform: translateY(0); }
      }
    `;
    document.head.appendChild(style);
    injected = true;
  };
})();

// Terminal Typewriter Hook
const useTypewriter = (text, { speed = 50, startDelay = 0, enabled = true } = {}) => {
  const [displayText, setDisplayText] = useState('');
  const [isTyping, setIsTyping] = useState(false);
  const [isDone, setIsDone] = useState(false);

  useEffect(() => {
    if (!enabled) {
      setDisplayText(text);
      setIsDone(true);
      return;
    }

    setDisplayText('');
    setIsTyping(false);
    setIsDone(false);

    const startTimeout = setTimeout(() => {
      setIsTyping(true);
      let currentIndex = 0;

      const typeInterval = setInterval(() => {
        if (currentIndex < text.length) {
          setDisplayText(text.slice(0, currentIndex + 1));
          currentIndex++;
        } else {
          clearInterval(typeInterval);
          setIsTyping(false);
          setIsDone(true);
        }
      }, speed);

      return () => clearInterval(typeInterval);
    }, startDelay);

    return () => clearTimeout(startTimeout);
  }, [text, speed, startDelay, enabled]);

  return { displayText, isTyping, isDone };
};

// Intersection Observer Hook
const useInView = (options = {}) => {
  const ref = useRef(null);
  const [inView, setInView] = useState(false);
  const [hasAnimated, setHasAnimated] = useState(false);

  useEffect(() => {
    const element = ref.current;
    if (!element) return;

    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting && !hasAnimated) {
          setInView(true);
          setHasAnimated(true);
        }
      },
      { threshold: 0.2, rootMargin: '-50px', ...options }
    );

    observer.observe(element);
    return () => observer.disconnect();
  }, [hasAnimated, options]);

  return [ref, inView];
};

// Terminal Cursor Component - always blinks when visible
const TerminalCursor = ({ visible = true, blink = true, color = COLORS.accent.primary }) => (
  <span
    style={{
      display: 'inline-block',
      width: '3px',
      height: '1.15em',
      background: color,
      marginLeft: '3px',
      verticalAlign: 'text-bottom',
      animation: blink ? 'terminalBlink 0.8s step-end infinite' : 'none',
      opacity: visible ? 1 : 0,
      boxShadow: `0 0 4px ${color}40`,
    }}
  />
);

// Section Divider - Editorial chapter break with animation
const SectionDivider = ({ variant = 'default' }) => {
  const [ref, inView] = useInView({ threshold: 0.5 });

  if (variant === 'subtle') {
    // Minimal spacing divider
    return (
      <div
        ref={ref}
        style={{
          maxWidth: LAYOUT.maxWidth.content,
          margin: '0 auto',
          padding: `${SPACE[8]} ${LAYOUT.margin}`,
        }}
      >
        <div
          style={{
            display: 'flex',
            alignItems: 'center',
            gap: SPACE[4],
            overflow: 'hidden',
          }}
        >
          <div
            style={{
              flex: 1,
              height: '1px',
              background: `linear-gradient(to right, ${COLORS.ink[200]}, transparent)`,
              transform: inView ? 'scaleX(1)' : 'scaleX(0)',
              transformOrigin: 'left',
              transition: 'transform 0.6s ease-out',
            }}
          />
        </div>
      </div>
    );
  }

  // Default: Editorial chapter break with asymmetric flourish
  return (
    <div
      ref={ref}
      style={{
        maxWidth: LAYOUT.maxWidth.content,
        margin: '0 auto',
        padding: `${SPACE[10]} ${LAYOUT.margin}`,
        position: 'relative',
      }}
    >
      <div
        style={{
          display: 'flex',
          alignItems: 'center',
          gap: SPACE[5],
        }}
      >
        {/* Left line - short, accent colored - grows in */}
        <div
          style={{
            width: inView ? '48px' : '0px',
            height: '2px',
            background: COLORS.accent.primary,
            borderRadius: EFFECTS.radius.sm,
            transition: 'width 0.4s ease-out',
          }}
        />
        {/* Center diamond marker - scales in */}
        <div
          style={{
            width: '6px',
            height: '6px',
            background: COLORS.accent.primary,
            transform: inView ? 'rotate(45deg) scale(1)' : 'rotate(45deg) scale(0)',
            flexShrink: 0,
            transition: 'transform 0.3s ease-out',
            transitionDelay: '0.3s',
          }}
        />
        {/* Right line - extends further, fades out - grows in */}
        <div
          style={{
            flex: 1,
            maxWidth: '200px',
            height: '1px',
            overflow: 'hidden',
          }}
        >
          <div
            style={{
              width: '100%',
              height: '100%',
              background: `linear-gradient(to right, ${COLORS.ink[300]}, transparent)`,
              transform: inView ? 'scaleX(1)' : 'scaleX(0)',
              transformOrigin: 'left',
              transition: 'transform 0.5s ease-out',
              transitionDelay: '0.4s',
            }}
          />
        </div>
      </div>
    </div>
  );
};

const Section = ({ number, title, children, className = '' }) => {
  // Inject keyframes on mount
  useEffect(() => {
    injectKeyframes();
  }, []);

  // Intersection observer for scroll trigger
  const [headerRef, inView] = useInView();

  // Typewriter for section label - fast terminal typing
  const sectionLabel = `section_`;
  const { displayText: labelText } = useTypewriter(
    sectionLabel,
    { speed: 45, startDelay: 200, enabled: inView }
  );

  // Typewriter for section number - appears after label
  const sectionNum = String(number).padStart(2, '0');
  const { displayText: numText } = useTypewriter(
    sectionNum,
    { speed: 70, startDelay: 200 + sectionLabel.length * 45 + 100, enabled: inView }
  );

  // Typewriter for title - starts after terminal badge completes
  const terminalDuration = 200 + sectionLabel.length * 45 + 100 + sectionNum.length * 70;
  const { displayText: titleText } = useTypewriter(
    title,
    { speed: 28, startDelay: terminalDuration + 300, enabled: inView }
  );

  return (
    <section
      className={className}
      data-section={number}
      style={{
        background: COLORS.surface.paper,
        paddingTop: SPACE[10],
        paddingBottom: SPACE[10],
      }}
    >
      <div
        style={{
          maxWidth: LAYOUT.maxWidth.content,
          margin: '0 auto',
          padding: `0 ${LAYOUT.margin}`,
        }}
      >
        {/* Section header with editorial treatment */}
        <header
          ref={headerRef}
          style={{
            marginBottom: SPACE[7],
            position: 'relative',
          }}
        >
          {/* Top rule - asymmetric accent line */}
          <div
            style={{
              display: 'flex',
              alignItems: 'center',
              marginBottom: SPACE[5],
              gap: SPACE[4],
            }}
          >
            {/* Primary accent bar - animates in */}
            <div
              style={{
                width: EFFECTS.radius.md,
                height: inView ? '32px' : '0px',
                background: COLORS.accent.primary,
                borderRadius: EFFECTS.radius.sm,
                transition: 'height 0.3s ease-out',
              }}
            />
            {/* Section number badge - terminal style */}
            {number && (
              <div
                style={{
                  display: 'flex',
                  alignItems: 'center',
                  gap: '0',
                  background: COLORS.ink[900],
                  padding: `${SPACE[2]} ${SPACE[4]}`,
                  borderRadius: EFFECTS.radius.md,
                  border: `1px solid ${COLORS.ink[700]}`,
                  boxShadow: `${EFFECTS.shadow.md}, ${EFFECTS.shadow.inset}`,
                }}
              >
                {/* Terminal prompt */}
                <span
                  style={{
                    fontFamily: FONTS.mono,
                    fontSize: '0.75rem',
                    fontWeight: 500,
                    color: COLORS.accent.muted,
                    marginRight: SPACE[2],
                  }}
                >
                  {'> '}
                </span>
                {/* Section label - types out */}
                <span
                  style={{
                    fontFamily: FONTS.mono,
                    fontSize: '0.75rem',
                    fontWeight: 500,
                    color: COLORS.ink[300],
                    letterSpacing: '0.02em',
                  }}
                >
                  {labelText}
                </span>
                {/* Section number - types out */}
                <span
                  style={{
                    fontFamily: FONTS.mono,
                    fontSize: '0.875rem',
                    fontWeight: 700,
                    color: COLORS.accent.light,
                    letterSpacing: '-0.02em',
                  }}
                >
                  {numText}
                </span>
                {/* Blinking cursor - stays blinking after done */}
                <TerminalCursor
                  visible={inView}
                  blink={true}
                  color={COLORS.accent.light}
                />
              </div>
            )}
            {/* Extending line - grows in */}
            <div
              style={{
                flex: 1,
                height: '1px',
                maxWidth: '300px',
                overflow: 'hidden',
              }}
            >
              <div
                style={{
                  width: inView ? '100%' : '0%',
                  height: '100%',
                  background: `linear-gradient(to right, ${COLORS.ink[200]} 0%, ${COLORS.ink[100]} 50%, transparent 100%)`,
                  transition: 'width 0.6s ease-out',
                  transitionDelay: '0.2s',
                }}
              />
            </div>
          </div>

          {/* Title with bottom rule - typewriter effect */}
          <h2
            style={{
              fontFamily: FONTS.headline,
              fontSize: TYPE_SCALE.headline.lg.size,
              fontWeight: TYPE_SCALE.headline.lg.weight,
              lineHeight: TYPE_SCALE.headline.lg.lineHeight,
              letterSpacing: TYPE_SCALE.headline.lg.letterSpacing,
              color: COLORS.ink[800],
              margin: 0,
              paddingBottom: SPACE[4],
              borderBottom: `1px solid ${COLORS.ink[100]}`,
              minHeight: '2.5rem', // Prevent layout shift
            }}
          >
            {titleText}
            <TerminalCursor
              visible={inView}
              blink={true}
              color={COLORS.ink[500]}
            />
          </h2>
        </header>

        {/* Section content - fades in when section is in view */}
        <div
          style={{
            fontFamily: FONTS.body,
            fontSize: TYPE_SCALE.body.md.size,
            lineHeight: TYPE_SCALE.body.md.lineHeight,
            color: COLORS.ink[500],
            opacity: inView ? 1 : 0,
            transform: inView ? 'translateY(0)' : 'translateY(12px)',
            transition: 'opacity 0.6s ease-out 0.3s, transform 0.6s ease-out 0.3s',
          }}
        >
          {children}
        </div>
      </div>
    </section>
  );
};

// Subsection component for ### headers - simple fade-in, no typewriter
const Subsection = ({ title, children }) => {
  const [ref, inView] = useInView({ threshold: 0.05, rootMargin: '0px' });

  return (
    <div ref={ref} style={{ marginTop: SPACE[9], marginBottom: SPACE[6] }}>
      {/* Subsection header with inline marker */}
      <div
        style={{
          display: 'flex',
          alignItems: 'flex-start',
          gap: SPACE[4],
          marginBottom: SPACE[5],
          opacity: inView ? 1 : 0.15,
          transform: inView ? 'translateY(0)' : 'translateY(8px)',
          transition: 'opacity 0.4s ease-out, transform 0.4s ease-out',
        }}
      >
        {/* Vertical accent marker */}
        <div
          style={{
            width: EFFECTS.radius.sm,
            height: '1.5rem',
            background: `linear-gradient(to bottom, ${COLORS.accent.muted}, transparent)`,
            borderRadius: EFFECTS.radius.sm,
            flexShrink: 0,
            marginTop: '0.25rem',
          }}
        />
        <div style={{ flex: 1 }}>
          <h3
            style={{
              fontFamily: FONTS.headline,
              fontSize: TYPE_SCALE.headline.sm.size,
              fontWeight: TYPE_SCALE.headline.sm.weight,
              lineHeight: TYPE_SCALE.headline.sm.lineHeight,
              color: COLORS.ink[700],
              margin: 0,
              paddingBottom: SPACE[3],
              borderBottom: `1px solid ${COLORS.ink[100]}`,
            }}
          >
            {title}
          </h3>
        </div>
      </div>
      <div
        style={{
          opacity: inView ? 1 : 0.15,
          transform: inView ? 'translateY(0)' : 'translateY(6px)',
          transition: 'opacity 0.35s ease-out 0.1s, transform 0.35s ease-out 0.1s',
        }}
      >
        {children}
      </div>
    </div>
  );
};

// Paragraph component with rich text support
const Paragraph = ({ children }) => (
  <p
    style={{
      fontFamily: FONTS.body,
      fontSize: TYPE_SCALE.body.md.size,
      lineHeight: TYPE_SCALE.body.md.lineHeight,
      letterSpacing: TYPE_SCALE.body.md.letterSpacing,
      color: COLORS.ink[500],
      marginBottom: SPACE[5],
      maxWidth: LAYOUT.maxWidth.prose,
    }}
  >
    <RichText>{children}</RichText>
  </p>
);

// Bullet list component with styled markers
const BulletList = ({ items }) => (
  <ul
    style={{
      listStyle: 'none',
      padding: 0,
      margin: `${SPACE[5]} 0`,
      maxWidth: LAYOUT.maxWidth.prose,
    }}
  >
    {items.map((item, i) => (
      <li
        key={i}
        style={{
          display: 'flex',
          gap: SPACE[4],
          marginBottom: SPACE[4],
          alignItems: 'baseline',
        }}
      >
        <span
          style={{
            fontFamily: FONTS.mono,
            fontSize: '0.75rem',
            color: COLORS.accent.primary,
            flexShrink: 0,
            marginTop: '0.125rem',
          }}
        >
          —
        </span>
        <span
          style={{
            fontFamily: FONTS.body,
            fontSize: TYPE_SCALE.body.sm.size,
            lineHeight: TYPE_SCALE.body.sm.lineHeight,
            color: COLORS.ink[500],
          }}
        >
          <RichText>{item}</RichText>
        </span>
      </li>
    ))}
  </ul>
);

/**
 * Citations Component - "The Scholarly Disruptor"
 *
 * Editorial magazine aesthetic
 * - Academic reference formatting
 * - Clean typography
 * - Organized by category
 */



const Citations = ({ citations }) => {
  if (!citations || citations.length === 0) return null;

  // Group citations by category (based on content patterns)
  const groupCitations = (cites) => {
    const groups = {
      'Industry Research & Data': [],
      'Expert Sources': [],
      'Academic Research': [],
      'Biographical & Company Sources': [],
      'Other': [],
    };

    cites.forEach((cite, index) => {
      const num = index + 1;
      if (num <= 6) groups['Industry Research & Data'].push({ num, cite });
      else if (num <= 14) groups['Expert Sources'].push({ num, cite });
      else if (num <= 17) groups['Academic Research'].push({ num, cite });
      else groups['Biographical & Company Sources'].push({ num, cite });
    });

    return groups;
  };

  const groups = groupCitations(citations);

  return (
    <section
      style={{
        marginTop: SPACE[10],
        marginBottom: SPACE[10],
        background: COLORS.surface.inset,
        borderRadius: EFFECTS.radius.lg,
        padding: SPACE[8],
        border: `1px solid ${COLORS.ink[100]}`,
      }}
    >
      <h2
        style={{
          fontFamily: FONTS.headline,
          fontSize: TYPE_SCALE.headline.md.size,
          fontWeight: TYPE_SCALE.headline.md.weight,
          color: COLORS.ink[800],
          marginBottom: SPACE[8],
        }}
      >
        Citations
      </h2>

      {Object.entries(groups).map(([groupName, cites]) => {
        if (cites.length === 0) return null;

        return (
          <div key={groupName} style={{ marginBottom: SPACE[7] }}>
            <h3
              style={{
                fontFamily: FONTS.ui,
                fontSize: TYPE_SCALE.ui.md.size,
                fontWeight: 600,
                color: COLORS.ink[700],
                marginBottom: SPACE[4],
                display: 'flex',
                alignItems: 'center',
                gap: SPACE[2],
              }}
            >
              <span
                style={{
                  width: '6px',
                  height: '6px',
                  borderRadius: EFFECTS.radius.full,
                  background: COLORS.accent.primary,
                }}
              />
              {groupName}
            </h3>

            <div style={{ display: 'flex', flexDirection: 'column', gap: SPACE[3] }}>
              {cites.map(({ num, cite }) => (
                <div
                  key={num}
                  id={`citation-${num}`}
                  style={{
                    display: 'flex',
                    gap: SPACE[3],
                  }}
                >
                  <span
                    style={{
                      fontFamily: FONTS.mono,
                      fontSize: TYPE_SCALE.mono.sm.size,
                      color: COLORS.accent.primary,
                      flexShrink: 0,
                    }}
                  >
                    [{num}]
                  </span>
                  <span
                    style={{
                      fontFamily: FONTS.body,
                      fontSize: TYPE_SCALE.body.sm.size,
                      lineHeight: TYPE_SCALE.body.sm.lineHeight,
                      color: COLORS.ink[500],
                    }}
                  >
                    {cite}
                  </span>
                </div>
              ))}
            </div>
          </div>
        );
      })}
    </section>
  );
};

/**
 * TerminalWindow Component - "macOS Terminal Summary Cards"
 *
 * macOS-style terminal window cards for presenting key content summaries
 * - Realistic window chrome with traffic light buttons
 * - Dark terminal aesthetic with glow effects
 * - Typewriter animation triggered on scroll
 * - Supports multi-line content with syntax highlighting
 */



// Inject keyframes for terminal animations
const injectTerminalKeyframes = (() => {
  let injected = false;
  return () => {
    if (injected || typeof document === 'undefined') return;
    const style = document.createElement('style');
    style.textContent = `
      @keyframes terminalCursorBlink {
        0%, 50% { opacity: 1; }
        51%, 100% { opacity: 0; }
      }
      @keyframes terminalGlow {
        0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.15); }
        50% { box-shadow: 0 0 30px rgba(139, 92, 246, 0.25); }
      }
      @keyframes scanline {
        0% { transform: translateY(-100%); }
        100% { transform: translateY(100vh); }
      }
    `;
    document.head.appendChild(style);
    injected = true;
  };
})();

// Intersection Observer Hook for scroll triggering
const useTerminalInView = (options = {}) => {
  const ref = useRef(null);
  const [inView, setInView] = useState(false);
  const [hasAnimated, setHasAnimated] = useState(false);

  useEffect(() => {
    const element = ref.current;
    if (!element) return;

    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting && !hasAnimated) {
          setInView(true);
          setHasAnimated(true);
        }
      },
      { threshold: 0.15, rootMargin: '-30px', ...options }
    );

    observer.observe(element);
    return () => observer.disconnect();
  }, [hasAnimated, options]);

  return [ref, inView];
};

// Multi-line typewriter hook
const useMultiLineTypewriter = (lines, { speed = 35, lineDelay = 400, enabled = true } = {}) => {
  const [displayLines, setDisplayLines] = useState([]);
  const [currentLineIndex, setCurrentLineIndex] = useState(0);
  const [currentCharIndex, setCurrentCharIndex] = useState(0);
  const [isDone, setIsDone] = useState(false);

  useEffect(() => {
    if (!enabled) {
      setDisplayLines(lines);
      setIsDone(true);
      return;
    }

    setDisplayLines([]);
    setCurrentLineIndex(0);
    setCurrentCharIndex(0);
    setIsDone(false);
  }, [lines, enabled]);

  useEffect(() => {
    if (!enabled || isDone) return;
    if (currentLineIndex >= lines.length) {
      setIsDone(true);
      return;
    }

    const currentLine = lines[currentLineIndex];

    if (currentCharIndex < currentLine.length) {
      const timeout = setTimeout(() => {
        setDisplayLines(prev => {
          const newLines = [...prev];
          if (newLines.length <= currentLineIndex) {
            newLines.push('');
          }
          newLines[currentLineIndex] = currentLine.slice(0, currentCharIndex + 1);
          return newLines;
        });
        setCurrentCharIndex(c => c + 1);
      }, speed);
      return () => clearTimeout(timeout);
    } else {
      // Move to next line
      const timeout = setTimeout(() => {
        setCurrentLineIndex(i => i + 1);
        setCurrentCharIndex(0);
      }, lineDelay);
      return () => clearTimeout(timeout);
    }
  }, [enabled, isDone, currentLineIndex, currentCharIndex, lines, speed, lineDelay]);

  return { displayLines, isDone, currentLineIndex };
};

// Terminal cursor component
const TerminalWindowCursor = ({ visible = true }) => (
  <span
    style={{
      display: 'inline-block',
      width: SPACE[2],
      height: '1.1em',
      background: COLORS.accent.light,
      marginLeft: SPACE[1],
      verticalAlign: 'text-bottom',
      animation: visible ? 'terminalCursorBlink 0.9s step-end infinite' : 'none',
      opacity: visible ? 1 : 0,
      boxShadow: `0 0 ${SPACE[2]} ${COLORS.accent.light}60`,
    }}
  />
);

// Traffic light buttons
const TrafficLights = () => (
  <div style={{ display: 'flex', gap: SPACE[2], alignItems: 'center' }}>
    <div
      style={{
        width: SPACE[3],
        height: SPACE[3],
        borderRadius: EFFECTS.radius.full,
        background: '#FF5F57',
        boxShadow: EFFECTS.shadow.inset,
      }}
    />
    <div
      style={{
        width: SPACE[3],
        height: SPACE[3],
        borderRadius: EFFECTS.radius.full,
        background: '#FFBD2E',
        boxShadow: EFFECTS.shadow.inset,
      }}
    />
    <div
      style={{
        width: SPACE[3],
        height: SPACE[3],
        borderRadius: EFFECTS.radius.full,
        background: '#28CA41',
        boxShadow: EFFECTS.shadow.inset,
      }}
    />
  </div>
);

// Main TerminalWindow component
const TerminalWindow = ({
  title = 'summary.md',
  command = 'cat',
  lines = [],
  variant = 'default'
}) => {
  const [ref, inView] = useTerminalInView();

  useEffect(() => {
    injectTerminalKeyframes();
  }, []);

  // Convert single string to lines array if needed
  const contentLines = Array.isArray(lines) ? lines : [lines];

  const { displayLines, isDone, currentLineIndex } = useMultiLineTypewriter(
    contentLines,
    { speed: 12, lineDelay: 80, enabled: inView }
  );

  const isCompact = variant === 'compact';

  return (
    <div
      ref={ref}
      style={{
        maxWidth: isCompact ? '720px' : '100%',
        width: '100%',
        margin: `${SPACE[7]} auto`,
        borderRadius: EFFECTS.radius.xl,
        overflow: 'hidden',
        background: '#1a1b26',
        boxShadow: inView
          ? `${EFFECTS.shadow.xl}, 0 0 0 1px rgba(255,255,255,0.05), 0 0 30px ${COLORS.accent.primary}20`
          : EFFECTS.shadow.lg,
        transform: inView ? 'translateY(0)' : 'translateY(20px)',
        opacity: inView ? 1 : 0,
        transition: 'all 0.5s ease-out',
        position: 'relative',
      }}
    >
      {/* Window title bar */}
      <div
        style={{
          background: 'linear-gradient(180deg, #3d3d4a 0%, #2d2d3a 100%)',
          padding: `${SPACE[3]} ${SPACE[4]}`,
          display: 'flex',
          alignItems: 'center',
          gap: SPACE[3],
          borderBottom: '1px solid rgba(0,0,0,0.3)',
        }}
      >
        <TrafficLights />
        <div
          style={{
            flex: 1,
            textAlign: 'center',
            fontFamily: FONTS.ui,
            fontSize: '13px',
            fontWeight: 500,
            color: 'rgba(255,255,255,0.6)',
            letterSpacing: '0.01em',
          }}
        >
          {title}
        </div>
        {/* Spacer for symmetry */}
        <div style={{ width: '52px' }} />
      </div>

      {/* Terminal content area */}
      <div
        style={{
          padding: isCompact ? `${SPACE[4]} ${SPACE[5]}` : `${SPACE[5]} ${SPACE[5]}`,
          minHeight: isCompact ? '100px' : '140px',
          position: 'relative',
          background: 'linear-gradient(180deg, #1a1b26 0%, #16161e 100%)',
        }}
      >
        {/* Subtle scanline effect */}
        <div
          style={{
            position: 'absolute',
            top: 0,
            left: 0,
            right: 0,
            bottom: 0,
            background: 'repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.03) 2px, rgba(0,0,0,0.03) 4px)',
            pointerEvents: 'none',
          }}
        />

        {/* Command prompt - only show if command is provided */}
        {command && (
          <div
            style={{
              fontFamily: FONTS.mono,
              fontSize: '14px',
              marginBottom: SPACE[3],
              display: 'flex',
              alignItems: 'center',
              gap: SPACE[2],
            }}
          >
            <span style={{ color: COLORS.accent.muted }}>❯</span>
            <span style={{ color: COLORS.accent.light }}>{command}</span>
            <span style={{ color: 'rgba(255,255,255,0.5)' }}>{title}</span>
          </div>
        )}

        {/* Content lines */}
        <div
          style={{
            fontFamily: FONTS.mono,
            fontSize: '13px',
            lineHeight: 1.7,
            color: 'rgba(255,255,255,0.85)',
          }}
        >
          {displayLines.map((line, index) => (
            <div
              key={index}
              style={{
                marginBottom: SPACE[1],
                opacity: index <= currentLineIndex ? 1 : 0,
                transform: index <= currentLineIndex ? 'translateX(0)' : `translateX(-${SPACE[2]})`,
                transition: 'opacity 0.2s, transform 0.2s',
              }}
            >
              {/* Line content with syntax highlighting */}
              <span>
                {highlightSyntax(line)}
              </span>
              {/* Cursor on current line */}
              {index === currentLineIndex && !isDone && (
                <TerminalWindowCursor visible={true} />
              )}
            </div>
          ))}
          {/* Final cursor after all lines complete - only show if command mode */}
          {isDone && command && (
            <div style={{ display: 'flex', marginTop: SPACE[2] }}>
              <span style={{ color: COLORS.accent.muted }}>❯</span>
              <TerminalWindowCursor visible={true} />
            </div>
          )}
          {/* Simple done indicator when no command mode */}
          {isDone && !command && (
            <div style={{ marginTop: SPACE[3], opacity: 0.4 }}>
              <span style={{
                fontFamily: FONTS.mono,
                fontSize: '11px',
                color: COLORS.accent.muted,
                letterSpacing: '0.05em',
              }}>
                ✓ summary
              </span>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

// Simple syntax highlighting for terminal content
function highlightSyntax(text) {
  if (!text) return text;

  // Split into parts and apply highlighting
  const parts = [];
  let remaining = text;
  let key = 0;

  // Highlight patterns:
  // - **bold** → accent color
  // - `code` → muted accent
  // - Numbers → green tint
  // - Arrows (→, ->) → accent
  // - Bullet points (•, -, *) at start → accent

  // Handle bold
  const boldRegex = /\*\*([^*]+)\*\*/g;
  remaining = remaining.replace(boldRegex, (_, content) => `__BOLD_START__${content}__BOLD_END__`);

  // Handle code
  const codeRegex = /`([^`]+)`/g;
  remaining = remaining.replace(codeRegex, (_, content) => `__CODE_START__${content}__CODE_END__`);

  // Now parse the string
  const tokens = remaining.split(/(__BOLD_START__|__BOLD_END__|__CODE_START__|__CODE_END__)/);
  let inBold = false;
  let inCode = false;

  for (const token of tokens) {
    if (token === '__BOLD_START__') {
      inBold = true;
      continue;
    }
    if (token === '__BOLD_END__') {
      inBold = false;
      continue;
    }
    if (token === '__CODE_START__') {
      inCode = true;
      continue;
    }
    if (token === '__CODE_END__') {
      inCode = false;
      continue;
    }

    if (inBold) {
      parts.push(
        <span key={key++} style={{ color: COLORS.accent.light, fontWeight: 600 }}>
          {token}
        </span>
      );
    } else if (inCode) {
      parts.push(
        <span
          key={key++}
          style={{
            color: COLORS.accent.muted,
            background: 'rgba(139, 92, 246, 0.15)',
            padding: `${SPACE[0]} ${SPACE[1]}`,
            borderRadius: EFFECTS.radius.sm,
          }}
        >
          {token}
        </span>
      );
    } else {
      // Apply additional highlighting to regular text
      let processed = token;

      // Highlight arrows
      processed = processed.replace(/(→|->|=>)/g, '___ARROW___$1___/ARROW___');

      // Highlight numbers with % or units
      processed = processed.replace(/(\d+(?:\.\d+)?(?:%|x|K|M|B)?)/g, '___NUM___$1___/NUM___');

      // Highlight bullet points at start
      processed = processed.replace(/^([•\-\*])\s/, '___BULLET___$1___/BULLET___ ');

      const subTokens = processed.split(/(___ARROW___|___\/ARROW___|___NUM___|___\/NUM___|___BULLET___|___\/BULLET___)/);
      let inArrow = false;
      let inNum = false;
      let inBullet = false;

      for (const subToken of subTokens) {
        if (subToken === '___ARROW___') { inArrow = true; continue; }
        if (subToken === '___/ARROW___') { inArrow = false; continue; }
        if (subToken === '___NUM___') { inNum = true; continue; }
        if (subToken === '___/NUM___') { inNum = false; continue; }
        if (subToken === '___BULLET___') { inBullet = true; continue; }
        if (subToken === '___/BULLET___') { inBullet = false; continue; }

        if (inArrow) {
          parts.push(<span key={key++} style={{ color: COLORS.accent.muted }}>{subToken}</span>);
        } else if (inNum) {
          parts.push(<span key={key++} style={{ color: '#7dd3fc' }}>{subToken}</span>);
        } else if (inBullet) {
          parts.push(<span key={key++} style={{ color: COLORS.accent.muted }}>{subToken}</span>);
        } else if (subToken) {
          parts.push(<span key={key++}>{subToken}</span>);
        }
      }
    }
  }

  return parts;
}

/**
 * SectionNav Component - "The Scholarly Disruptor"
 *
 * Floating vertical navigation for jumping between document sections
 * - Editorial magazine aesthetic with refined typography
 * - Scroll-aware current section highlighting
 * - Smooth transitions and hover states
 * - Fixed position on left side, hidden on mobile
 */



// Section data - derived from document structure
const SECTIONS = [
  { number: 1, short: 'Market', title: 'The Market & Student Need' },
  { number: 2, short: 'Crisis', title: 'The Talent Crisis' },
  { number: 3, short: 'Alignment', title: 'Strategic Alignment' },
  { number: 4, short: 'Profile', title: 'Who Should Teach This' },
  { number: 5, short: 'Building', title: 'What John Builds Today' },
  { number: 6, short: 'Teaching', title: 'What John Can Teach' },
  { number: 7, short: 'Voices', title: 'What Others Say' },
];

// Hook to track current section based on scroll position
const useCurrentSection = () => {
  const [currentSection, setCurrentSection] = useState(0);

  useEffect(() => {
    const handleScroll = () => {
      const sections = document.querySelectorAll('[data-section]');
      const scrollPosition = window.scrollY + window.innerHeight / 3;

      let current = 0;
      sections.forEach((section) => {
        const sectionTop = section.offsetTop;
        const sectionNum = parseInt(section.getAttribute('data-section'), 10);
        if (scrollPosition >= sectionTop) {
          current = sectionNum;
        }
      });

      setCurrentSection(current);
    };

    window.addEventListener('scroll', handleScroll, { passive: true });
    handleScroll(); // Initial check

    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  return currentSection;
};

// Inject keyframes and media query styles for nav
const injectNavStyles = (() => {
  let injected = false;
  return () => {
    if (injected || typeof document === 'undefined') return;
    const style = document.createElement('style');
    style.textContent = `
      @keyframes navFadeIn {
        from { opacity: 0; transform: translateX(-20px); }
        to { opacity: 1; transform: translateX(0); }
      }
      @keyframes navPulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
      .section-nav-wrapper {
        display: none;
      }
      @media (min-width: 1280px) {
        .section-nav-wrapper {
          display: block;
        }
      }
    `;
    document.head.appendChild(style);
    injected = true;
  };
})();

const SectionNav = () => {
  const currentSection = useCurrentSection();
  const [isVisible, setIsVisible] = useState(false);
  const [hoveredSection, setHoveredSection] = useState(null);

  useEffect(() => {
    injectNavStyles();

    // Show nav after scrolling past hero
    const handleScroll = () => {
      setIsVisible(window.scrollY > 400);
    };

    window.addEventListener('scroll', handleScroll, { passive: true });
    handleScroll();

    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const scrollToSection = (sectionNumber) => {
    const section = document.querySelector(`[data-section="${sectionNumber}"]`);
    if (section) {
      const offset = 100; // Account for any fixed headers
      const targetPosition = section.offsetTop - offset;
      window.scrollTo({
        top: targetPosition,
        behavior: 'smooth'
      });
    }
  };

  return (
    <nav
      className="section-nav-wrapper"
      style={{
        position: 'fixed',
        left: SPACE[6],
        top: '50%',
        transform: 'translateY(-50%)',
        zIndex: 100,
        opacity: isVisible ? 1 : 0,
        pointerEvents: isVisible ? 'auto' : 'none',
        transition: `opacity ${EFFECTS.transition.slow}, transform ${EFFECTS.transition.slow}`,
        animation: isVisible ? 'navFadeIn 0.5s ease-out' : 'none',
      }}
    >
      <div
        style={{
          display: 'flex',
          flexDirection: 'column',
          alignItems: 'flex-start',
          gap: SPACE[1],
          padding: `${SPACE[3]} ${SPACE[2]}`,
          background: `${COLORS.surface.elevated}F8`,
          backdropFilter: 'blur(12px)',
          WebkitBackdropFilter: 'blur(12px)',
          borderRadius: EFFECTS.radius.xl,
          border: `1px solid ${COLORS.ink[100]}`,
          boxShadow: EFFECTS.shadow.lg,
        }}
      >
        {/* Header label */}
        <div
          style={{
            padding: `${SPACE[1]} ${SPACE[3]}`,
            marginBottom: SPACE[1],
          }}
        >
          <span
            style={{
              fontFamily: FONTS.mono,
              fontSize: '0.6rem',
              fontWeight: 600,
              letterSpacing: '0.12em',
              textTransform: 'uppercase',
              color: COLORS.ink[300],
            }}
          >
            Navigate
          </span>
        </div>

        {/* Section links */}
        {SECTIONS.map((section) => {
          const isActive = currentSection === section.number;
          const isHovered = hoveredSection === section.number;

          return (
            <button
              key={section.number}
              onClick={() => scrollToSection(section.number)}
              onMouseEnter={() => setHoveredSection(section.number)}
              onMouseLeave={() => setHoveredSection(null)}
              style={{
                display: 'flex',
                alignItems: 'center',
                gap: SPACE[3],
                padding: `${SPACE[2]} ${SPACE[3]}`,
                width: '100%',
                background: isActive
                  ? COLORS.accent.wash
                  : isHovered
                    ? COLORS.ink[50]
                    : 'transparent',
                border: 'none',
                borderRadius: EFFECTS.radius.lg,
                cursor: 'pointer',
                transition: `all ${EFFECTS.transition.fast}`,
                textAlign: 'left',
                position: 'relative',
                overflow: 'hidden',
              }}
            >
              {/* Active indicator bar */}
              <div
                style={{
                  position: 'absolute',
                  left: 0,
                  top: '50%',
                  transform: 'translateY(-50%)',
                  width: '3px',
                  height: isActive ? '60%' : '0%',
                  background: COLORS.accent.primary,
                  borderRadius: EFFECTS.radius.full,
                  transition: `height ${EFFECTS.transition.base}`,
                }}
              />

              {/* Section number */}
              <span
                style={{
                  fontFamily: FONTS.mono,
                  fontSize: TYPE_SCALE.mono.sm.size,
                  fontWeight: 600,
                  color: isActive ? COLORS.accent.primary : COLORS.ink[400],
                  minWidth: '1.5rem',
                  transition: `color ${EFFECTS.transition.fast}`,
                }}
              >
                {section.number}
              </span>

              {/* Section short name */}
              <span
                style={{
                  fontFamily: FONTS.ui,
                  fontSize: TYPE_SCALE.ui.sm.size,
                  fontWeight: isActive ? 600 : 500,
                  color: isActive ? COLORS.ink[800] : COLORS.ink[500],
                  transition: `color ${EFFECTS.transition.fast}`,
                  whiteSpace: 'nowrap',
                }}
              >
                {section.short}
              </span>
            </button>
          );
        })}

        {/* Progress indicator */}
        <div
          style={{
            marginTop: SPACE[2],
            padding: `0 ${SPACE[3]}`,
            width: '100%',
          }}
        >
          <div
            style={{
              height: '2px',
              background: COLORS.ink[100],
              borderRadius: EFFECTS.radius.full,
              overflow: 'hidden',
            }}
          >
            <div
              style={{
                height: '100%',
                width: `${(currentSection / SECTIONS.length) * 100}%`,
                background: `linear-gradient(90deg, ${COLORS.accent.primary} 0%, ${COLORS.accent.light} 100%)`,
                borderRadius: EFFECTS.radius.full,
                transition: `width ${EFFECTS.transition.base}`,
              }}
            />
          </div>
        </div>
      </div>
    </nav>
  );
};

// ============================================================================
// MAIN APPLICATION
// ============================================================================

/**
 * Main Application Component - "The Scholarly Disruptor"
 *
 * Editorial magazine layout - all content driven by CONTENT.document
 * No hardcoded content - everything comes from the markdown via parser
 */



// Inject global styles for smooth scrolling
const injectGlobalStyles = (() => {
  let injected = false;
  return () => {
    if (injected || typeof document === 'undefined') return;
    const style = document.createElement('style');
    style.textContent = `
      html {
        scroll-behavior: smooth;
      }
      * {
        scroll-behavior: smooth;
      }
    `;
    document.head.appendChild(style);
    injected = true;
  };
})();
/**
 * BlockRenderer - Renders a single content block
 * Handles: paragraph, bulletList, component, table
 */
const BlockRenderer = ({ block, context }) => {
  switch (block.type) {
    case 'paragraph':
      return (
        <Paragraph>
          <RichText>{block.text}</RichText>
        </Paragraph>
      );

    case 'bulletList':
      return <BulletList items={block.items} />;

    case 'table': {
      const table = CONTENT.tables[context.tableIndex.current];
      if (table) {
        context.tableIndex.current++;
        return <Table {...table} variant={table.variant || 'default'} />;
      }
      return null;
    }

    case 'component':
      return renderComponent(block, context);

    default:
      return null;
  }
};

/**
 * Render component markers (stats, charts, quotes, cards, etc.)
 */
const renderComponent = (block, context) => {
  const { chartsByType, getCardsBySection, getQuotesBySection, terminalIndex } = context;

  switch (block.component) {
    case 'stats':
      return CONTENT.stats.length > 0 ? <StatsGrid stats={CONTENT.stats} /> : null;

    case 'chart':
      if (block.param === 'growth' && chartsByType.growth?.[0]) {
        return <Chart type="growth" data={chartsByType.growth[0]} />;
      }
      if (block.param === 'range' && chartsByType.range?.[0]) {
        return <Chart type="range" data={chartsByType.range[0]} />;
      }
      if (block.param === 'bar' && chartsByType.bar?.[0]) {
        return <Chart type="bar" data={chartsByType.bar[0]} />;
      }
      if (block.param === 'hierarchy' && chartsByType.hierarchy?.[0]) {
        return <Chart type="hierarchy" data={chartsByType.hierarchy[0]} />;
      }
      return null;

    case 'convergence':
      return CONTENT.convergence.roles.length > 0 ? (
        <Convergence roles={CONTENT.convergence.roles} />
      ) : null;

    case 'quotes':
      const quotes = getQuotesBySection(block.param);
      return quotes.length > 0 ? <QuoteCarousel quotes={quotes} /> : null;

    case 'pullquote':
      // Find pullquote by matching the param prefix to the quote text
      const matchingPullquote = CONTENT.pullquotes.find(pq =>
        pq.quote.startsWith(block.param)
      );
      if (matchingPullquote) {
        return (
          <PullQuote
            quote={matchingPullquote.quote}
            author={matchingPullquote.author}
            title={matchingPullquote.title}
          />
        );
      }
      return null;

    case 'cards':
      const cardGroup = getCardsBySection(block.param);
      if (cardGroup) {
        return (
          <CardGrid
            type={cardGroup.type}
            columns={cardGroup.columns}
            cards={cardGroup.cards}
          />
        );
      }
      return null;

    case 'credentials':
      return CONTENT.credentials.length > 0 ? (
        <Credentials credentials={CONTENT.credentials} />
      ) : null;

    case 'timeline':
      return CONTENT.timeline.length > 0 ? <Timeline entries={CONTENT.timeline} /> : null;

    case 'terminal':
      const terminal = CONTENT.terminals?.[terminalIndex.current];
      if (terminal) {
        terminalIndex.current++;
        return (
          <TerminalWindow
            title={terminal.title}
            command={terminal.command}
            lines={terminal.lines}
            variant={terminal.variant}
          />
        );
      }
      return null;

    case 'testimonials':
      const testimonialGroup = CONTENT.testimonials.find(g => g.type === block.param);
      if (testimonialGroup) {
        return (
          <Testimonials
            type={testimonialGroup.type}
            testimonials={testimonialGroup.testimonials}
            source={testimonialGroup.source}
          />
        );
      }
      return null;

    default:
      return null;
  }
};

/**
 * SubsectionRenderer - Renders a subsection with its blocks
 */
const SubsectionRenderer = ({ subsection, context }) => {
  return (
    <Subsection title={subsection.title}>
      {subsection.blocks.map((block, i) => (
        <BlockRenderer key={i} block={block} context={context} />
      ))}
    </Subsection>
  );
};

/**
 * SectionRenderer - Renders a full section with intro and subsections
 */
const SectionRenderer = ({ section, context }) => {
  return (
    <Section number={section.number} title={section.title}>
      {/* Intro blocks */}
      {section.intro?.map((block, i) => (
        <BlockRenderer key={`intro-${i}`} block={block} context={context} />
      ))}

      {/* Subsections */}
      {section.subsections?.map((subsection, i) => (
        <SubsectionRenderer
          key={`subsection-${i}`}
          subsection={subsection}
          context={context}
        />
      ))}
    </Section>
  );
};

/**
 * Main App component - renders from CONTENT.document
 */
const App = () => {
  // Inject global smooth scrolling styles on mount
  useEffect(() => {
    injectGlobalStyles();
  }, []);

  // Index refs for sequential components (tables, terminals, pullquotes)
  const tableIndex = { current: 0 };
  const terminalIndex = { current: 0 };
  const pullquoteIndex = { current: 0 };

  // Component lookup by type
  const chartsByType = {};
  CONTENT.charts.forEach(chart => {
    if (!chartsByType[chart.type]) chartsByType[chart.type] = [];
    chartsByType[chart.type].push(chart);
  });

  // Helper to get cards by section
  const getCardsBySection = (sectionNum) => {
    return CONTENT.cards.find(group => group.section === String(sectionNum));
  };

  // Helper to get quotes by section
  const getQuotesBySection = (sectionName) => {
    return CONTENT.quotes.filter(q => q.section === sectionName);
  };

  // Context object passed to renderers
  const context = {
    chartsByType,
    getCardsBySection,
    getQuotesBySection,
    pullquoteIndex,
    tableIndex,
    terminalIndex,
  };

  return (
    <div
      style={{
        minHeight: '100vh',
        background: COLORS.surface.paper,
      }}
    >
      {/* Section Navigation */}
      <SectionNav />

      {/* Render document from CONTENT.document */}
      {CONTENT.document.map((item, i) => {
        switch (item.type) {
          case 'header':
            return CONTENT.header ? (
              <Header
                key={`header-${i}`}
                data={CONTENT.header}
                heroQuote={CONTENT.pullquotes[0]}
              />
            ) : null;

          case 'section':
            return (
              <SectionRenderer
                key={`section-${item.number}-${i}`}
                section={item}
                context={context}
              />
            );

          case 'citations':
            return (
              <div
                key={`citations-${i}`}
                style={{
                  maxWidth: LAYOUT.maxWidth.content,
                  margin: '0 auto',
                  padding: `0 ${LAYOUT.margin}`,
                }}
              >
                {CONTENT.citations.length > 0 && <Citations citations={CONTENT.citations} />}
              </div>
            );

          default:
            return null;
        }
      })}

      {/* Footer */}
      <footer
        style={{
          maxWidth: LAYOUT.maxWidth.content,
          margin: '0 auto',
          padding: `${SPACE[10]} ${LAYOUT.margin}`,
          textAlign: 'center',
          borderTop: `1px solid ${COLORS.ink[100]}`,
        }}
      >
        <p
          style={{
            fontFamily: FONTS.ui,
            fontSize: TYPE_SCALE.ui.sm.size,
            color: COLORS.ink[400],
            marginBottom: SPACE[1],
          }}
        >
          Proposal for Clinical Faculty Appointment
        </p>
        <p
          style={{
            fontFamily: FONTS.mono,
            fontSize: TYPE_SCALE.mono.sm.size,
            color: COLORS.ink[400],
          }}
        >
          Northwestern University • McCormick School of Engineering
        </p>
        <p
          style={{
            fontFamily: FONTS.mono,
            fontSize: TYPE_SCALE.mono.sm.size,
            color: COLORS.accent.muted,
            marginTop: SPACE[3],
          }}
        >
          {CONTENT.header?.date || 'February 2026'}
        </p>
      </footer>
    </div>
  );
};



// Default export for Claude artifact


    // Render the app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>