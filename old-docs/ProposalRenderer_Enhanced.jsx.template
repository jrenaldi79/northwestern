/**
 * Product Engineer Proposal - Northwestern Tech-Forward Design
 *
 * Design Direction: "Neural Network / Innovation Lab"
 * - Northwestern Purple as primary with tech-forward accents
 * - Deep slate dark mode with purple glow effects
 * - JetBrains Mono for headers, Inter for body
 * - Glassmorphism cards with noise texture
 * - Animated gradient meshes, circuit patterns, data flow
 * - Smooth scroll animations with intersection observer
 * - Rich iconography and visual breaks throughout
 */

import React, { useState, useEffect, useRef } from 'react';

// %%CONTENT_INJECTION_POINT%%

// ============================================================================
// DESIGN TOKENS - Northwestern Brand + Blog-Optimized Readability
// ============================================================================
const TOKENS = {
  colors: {
    // Northwestern brand inspired
    brand: {
      purple: '#4E2A84',       // Northwestern Purple (primary)
      purpleLight: '#7B4DB3',  // Lighter purple
      purpleDark: '#3A1F63',   // Darker purple
      purpleGlow: 'rgba(78, 42, 132, 0.4)',
    },
    // Base palette - Light mode for readability with dark hero
    bg: {
      primary: '#FAFAF9',      // Warm off-white
      secondary: '#F5F4F2',    // Light warm gray
      tertiary: '#EFEEED',     // Subtle gray for cards
      card: 'rgba(255, 255, 255, 0.9)', // Light glass card
      hero: '#0D0A14',         // Dark hero background
      heroSecondary: '#1E1828',
    },
    // Tech accent colors
    accent: {
      cyan: '#0891B2',         // Deeper cyan for light bg
      cyanGlow: 'rgba(8, 145, 178, 0.15)',
      gold: '#D97706',         // Deeper gold/amber for light bg
      goldGlow: 'rgba(217, 119, 6, 0.15)',
      green: '#059669',        // Deeper green for light bg
      greenGlow: 'rgba(5, 150, 105, 0.15)',
    },
    // Text colors - optimized for reading
    text: {
      primary: '#1F2937',      // Dark gray (not pure black - easier on eyes)
      secondary: '#4B5563',    // Medium gray for body text
      tertiary: '#9CA3AF',     // Light gray for metadata
      inverse: '#FAFAF9',      // For dark backgrounds
      heading: '#4E2A84',      // Purple headings
    },
    // Gradients
    gradients: {
      hero: 'linear-gradient(135deg, #0D0A14 0%, #1E1828 50%, #14101C 100%)',
      card: 'linear-gradient(145deg, rgba(255, 255, 255, 0.95) 0%, rgba(250, 250, 249, 0.9) 100%)',
      purple: 'linear-gradient(135deg, #4E2A84 0%, #7B4DB3 100%)',
      accent: 'linear-gradient(135deg, #4E2A84 0%, #0891B2 100%)',
      gold: 'linear-gradient(135deg, #D97706 0%, #B45309 100%)',
    }
  },
  fonts: {
    mono: "'JetBrains Mono', 'Fira Code', 'SF Mono', monospace",
    sans: "'Inter', -apple-system, BlinkMacSystemFont, sans-serif",
    serif: "'Source Serif 4', Georgia, 'Times New Roman', serif",
    display: "'Playfair Display', Georgia, serif",
  },
  spacing: {
    xs: '4px',
    sm: '8px',
    md: '16px',
    lg: '24px',
    xl: '32px',
    xxl: '48px',
    xxxl: '64px',
    section: '100px',
  },
  radius: {
    sm: '4px',
    md: '8px',
    lg: '16px',
    xl: '24px',
    full: '9999px',
  },
  shadows: {
    glow: '0 0 60px rgba(78, 42, 132, 0.2)',
    card: '0 2px 12px rgba(0, 0, 0, 0.08), 0 4px 24px rgba(78, 42, 132, 0.06)',
    elevated: '0 8px 30px rgba(0, 0, 0, 0.12)',
    cyanGlow: '0 0 30px rgba(8, 145, 178, 0.15)',
  }
};

// ============================================================================
// SVG ICONS - Distinctive hand-crafted icons with character
// ============================================================================
const Icons = {
  // Ascending trend line with spark - represents growth and momentum
  trendUp: (color = TOKENS.colors.brand.purple) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M4 18L10 12L14 16L20 8" stroke={color} strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"/>
      <path d="M16 8H20V12" stroke={color} strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"/>
      <circle cx="20" cy="6" r="2" fill={color} opacity="0.6"/>
    </svg>
  ),
  // Lightning bolt with energy burst
  bolt: (color = TOKENS.colors.accent.cyan) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M13 2L4 14H11L10 22L19 10H12L13 2Z" fill={color} fillOpacity="0.15" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
      <circle cx="18" cy="5" r="1.5" fill={color} opacity="0.7"/>
      <circle cx="6" cy="18" r="1" fill={color} opacity="0.5"/>
    </svg>
  ),
  // Circuit chip with connection nodes
  chip: (color = TOKENS.colors.accent.gold) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <rect x="6" y="6" width="12" height="12" rx="2" stroke={color} strokeWidth="2"/>
      <rect x="9" y="9" width="6" height="6" rx="1" fill={color} fillOpacity="0.2" stroke={color} strokeWidth="1.5"/>
      <path d="M9 6V3M15 6V3M9 21V18M15 21V18M6 9H3M6 15H3M21 9H18M21 15H18" stroke={color} strokeWidth="2" strokeLinecap="round"/>
    </svg>
  ),
  // Sprouting plant - represents growth and nurturing
  sprout: (color = TOKENS.colors.accent.green) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M12 22V12" stroke={color} strokeWidth="2" strokeLinecap="round"/>
      <path d="M12 12C12 12 12 8 16 5C16 5 12 7 12 12" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
      <path d="M12 14C12 14 12 10 8 7C8 7 12 9 12 14" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
      <path d="M12 12C12 8 16 5 16 5" fill={color} fillOpacity="0.15"/>
      <circle cx="16" cy="5" r="2" fill={color} fillOpacity="0.3"/>
      <circle cx="8" cy="7" r="1.5" fill={color} fillOpacity="0.3"/>
    </svg>
  ),
  // Abstract neural network / constellation
  brain: (color = TOKENS.colors.brand.purple) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="5" r="2" fill={color}/>
      <circle cx="5" cy="12" r="2" fill={color}/>
      <circle cx="19" cy="12" r="2" fill={color}/>
      <circle cx="8" cy="19" r="2" fill={color}/>
      <circle cx="16" cy="19" r="2" fill={color}/>
      <circle cx="12" cy="12" r="3" stroke={color} strokeWidth="2" fill={color} fillOpacity="0.15"/>
      <path d="M12 7V9M7 12H9M15 12H17M9.5 16.5L10.5 14.5M14.5 16.5L13.5 14.5" stroke={color} strokeWidth="1.5" strokeLinecap="round"/>
    </svg>
  ),
  // Target with dynamic rings
  target: (color = TOKENS.colors.accent.green) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="12" r="10" stroke={color} strokeWidth="1.5" strokeDasharray="4 2"/>
      <circle cx="12" cy="12" r="6" stroke={color} strokeWidth="2"/>
      <circle cx="12" cy="12" r="2" fill={color}/>
      <path d="M12 2V6M12 18V22M2 12H6M18 12H22" stroke={color} strokeWidth="1.5" strokeLinecap="round" opacity="0.5"/>
    </svg>
  ),
  // Stylized lightbulb with rays
  lightbulb: (color = TOKENS.colors.accent.gold) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M12 2C8.13 2 5 5.13 5 9C5 11.38 6.19 13.47 8 14.74V17C8 17.55 8.45 18 9 18H15C15.55 18 16 17.55 16 17V14.74C17.81 13.47 19 11.38 19 9C19 5.13 15.87 2 12 2Z" stroke={color} strokeWidth="2" strokeLinejoin="round" fill={color} fillOpacity="0.1"/>
      <path d="M9 21H15" stroke={color} strokeWidth="2" strokeLinecap="round"/>
      <path d="M12 2V0M4.22 4.22L2.81 2.81M1 12H3M4.22 19.78L2.81 21.19" stroke={color} strokeWidth="1.5" strokeLinecap="round" opacity="0.5"/>
    </svg>
  ),
  // Code brackets with cursor
  code: (color = TOKENS.colors.accent.gold) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M8 6L3 12L8 18" stroke={color} strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"/>
      <path d="M16 6L21 12L16 18" stroke={color} strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"/>
      <path d="M14 4L10 20" stroke={color} strokeWidth="2" strokeLinecap="round" opacity="0.6"/>
    </svg>
  ),
  // Group of figures - community/collaboration
  users: (color = TOKENS.colors.brand.purpleLight) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <circle cx="9" cy="7" r="3" stroke={color} strokeWidth="2"/>
      <path d="M3 21V18C3 15.79 4.79 14 7 14H11C13.21 14 15 15.79 15 18V21" stroke={color} strokeWidth="2" strokeLinecap="round"/>
      <circle cx="17" cy="8" r="2.5" stroke={color} strokeWidth="1.5" opacity="0.7"/>
      <path d="M19 21V19C19 17.34 17.66 16 16 16" stroke={color} strokeWidth="1.5" strokeLinecap="round" opacity="0.7"/>
    </svg>
  ),
  // Chart bars with upward trend
  chart: (color = TOKENS.colors.accent.cyan) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <rect x="3" y="14" width="4" height="8" rx="1" fill={color} fillOpacity="0.3" stroke={color} strokeWidth="1.5"/>
      <rect x="10" y="9" width="4" height="13" rx="1" fill={color} fillOpacity="0.5" stroke={color} strokeWidth="1.5"/>
      <rect x="17" y="4" width="4" height="18" rx="1" fill={color} fillOpacity="0.7" stroke={color} strokeWidth="1.5"/>
      <path d="M5 12L12 7L19 2" stroke={color} strokeWidth="2" strokeLinecap="round" strokeDasharray="2 2"/>
    </svg>
  ),
  // Award ribbon - achievement
  award: (color = TOKENS.colors.brand.purple) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="9" r="6" stroke={color} strokeWidth="2" fill={color} fillOpacity="0.1"/>
      <path d="M12 9L13.5 6L15 9L12 10.5L9 9L10.5 6L12 9Z" fill={color} fillOpacity="0.3"/>
      <path d="M8 14L6 22L12 18L18 22L16 14" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
    </svg>
  ),
  // Graduation cap with tassel
  graduation: (color = TOKENS.colors.brand.purple) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M2 10L12 5L22 10L12 15L2 10Z" fill={color} fillOpacity="0.15" stroke={color} strokeWidth="2" strokeLinejoin="round"/>
      <path d="M6 12V17C6 17 8 20 12 20C16 20 18 17 18 17V12" stroke={color} strokeWidth="2" strokeLinecap="round"/>
      <path d="M22 10V16" stroke={color} strokeWidth="2" strokeLinecap="round"/>
      <circle cx="22" cy="17" r="1.5" fill={color}/>
    </svg>
  ),
  // Modular grid blocks
  grid: (color = TOKENS.colors.accent.cyan) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <rect x="3" y="3" width="7" height="7" rx="2" stroke={color} strokeWidth="2" fill={color} fillOpacity="0.2"/>
      <rect x="14" y="3" width="7" height="7" rx="2" stroke={color} strokeWidth="2"/>
      <rect x="3" y="14" width="7" height="7" rx="2" stroke={color} strokeWidth="2"/>
      <rect x="14" y="14" width="7" height="7" rx="2" stroke={color} strokeWidth="2" fill={color} fillOpacity="0.2"/>
    </svg>
  ),
  // Stacked layers with depth
  layers: (color = TOKENS.colors.brand.purpleLight) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M12 2L2 7L12 12L22 7L12 2Z" fill={color} fillOpacity="0.3" stroke={color} strokeWidth="2" strokeLinejoin="round"/>
      <path d="M2 12L12 17L22 12" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
      <path d="M2 17L12 22L22 17" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
    </svg>
  ),
  // Rocket with exhaust trail
  rocket: (color = TOKENS.colors.accent.cyan) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M12 2C12 2 6 8 6 14C6 16 7 18 9 19L12 22L15 19C17 18 18 16 18 14C18 8 12 2 12 2Z" stroke={color} strokeWidth="2" strokeLinejoin="round" fill={color} fillOpacity="0.1"/>
      <circle cx="12" cy="12" r="2" fill={color}/>
      <path d="M6 14C4 14 3 16 3 16" stroke={color} strokeWidth="2" strokeLinecap="round"/>
      <path d="M18 14C20 14 21 16 21 16" stroke={color} strokeWidth="2" strokeLinecap="round"/>
      <path d="M10 22L12 24L14 22" stroke={color} strokeWidth="1.5" strokeLinecap="round" opacity="0.5"/>
    </svg>
  ),
  // Star with sparkle effect
  star: (color = TOKENS.colors.accent.gold) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M12 2L14.4 9.2H22L16 13.8L18.4 21L12 16.4L5.6 21L8 13.8L2 9.2H9.6L12 2Z" fill={color} stroke={color} strokeWidth="1.5" strokeLinejoin="round"/>
      <circle cx="19" cy="5" r="1" fill={color} opacity="0.6"/>
      <circle cx="5" cy="6" r="0.75" fill={color} opacity="0.4"/>
    </svg>
  ),
  // Check with circle
  check: (color = TOKENS.colors.accent.green) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="12" r="10" stroke={color} strokeWidth="1.5" fill={color} fillOpacity="0.1"/>
      <path d="M7 12.5L10.5 16L17 9" stroke={color} strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"/>
    </svg>
  ),
  // Arrow with motion lines
  arrowRight: (color = TOKENS.colors.text.primary) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M5 12H19M19 12L13 6M19 12L13 18" stroke={color} strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"/>
      <path d="M2 12H4" stroke={color} strokeWidth="2" strokeLinecap="round" opacity="0.4"/>
    </svg>
  ),
  // Decorative quote mark
  quote: (color = TOKENS.colors.brand.purple) => (
    <svg width="48" height="48" viewBox="0 0 24 24" fill="none">
      <path d="M10 8C10 10.21 8.21 12 6 12C5.45 12 5 12.45 5 13V15C5 15.55 5.45 16 6 16C9.31 16 12 13.31 12 10V6C12 5.45 11.55 5 11 5H7C6.45 5 6 5.45 6 6V8C6 8.55 6.45 9 7 9H10V8Z" fill={color} opacity="0.3"/>
      <path d="M21 8C21 10.21 19.21 12 17 12C16.45 12 16 12.45 16 13V15C16 15.55 16.45 16 17 16C20.31 16 23 13.31 23 10V6C23 5.45 22.55 5 22 5H18C17.45 5 17 5.45 17 6V8C17 8.55 17.45 9 18 9H21V8Z" fill={color} opacity="0.3"/>
    </svg>
  ),
  // Zap/Energy bolt
  zap: (color = TOKENS.colors.accent.gold) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M13 2L4 14H11L10 22L19 10H12L13 2Z" fill={color} fillOpacity="0.2" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
    </svg>
  ),
  // CPU/Processor
  cpu: (color = TOKENS.colors.accent.cyan) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <rect x="5" y="5" width="14" height="14" rx="2" stroke={color} strokeWidth="2"/>
      <rect x="9" y="9" width="6" height="6" rx="1" fill={color} fillOpacity="0.3" stroke={color} strokeWidth="1.5"/>
      <path d="M9 2V5M15 2V5M9 19V22M15 19V22M2 9H5M2 15H5M19 9H22M19 15H22" stroke={color} strokeWidth="2" strokeLinecap="round"/>
    </svg>
  ),
  // Globe with connection points
  globe: (color = TOKENS.colors.accent.gold) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="12" r="10" stroke={color} strokeWidth="2"/>
      <ellipse cx="12" cy="12" rx="4" ry="10" stroke={color} strokeWidth="1.5"/>
      <path d="M2 12H22" stroke={color} strokeWidth="1.5"/>
      <path d="M4 7H20M4 17H20" stroke={color} strokeWidth="1" opacity="0.5"/>
    </svg>
  ),
};

// ============================================================================
// INTERSECTION OBSERVER HOOK FOR SCROLL ANIMATIONS
// ============================================================================
const useInView = (options = {}) => {
  const ref = useRef(null);
  const [isInView, setIsInView] = useState(false);

  useEffect(() => {
    const observer = new IntersectionObserver(([entry]) => {
      if (entry.isIntersecting) {
        setIsInView(true);
        observer.disconnect();
      }
    }, { threshold: 0.1, ...options });

    if (ref.current) {
      observer.observe(ref.current);
    }

    return () => observer.disconnect();
  }, []);

  return [ref, isInView];
};

// Animated wrapper component
const AnimateOnScroll = ({ children, delay = 0, style = {} }) => {
  const [ref, isInView] = useInView();

  return (
    <div
      ref={ref}
      style={{
        opacity: isInView ? 1 : 0,
        transform: isInView ? 'translateY(0)' : 'translateY(40px)',
        transition: `all 0.8s cubic-bezier(0.16, 1, 0.3, 1) ${delay}s`,
        ...style
      }}
    >
      {children}
    </div>
  );
};

// ============================================================================
// MACOS TERMINAL WINDOW - Animated typing terminal card
// ============================================================================
const MacTerminalWindow = ({ title = "Terminal", commands = [], delay = 0 }) => {
  const [displayedLines, setDisplayedLines] = useState([]);
  const [currentLineIndex, setCurrentLineIndex] = useState(0);
  const [currentCharIndex, setCurrentCharIndex] = useState(0);
  const [isTyping, setIsTyping] = useState(false);
  const [ref, isInView] = useInView();

  useEffect(() => {
    if (!isInView || commands.length === 0) return;

    const startDelay = setTimeout(() => {
      setIsTyping(true);
    }, delay * 1000 + 500);

    return () => clearTimeout(startDelay);
  }, [isInView, delay, commands.length]);

  useEffect(() => {
    if (!isTyping || currentLineIndex >= commands.length) return;

    const currentCommand = commands[currentLineIndex];

    if (currentCharIndex < currentCommand.text.length) {
      const typingSpeed = currentCommand.type === 'output' ? 5 : 50;
      const timeout = setTimeout(() => {
        setCurrentCharIndex(prev => prev + 1);
      }, typingSpeed);
      return () => clearTimeout(timeout);
    } else {
      const pauseTime = currentCommand.type === 'command' ? 800 : 300;
      const timeout = setTimeout(() => {
        setDisplayedLines(prev => [...prev, currentCommand]);
        setCurrentLineIndex(prev => prev + 1);
        setCurrentCharIndex(0);
      }, pauseTime);
      return () => clearTimeout(timeout);
    }
  }, [isTyping, currentLineIndex, currentCharIndex, commands]);

  const currentCommand = commands[currentLineIndex];
  const partialText = currentCommand ? currentCommand.text.slice(0, currentCharIndex) : '';

  return (
    <AnimateOnScroll delay={delay}>
      <div ref={ref} style={{
        maxWidth: '700px',
        margin: `${TOKENS.spacing.xxl} auto`,
        borderRadius: '12px',
        overflow: 'hidden',
        boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(0, 0, 0, 0.1)',
        background: '#1E1E1E',
      }}>
        {/* macOS Window Title Bar */}
        <div style={{
          background: 'linear-gradient(180deg, #3D3D3D 0%, #2D2D2D 100%)',
          padding: '10px 16px',
          display: 'flex',
          alignItems: 'center',
          gap: '8px',
          borderBottom: '1px solid #1a1a1a',
        }}>
          {/* Traffic Lights */}
          <div style={{ display: 'flex', gap: '8px' }}>
            <div style={{
              width: '12px',
              height: '12px',
              borderRadius: '50%',
              background: '#FF5F56',
              border: '1px solid #E0443E',
            }} />
            <div style={{
              width: '12px',
              height: '12px',
              borderRadius: '50%',
              background: '#FFBD2E',
              border: '1px solid #DEA123',
            }} />
            <div style={{
              width: '12px',
              height: '12px',
              borderRadius: '50%',
              background: '#27C93F',
              border: '1px solid #1AAB29',
            }} />
          </div>
          {/* Title */}
          <div style={{
            flex: 1,
            textAlign: 'center',
            fontFamily: TOKENS.fonts.sans,
            fontSize: '13px',
            color: '#999',
            fontWeight: 500,
          }}>
            {title}
          </div>
          <div style={{ width: '52px' }} /> {/* Spacer for symmetry */}
        </div>

        {/* Terminal Content */}
        <div style={{
          padding: '16px 20px',
          minHeight: '180px',
          fontFamily: TOKENS.fonts.mono,
          fontSize: '13px',
          lineHeight: 1.6,
        }}>
          {/* Already typed lines */}
          {displayedLines.map((line, i) => (
            <div key={i} style={{ marginBottom: '4px' }}>
              {line.type === 'command' ? (
                <span>
                  <span style={{ color: '#50FA7B' }}>➜</span>
                  <span style={{ color: '#8BE9FD' }}> ~/mccormick</span>
                  <span style={{ color: '#F8F8F2' }}> {line.text}</span>
                </span>
              ) : (
                <span style={{ color: '#6272A4' }}>{line.text}</span>
              )}
            </div>
          ))}

          {/* Currently typing line */}
          {currentCommand && currentLineIndex < commands.length && (
            <div>
              {currentCommand.type === 'command' ? (
                <span>
                  <span style={{ color: '#50FA7B' }}>➜</span>
                  <span style={{ color: '#8BE9FD' }}> ~/mccormick</span>
                  <span style={{ color: '#F8F8F2' }}> {partialText}</span>
                  <span style={{
                    display: 'inline-block',
                    width: '8px',
                    height: '16px',
                    background: '#F8F8F2',
                    marginLeft: '2px',
                    animation: 'blink 1s step-end infinite',
                  }} />
                </span>
              ) : (
                <span style={{ color: '#6272A4' }}>{partialText}</span>
              )}
            </div>
          )}

          {/* Cursor after completion */}
          {currentLineIndex >= commands.length && commands.length > 0 && (
            <div>
              <span style={{ color: '#50FA7B' }}>➜</span>
              <span style={{ color: '#8BE9FD' }}> ~/mccormick</span>
              <span style={{
                display: 'inline-block',
                width: '8px',
                height: '16px',
                background: '#F8F8F2',
                marginLeft: '8px',
                animation: 'blink 1s step-end infinite',
              }} />
            </div>
          )}
        </div>
      </div>
    </AnimateOnScroll>
  );
};

// ============================================================================
// GLOBAL STYLES - Editorial/Magazine Aesthetic
// ============================================================================
const GlobalStyles = () => (
  <style>{`
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Source+Serif+4:ital,wght@0,300;0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500;600&family=Inter:wght@300;400;500;600&display=swap');

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      background: ${TOKENS.colors.bg.primary};
      color: ${TOKENS.colors.text.primary};
      font-family: ${TOKENS.fonts.serif};
      line-height: 1.8;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      font-size: 18px;
      letter-spacing: -0.01em;
    }

    /* Editorial paragraph styling */
    p {
      text-align: left;
      hyphens: auto;
      hanging-punctuation: first;
    }

    /* Drop cap for first paragraph */
    .drop-cap::first-letter {
      float: left;
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 4.5em;
      line-height: 0.8;
      padding-right: 0.1em;
      margin-top: 0.1em;
      color: ${TOKENS.colors.brand.purple};
      font-weight: 600;
    }

    ::selection {
      background: ${TOKENS.colors.brand.purple};
      color: ${TOKENS.colors.text.inverse};
    }

    /* Animated gradient mesh background */
    @keyframes meshMove {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      33% { transform: translate(30px, -30px) rotate(120deg); }
      66% { transform: translate(-20px, 20px) rotate(240deg); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.5; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.05); }
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    @keyframes dataFlow {
      0% { transform: translateX(-100%); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateX(100%); opacity: 0; }
    }

    @keyframes circuitPulse {
      0%, 100% { stroke-dashoffset: 0; }
      50% { stroke-dashoffset: 20; }
    }

    @keyframes glow {
      0%, 100% { box-shadow: 0 0 20px rgba(78, 42, 132, 0.3); }
      50% { box-shadow: 0 0 40px rgba(78, 42, 132, 0.5); }
    }

    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    .animate-in {
      animation: slideUp 0.6s ease-out forwards;
    }

    .delay-1 { animation-delay: 0.1s; }
    .delay-2 { animation-delay: 0.2s; }
    .delay-3 { animation-delay: 0.3s; }
    .delay-4 { animation-delay: 0.4s; }

    /* Scrollbar styling */
    ::-webkit-scrollbar {
      width: 10px;
    }
    ::-webkit-scrollbar-track {
      background: ${TOKENS.colors.bg.secondary};
    }
    ::-webkit-scrollbar-thumb {
      background: ${TOKENS.colors.brand.purple}40;
      border-radius: 5px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: ${TOKENS.colors.brand.purple}60;
    }
  `}</style>
);

// ============================================================================
// BACKGROUND EFFECTS
// ============================================================================
// Grid background only shown in hero section
const GridBackground = () => null;

// Gradient orbs only shown in hero, removed from body for clean reading
const GradientOrbs = () => null;

// ============================================================================
// DECORATIVE ELEMENTS
// ============================================================================
const CircuitLines = ({ style = {} }) => (
  <svg style={{ position: 'absolute', opacity: 0.1, ...style }} width="200" height="200" viewBox="0 0 200 200">
    <defs>
      <linearGradient id="circuitGrad" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" stopColor={TOKENS.colors.brand.purple} />
        <stop offset="100%" stopColor={TOKENS.colors.accent.cyan} />
      </linearGradient>
    </defs>
    <path
      d="M10 100 H50 L60 90 H100 L110 100 H150 M100 50 V90 M100 110 V150"
      stroke="url(#circuitGrad)"
      strokeWidth="2"
      fill="none"
      strokeDasharray="5 5"
      style={{ animation: 'circuitPulse 3s linear infinite' }}
    />
    <circle cx="50" cy="100" r="4" fill={TOKENS.colors.brand.purple} />
    <circle cx="100" cy="90" r="4" fill={TOKENS.colors.accent.cyan} />
    <circle cx="150" cy="100" r="4" fill={TOKENS.colors.brand.purple} />
    <circle cx="100" cy="50" r="4" fill={TOKENS.colors.accent.gold} />
    <circle cx="100" cy="150" r="4" fill={TOKENS.colors.accent.gold} />
  </svg>
);

const DataFlowLine = ({ width = '100%', color = TOKENS.colors.brand.purple }) => (
  <div style={{
    width,
    height: '2px',
    background: `linear-gradient(90deg, transparent, ${color}40, transparent)`,
    position: 'relative',
    overflow: 'hidden',
    margin: `${TOKENS.spacing.xl} 0`,
  }}>
    <div style={{
      position: 'absolute',
      width: '50px',
      height: '100%',
      background: `linear-gradient(90deg, transparent, ${color}, transparent)`,
      animation: 'dataFlow 3s ease-in-out infinite',
    }} />
  </div>
);

// Section divider with icon
const SectionDivider = ({ icon, color = TOKENS.colors.brand.purple }) => (
  <div style={{
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'center',
    gap: TOKENS.spacing.lg,
    margin: `${TOKENS.spacing.xxxl} 0`,
  }}>
    <div style={{
      flex: 1,
      height: '1px',
      background: `linear-gradient(90deg, transparent, ${color}40, transparent)`,
    }} />
    <div style={{
      width: '60px',
      height: '60px',
      borderRadius: '50%',
      background: `${color}15`,
      border: `2px solid ${color}30`,
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center',
      animation: 'pulse 3s ease-in-out infinite',
    }}>
      {icon}
    </div>
    <div style={{
      flex: 1,
      height: '1px',
      background: `linear-gradient(90deg, transparent, ${color}40, transparent)`,
    }} />
  </div>
);

// ============================================================================
// TYPOGRAPHY COMPONENTS - Editorial/Magazine Style
// ============================================================================

// Editorial headline - uses serif display font for magazine feel
const MonoHeading = ({ children, size = '3rem', gradient = false, style = {} }) => (
  <h1 style={{
    fontFamily: TOKENS.fonts.display,
    fontSize: size,
    fontWeight: 600,
    letterSpacing: '-0.03em',
    lineHeight: 1.15,
    color: gradient ? undefined : TOKENS.colors.text.primary,
    background: gradient ? TOKENS.colors.gradients.purple : 'none',
    WebkitBackgroundClip: gradient ? 'text' : 'none',
    WebkitTextFillColor: gradient ? 'transparent' : undefined,
    ...style
  }}>
    {children}
  </h1>
);

// Section subheading - refined sans-serif
const SectionSubhead = ({ children, style = {} }) => (
  <h2 style={{
    fontFamily: TOKENS.fonts.display,
    fontSize: '2rem',
    fontWeight: 500,
    letterSpacing: '-0.02em',
    lineHeight: 1.25,
    color: TOKENS.colors.text.primary,
    marginBottom: TOKENS.spacing.lg,
    ...style
  }}>
    {children}
  </h2>
);

// Editorial kicker/eyebrow - small caps treatment
const SectionLabel = ({ children, icon, color = TOKENS.colors.brand.purple }) => (
  <div style={{
    display: 'inline-flex',
    alignItems: 'center',
    gap: TOKENS.spacing.sm,
    marginBottom: TOKENS.spacing.md,
  }}>
    {icon && (
      <span style={{
        width: '28px',
        height: '28px',
        borderRadius: TOKENS.radius.sm,
        background: `${color}12`,
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
      }}>
        {icon}
      </span>
    )}
    <span style={{
      fontFamily: TOKENS.fonts.mono,
      fontSize: '0.75rem',
      fontWeight: 600,
      textTransform: 'uppercase',
      letterSpacing: '0.1em',
      color: color,
      padding: `${TOKENS.spacing.xs} ${TOKENS.spacing.md}`,
      background: `${color}15`,
      borderRadius: TOKENS.radius.full,
      border: `1px solid ${color}30`,
    }}>
      {children}
    </span>
    <div style={{
      width: '60px',
      height: '1px',
      background: `linear-gradient(90deg, ${color}, transparent)`,
    }} />
  </div>
);

// ============================================================================
// CARD COMPONENTS
// ============================================================================
const GlassCard = ({ children, highlight = false, glowColor = TOKENS.colors.brand.purple, style = {}, dark = false }) => (
  <div style={{
    background: dark ? 'rgba(30, 24, 40, 0.95)' : TOKENS.colors.gradients.card,
    borderRadius: TOKENS.radius.lg,
    border: `1px solid ${highlight ? glowColor + '30' : 'rgba(78, 42, 132, 0.1)'}`,
    boxShadow: highlight ? `0 4px 20px ${glowColor}15` : TOKENS.shadows.card,
    padding: TOKENS.spacing.xl,
    position: 'relative',
    overflow: 'hidden',
    transition: 'all 0.3s ease',
    ...style
  }}>
    {/* Top accent line for highlighted cards */}
    {highlight && (
      <div style={{
        position: 'absolute',
        top: 0,
        left: 0,
        right: 0,
        height: '3px',
        background: glowColor,
        borderRadius: `${TOKENS.radius.lg} ${TOKENS.radius.lg} 0 0`,
      }} />
    )}
    <div style={{ position: 'relative', zIndex: 1 }}>{children}</div>
  </div>
);

// ============================================================================
// DISTINCTIVE CARD TEMPLATES
// ============================================================================

// BRUTALIST CODE CARD - Raw, terminal-inspired with hard edges
const BrutalistCard = ({ title, content, command }) => (
  <AnimateOnScroll>
    <div style={{
      background: '#0C0C0C',
      border: '2px solid #333',
      padding: 0,
      margin: `${TOKENS.spacing.xxl} 0`,
      fontFamily: TOKENS.fonts.mono,
      overflow: 'hidden',
    }}>
      {/* Header bar */}
      <div style={{
        background: '#1A1A1A',
        padding: '12px 16px',
        borderBottom: '2px solid #333',
        display: 'flex',
        alignItems: 'center',
        gap: '12px',
      }}>
        <span style={{ color: '#FF5F56', fontSize: '10px' }}>●</span>
        <span style={{ color: '#FFBD2E', fontSize: '10px' }}>●</span>
        <span style={{ color: '#27C93F', fontSize: '10px' }}>●</span>
        <span style={{
          color: '#666',
          fontSize: '11px',
          textTransform: 'uppercase',
          letterSpacing: '0.1em',
          marginLeft: '8px',
        }}>
          {title}
        </span>
      </div>
      {/* Content */}
      <div style={{ padding: '24px' }}>
        {command && (
          <div style={{
            color: '#50FA7B',
            marginBottom: '16px',
            fontSize: '13px',
          }}>
            <span style={{ color: '#FF79C6' }}>$</span> {command}
          </div>
        )}
        <div style={{
          color: '#F8F8F2',
          fontSize: '14px',
          lineHeight: 1.7,
        }}>
          {content}
        </div>
      </div>
    </div>
  </AnimateOnScroll>
);

// EDITORIAL QUOTE CARD - Magazine-style with oversized typography
const EditorialQuote = ({ quote, author, role, accentColor = TOKENS.colors.brand.purple }) => (
  <AnimateOnScroll>
    <div style={{
      margin: `${TOKENS.spacing.xxxl} 0`,
      padding: `${TOKENS.spacing.xxl} 0`,
      borderTop: `1px solid ${TOKENS.colors.bg.tertiary}`,
      borderBottom: `1px solid ${TOKENS.colors.bg.tertiary}`,
      position: 'relative',
    }}>
      {/* Large decorative quote mark */}
      <div style={{
        position: 'absolute',
        top: '-20px',
        left: '0',
        fontSize: '120px',
        fontFamily: 'Georgia, serif',
        color: accentColor,
        opacity: 0.15,
        lineHeight: 1,
        userSelect: 'none',
      }}>
        "
      </div>
      <blockquote style={{
        fontFamily: "'Playfair Display', Georgia, serif",
        fontSize: '1.75rem',
        fontWeight: 400,
        fontStyle: 'italic',
        color: TOKENS.colors.text.primary,
        lineHeight: 1.4,
        margin: 0,
        paddingLeft: TOKENS.spacing.xl,
        position: 'relative',
        zIndex: 1,
      }}>
        {quote}
      </blockquote>
      <div style={{
        marginTop: TOKENS.spacing.lg,
        paddingLeft: TOKENS.spacing.xl,
        display: 'flex',
        alignItems: 'center',
        gap: TOKENS.spacing.md,
      }}>
        <div style={{
          width: '40px',
          height: '2px',
          background: accentColor,
        }} />
        <div>
          <div style={{
            fontFamily: TOKENS.fonts.mono,
            fontSize: '0.9rem',
            fontWeight: 600,
            color: accentColor,
          }}>
            {author}
          </div>
          {role && (
            <div style={{
              fontFamily: TOKENS.fonts.sans,
              fontSize: '0.8rem',
              color: TOKENS.colors.text.tertiary,
            }}>
              {role}
            </div>
          )}
        </div>
      </div>
    </div>
  </AnimateOnScroll>
);

// GRADIENT METRIC CARD - Bold gradient treatment for key numbers
const GradientMetric = ({ value, label, gradient = TOKENS.colors.gradients.purple }) => (
  <div style={{
    textAlign: 'center',
    padding: TOKENS.spacing.xl,
  }}>
    <div style={{
      fontFamily: TOKENS.fonts.mono,
      fontSize: '3.5rem',
      fontWeight: 700,
      background: gradient,
      WebkitBackgroundClip: 'text',
      WebkitTextFillColor: 'transparent',
      lineHeight: 1,
      marginBottom: TOKENS.spacing.sm,
    }}>
      {value}
    </div>
    <div style={{
      fontFamily: TOKENS.fonts.sans,
      fontSize: '0.85rem',
      color: TOKENS.colors.text.tertiary,
      textTransform: 'uppercase',
      letterSpacing: '0.08em',
    }}>
      {label}
    </div>
  </div>
);

// FLOATING INSIGHT CARD - Elevated with depth and subtle animation
const FloatingInsightCard = ({ icon, title, content, accentColor = TOKENS.colors.accent.cyan }) => (
  <AnimateOnScroll>
    <div style={{
      background: TOKENS.colors.bg.primary,
      borderRadius: TOKENS.radius.xl,
      padding: TOKENS.spacing.xxl,
      margin: `${TOKENS.spacing.xxl} 0`,
      boxShadow: `
        0 4px 6px rgba(0, 0, 0, 0.05),
        0 10px 20px rgba(0, 0, 0, 0.08),
        0 20px 40px rgba(0, 0, 0, 0.04)
      `,
      border: `1px solid ${TOKENS.colors.bg.tertiary}`,
      position: 'relative',
      overflow: 'hidden',
    }}>
      {/* Subtle gradient accent in corner */}
      <div style={{
        position: 'absolute',
        top: 0,
        right: 0,
        width: '150px',
        height: '150px',
        background: `radial-gradient(circle at top right, ${accentColor}10 0%, transparent 70%)`,
        pointerEvents: 'none',
      }} />
      <div style={{ position: 'relative', zIndex: 1 }}>
        <div style={{
          display: 'flex',
          alignItems: 'flex-start',
          gap: TOKENS.spacing.lg,
        }}>
          <div style={{
            width: '48px',
            height: '48px',
            borderRadius: TOKENS.radius.md,
            background: `${accentColor}15`,
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            flexShrink: 0,
          }}>
            {icon}
          </div>
          <div>
            <h4 style={{
              fontFamily: TOKENS.fonts.mono,
              fontSize: '1.1rem',
              fontWeight: 600,
              color: TOKENS.colors.text.primary,
              marginBottom: TOKENS.spacing.sm,
            }}>
              {title}
            </h4>
            <p style={{
              fontFamily: TOKENS.fonts.sans,
              fontSize: '0.95rem',
              color: TOKENS.colors.text.secondary,
              lineHeight: 1.7,
              margin: 0,
            }}>
              {content}
            </p>
          </div>
        </div>
      </div>
    </div>
  </AnimateOnScroll>
);

// ============================================================================
// ICON LIST COMPONENT - For lists that benefit from distinctive icons
// ============================================================================
const IconList = ({ items, color = TOKENS.colors.brand.purple }) => {
  // Map of keywords to icon functions for automatic icon assignment
  const getIconForItem = (text, index) => {
    const lowerText = text.toLowerCase();
    if (lowerText.includes('product') || lowerText.includes('ship')) return Icons.rocket;
    if (lowerText.includes('code') || lowerText.includes('engineer') || lowerText.includes('develop')) return Icons.code;
    if (lowerText.includes('design') || lowerText.includes('user') || lowerText.includes('customer')) return Icons.users;
    if (lowerText.includes('growth') || lowerText.includes('increase') || lowerText.includes('%')) return Icons.trendUp;
    if (lowerText.includes('learn') || lowerText.includes('teach') || lowerText.includes('student')) return Icons.graduation;
    if (lowerText.includes('ai') || lowerText.includes('intelligence') || lowerText.includes('machine')) return Icons.brain;
    if (lowerText.includes('fast') || lowerText.includes('quick') || lowerText.includes('rapid')) return Icons.bolt;
    if (lowerText.includes('goal') || lowerText.includes('target') || lowerText.includes('focus')) return Icons.target;
    if (lowerText.includes('idea') || lowerText.includes('innovate') || lowerText.includes('create')) return Icons.lightbulb;
    if (lowerText.includes('award') || lowerText.includes('achieve') || lowerText.includes('success')) return Icons.award;
    // Cycle through remaining icons based on index
    const fallbackIcons = [Icons.check, Icons.star, Icons.sprout, Icons.layers];
    return fallbackIcons[index % fallbackIcons.length];
  };

  return (
    <ul style={{
      listStyle: 'none',
      padding: 0,
      margin: `${TOKENS.spacing.lg} 0`,
    }}>
      {items.map((item, i) => {
        const IconFn = getIconForItem(item, i);
        return (
          <li key={i} style={{
            display: 'flex',
            alignItems: 'flex-start',
            gap: TOKENS.spacing.md,
            marginBottom: TOKENS.spacing.lg,
            padding: TOKENS.spacing.md,
            borderRadius: TOKENS.radius.md,
            background: i % 2 === 0 ? 'transparent' : `${color}05`,
            transition: 'background 0.2s ease',
          }}>
            <div style={{
              width: '36px',
              height: '36px',
              borderRadius: TOKENS.radius.md,
              background: `${color}10`,
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              flexShrink: 0,
              marginTop: '2px',
            }}>
              {IconFn(color)}
            </div>
            <span style={{
              fontFamily: TOKENS.fonts.sans,
              fontSize: '0.95rem',
              color: TOKENS.colors.text.secondary,
              lineHeight: 1.7,
              paddingTop: '6px',
            }}>
              {item}
            </span>
          </li>
        );
      })}
    </ul>
  );
};

// ============================================================================
// HERO SECTION
// ============================================================================
const HeroSection = ({ content }) => {
  const { header, heroStats } = content;

  return (
    <section style={{
      minHeight: '100vh',
      display: 'flex',
      flexDirection: 'column',
      justifyContent: 'center',
      padding: `${TOKENS.spacing.section} ${TOKENS.spacing.xl}`,
      position: 'relative',
    }}>
      <CircuitLines style={{ top: '20%', left: '5%' }} />
      <CircuitLines style={{ bottom: '20%', right: '5%', transform: 'rotate(180deg)' }} />

      <div style={{ maxWidth: '1200px', margin: '0 auto', width: '100%' }}>
        {/* Terminal-style header */}
        <div className="animate-in" style={{
          fontFamily: TOKENS.fonts.mono,
          fontSize: '0.85rem',
          color: TOKENS.colors.brand.purpleLight,
          marginBottom: TOKENS.spacing.lg,
          display: 'flex',
          alignItems: 'center',
          gap: TOKENS.spacing.sm,
        }}>
          <span style={{ color: TOKENS.colors.accent.cyan }}>$</span>
          <span>proposal --to="{header.to}" --from="{header.from}"</span>
          <span style={{ animation: 'blink 1s infinite', color: TOKENS.colors.accent.gold }}>▋</span>
        </div>

        <MonoHeading size="4.5rem" gradient className="animate-in delay-1">
          {header.title}
        </MonoHeading>

        <p className="animate-in delay-2" style={{
          fontFamily: TOKENS.fonts.sans,
          fontSize: '1.5rem',
          fontWeight: 300,
          color: TOKENS.colors.text.secondary,
          maxWidth: '800px',
          marginTop: TOKENS.spacing.lg,
          lineHeight: 1.5,
        }}>
          {header.subtitle}
        </p>

        {/* Stats Grid */}
        <div className="animate-in delay-3" style={{
          display: 'grid',
          gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))',
          gap: TOKENS.spacing.lg,
          marginTop: TOKENS.spacing.xxl,
        }}>
          {heroStats.map((stat, i) => (
            <StatCard key={i} stat={stat} index={i} />
          ))}
        </div>

        {/* Scroll indicator */}
        <div className="animate-in delay-4" style={{
          position: 'absolute',
          bottom: TOKENS.spacing.xxl,
          left: '50%',
          transform: 'translateX(-50%)',
          display: 'flex',
          flexDirection: 'column',
          alignItems: 'center',
          gap: TOKENS.spacing.sm,
          animation: 'float 2s ease-in-out infinite',
        }}>
          <span style={{
            fontFamily: TOKENS.fonts.mono,
            fontSize: '0.7rem',
            color: TOKENS.colors.text.tertiary,
            textTransform: 'uppercase',
            letterSpacing: '0.2em',
          }}>
            Scroll to explore
          </span>
          <div style={{
            width: '1px',
            height: '40px',
            background: `linear-gradient(180deg, ${TOKENS.colors.brand.purple}, transparent)`,
          }} />
        </div>
      </div>
    </section>
  );
};

const StatCard = ({ stat, index }) => {
  const configs = [
    { color: TOKENS.colors.brand.purple, icon: Icons.chart(TOKENS.colors.brand.purple) },
    { color: TOKENS.colors.accent.cyan, icon: Icons.zap(TOKENS.colors.accent.cyan) },
    { color: TOKENS.colors.accent.gold, icon: Icons.cpu(TOKENS.colors.accent.gold) },
    { color: TOKENS.colors.accent.green, icon: Icons.rocket(TOKENS.colors.accent.green) },
  ];
  const config = configs[index % configs.length];

  return (
    <GlassCard highlight glowColor={config.color} style={{ textAlign: 'center' }}>
      <div style={{ marginBottom: TOKENS.spacing.sm }}>{config.icon}</div>
      <div style={{
        fontFamily: TOKENS.fonts.mono,
        fontSize: '3rem',
        fontWeight: 700,
        color: config.color,
        textShadow: `0 0 30px ${config.color}50`,
        marginBottom: TOKENS.spacing.xs,
      }}>
        {stat.value}
      </div>
      <div style={{
        fontFamily: TOKENS.fonts.sans,
        fontSize: '0.9rem',
        fontWeight: 500,
        color: TOKENS.colors.text.primary,
        marginBottom: TOKENS.spacing.xs,
      }}>
        {stat.label}
      </div>
      <div style={{
        fontFamily: TOKENS.fonts.mono,
        fontSize: '0.7rem',
        color: TOKENS.colors.text.tertiary,
      }}>
        {stat.source}
      </div>
    </GlassCard>
  );
};

// ============================================================================
// QUOTE CAROUSEL
// ============================================================================
const QuoteCarousel = ({ quotes }) => {
  const [activeIndex, setActiveIndex] = useState(0);

  useEffect(() => {
    const timer = setInterval(() => {
      setActiveIndex(i => (i + 1) % quotes.length);
    }, 6000);
    return () => clearInterval(timer);
  }, [quotes.length]);

  if (!quotes || quotes.length === 0) return null;
  const quote = quotes[activeIndex];

  return (
    <AnimateOnScroll>
      <GlassCard highlight glowColor={TOKENS.colors.brand.purple} style={{ margin: `${TOKENS.spacing.xxl} 0` }}>
        <div style={{
          display: 'flex',
          alignItems: 'flex-start',
          gap: TOKENS.spacing.lg,
        }}>
          {Icons.quote(TOKENS.colors.brand.purple)}

          <div style={{ flex: 1 }}>
            <p style={{
              fontFamily: TOKENS.fonts.sans,
              fontSize: '1.25rem',
              fontStyle: 'italic',
              color: TOKENS.colors.text.primary,
              lineHeight: 1.6,
              marginBottom: TOKENS.spacing.lg,
            }}>
              {quote.quote}
            </p>

            <div style={{
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'space-between',
            }}>
              <div>
                <div style={{
                  fontFamily: TOKENS.fonts.mono,
                  fontWeight: 600,
                  color: TOKENS.colors.brand.purpleLight,
                }}>
                  {quote.person}
                </div>
                <div style={{
                  fontFamily: TOKENS.fonts.sans,
                  fontSize: '0.85rem',
                  color: TOKENS.colors.text.tertiary,
                }}>
                  {quote.title}
                </div>
              </div>

              {/* Navigation dots */}
              <div style={{ display: 'flex', gap: TOKENS.spacing.sm }}>
                {quotes.map((_, i) => (
                  <button
                    key={i}
                    onClick={() => setActiveIndex(i)}
                    style={{
                      width: i === activeIndex ? '24px' : '8px',
                      height: '8px',
                      borderRadius: TOKENS.radius.full,
                      background: i === activeIndex ? TOKENS.colors.brand.purple : TOKENS.colors.bg.tertiary,
                      border: 'none',
                      cursor: 'pointer',
                      transition: 'all 0.3s ease',
                    }}
                  />
                ))}
              </div>
            </div>
          </div>
        </div>
      </GlassCard>
    </AnimateOnScroll>
  );
};

// ============================================================================
// ROLE CONVERGENCE DIAGRAM
// ============================================================================
const RoleConvergenceDiagram = ({ data }) => (
  <div style={{
    display: 'grid',
    gridTemplateColumns: 'repeat(3, 1fr)',
    gap: TOKENS.spacing.xl,
    margin: `${TOKENS.spacing.xxl} 0`,
  }}>
    {data.map((item, i) => {
      const icons = [Icons.users, Icons.code, Icons.layers];
      const colors = [TOKENS.colors.brand.purple, TOKENS.colors.accent.cyan, TOKENS.colors.accent.gold];

      return (
        <AnimateOnScroll key={i} delay={i * 0.15}>
          <GlassCard highlight glowColor={colors[i]} style={{ textAlign: 'center', position: 'relative' }}>
            {/* Connection line */}
            {i < data.length - 1 && (
              <div style={{
                position: 'absolute',
                top: '50%',
                right: '-32px',
                width: '64px',
                height: '2px',
                background: `linear-gradient(90deg, ${colors[i]}, ${colors[i + 1]})`,
                zIndex: 10,
              }}>
                <div style={{
                  position: 'absolute',
                  width: '10px',
                  height: '10px',
                  borderRadius: '50%',
                  background: colors[i],
                  boxShadow: `0 0 10px ${colors[i]}`,
                  animation: 'dataFlow 2s ease-in-out infinite',
                  animationDelay: `${i * 0.3}s`,
                }} />
              </div>
            )}

            <div style={{ marginBottom: TOKENS.spacing.md }}>
              {icons[i](colors[i])}
            </div>

            <div style={{
              fontFamily: TOKENS.fonts.mono,
              fontSize: '0.75rem',
              color: TOKENS.colors.text.tertiary,
              textTransform: 'uppercase',
              letterSpacing: '0.1em',
              marginBottom: TOKENS.spacing.sm,
            }}>
              Traditional
            </div>

            <div style={{
              fontFamily: TOKENS.fonts.mono,
              fontSize: '1.5rem',
              fontWeight: 700,
              color: TOKENS.colors.text.primary,
              marginBottom: TOKENS.spacing.md,
            }}>
              {item.role}
            </div>

            {/* Arrow down */}
            <div style={{
              width: '40px',
              height: '40px',
              margin: '0 auto',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              borderRadius: '50%',
              background: `linear-gradient(135deg, ${colors[i]}, ${colors[(i + 1) % 3]})`,
              marginBottom: TOKENS.spacing.md,
            }}>
              <span style={{ fontSize: '1.2rem', color: TOKENS.colors.text.primary }}>↓</span>
            </div>

            <div style={{
              fontFamily: TOKENS.fonts.mono,
              fontSize: '0.75rem',
              color: TOKENS.colors.accent.gold,
              textTransform: 'uppercase',
              letterSpacing: '0.1em',
              marginBottom: TOKENS.spacing.sm,
            }}>
              Converging To
            </div>

            <div style={{
              fontFamily: TOKENS.fonts.mono,
              fontSize: '1.25rem',
              fontWeight: 600,
              color: colors[i],
              marginBottom: TOKENS.spacing.md,
            }}>
              {item.target}
            </div>

            <p style={{
              fontFamily: TOKENS.fonts.sans,
              fontSize: '0.85rem',
              color: TOKENS.colors.text.secondary,
              lineHeight: 1.5,
            }}>
              {item.description}
            </p>
          </GlassCard>
        </AnimateOnScroll>
      );
    })}
  </div>
);

// ============================================================================
// PILLAR CARDS
// ============================================================================
const PillarCards = ({ pillars }) => {
  const icons = [Icons.cpu, Icons.graduation, Icons.globe];
  const colors = [TOKENS.colors.brand.purple, TOKENS.colors.accent.cyan, TOKENS.colors.accent.gold];

  return (
    <div style={{
      display: 'grid',
      gridTemplateColumns: 'repeat(3, 1fr)',
      gap: TOKENS.spacing.lg,
      margin: `${TOKENS.spacing.xxl} 0`,
    }}>
      {pillars.map((pillar, i) => (
        <AnimateOnScroll key={i} delay={i * 0.15}>
          <GlassCard highlight={i === 0} glowColor={colors[i]} style={{
            borderTop: `3px solid ${colors[i]}`,
          }}>
            <div style={{
              display: 'flex',
              alignItems: 'center',
              gap: TOKENS.spacing.md,
              marginBottom: TOKENS.spacing.lg,
            }}>
              <div style={{
                width: '56px',
                height: '56px',
                borderRadius: TOKENS.radius.lg,
                background: `${colors[i]}20`,
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
              }}>
                {icons[i](colors[i])}
              </div>
              <div>
                <div style={{
                  fontFamily: TOKENS.fonts.mono,
                  fontSize: '0.7rem',
                  color: TOKENS.colors.text.tertiary,
                  textTransform: 'uppercase',
                  letterSpacing: '0.1em',
                }}>
                  Pillar {pillar.number}
                </div>
                <div style={{
                  fontFamily: TOKENS.fonts.mono,
                  fontSize: '1.1rem',
                  fontWeight: 600,
                  color: TOKENS.colors.text.primary,
                }}>
                  {pillar.title}
                </div>
              </div>
            </div>
            <p style={{
              fontFamily: TOKENS.fonts.sans,
              fontSize: '0.9rem',
              color: TOKENS.colors.text.secondary,
              lineHeight: 1.6,
            }}>
              {pillar.description}
            </p>
          </GlassCard>
        </AnimateOnScroll>
      ))}
    </div>
  );
};

// ============================================================================
// TIMELINE
// ============================================================================
const Timeline = ({ items }) => (
  <div style={{ position: 'relative', margin: `${TOKENS.spacing.xxl} 0` }}>
    {/* Vertical line */}
    <div style={{
      position: 'absolute',
      left: '100px',
      top: 0,
      bottom: 0,
      width: '2px',
      background: `linear-gradient(180deg, ${TOKENS.colors.brand.purple}, ${TOKENS.colors.accent.cyan}, ${TOKENS.colors.accent.gold}, transparent)`,
    }} />

    {items.map((item, i) => (
      <AnimateOnScroll key={i} delay={i * 0.1}>
        <div style={{
          display: 'flex',
          alignItems: 'flex-start',
          gap: TOKENS.spacing.xl,
          marginBottom: TOKENS.spacing.xl,
          position: 'relative',
        }}>
          {/* Year */}
          <div style={{
            width: '80px',
            fontFamily: TOKENS.fonts.mono,
            fontSize: '0.9rem',
            fontWeight: 600,
            color: item.highlight ? TOKENS.colors.brand.purpleLight : TOKENS.colors.text.tertiary,
            textAlign: 'right',
          }}>
            {item.year}
          </div>

          {/* Node */}
          <div style={{
            width: '16px',
            height: '16px',
            borderRadius: '50%',
            background: item.highlight ? TOKENS.colors.brand.purple : TOKENS.colors.bg.tertiary,
            border: `2px solid ${item.highlight ? TOKENS.colors.brand.purple : TOKENS.colors.text.tertiary}`,
            boxShadow: item.highlight ? `0 0 20px ${TOKENS.colors.brand.purpleGlow}` : 'none',
            flexShrink: 0,
            marginTop: '4px',
            animation: item.highlight ? 'pulse 2s ease-in-out infinite' : 'none',
          }} />

          {/* Content */}
          <GlassCard highlight={item.highlight} glowColor={TOKENS.colors.brand.purple} style={{ flex: 1 }}>
            <div style={{
              display: 'flex',
              alignItems: 'center',
              gap: TOKENS.spacing.sm,
              marginBottom: TOKENS.spacing.sm,
            }}>
              {item.highlight && Icons.star(TOKENS.colors.accent.gold)}
              <span style={{
                fontFamily: TOKENS.fonts.mono,
                fontSize: '1.1rem',
                fontWeight: 600,
                color: TOKENS.colors.text.primary,
              }}>
                {item.title}
              </span>
            </div>
            <p style={{
              fontFamily: TOKENS.fonts.sans,
              fontSize: '0.9rem',
              color: TOKENS.colors.text.secondary,
              lineHeight: 1.6,
            }}>
              {item.description}
            </p>
          </GlassCard>
        </div>
      </AnimateOnScroll>
    ))}
  </div>
);

// ============================================================================
// CREDENTIALS GRID
// ============================================================================
const CredentialsGrid = ({ credentials }) => {
  const icons = [Icons.award, Icons.code, Icons.chart, Icons.grid, Icons.layers, Icons.graduation];
  const colors = [
    TOKENS.colors.brand.purple,
    TOKENS.colors.accent.cyan,
    TOKENS.colors.accent.gold,
    TOKENS.colors.accent.green,
    TOKENS.colors.brand.purpleLight,
    TOKENS.colors.accent.cyan,
  ];

  return (
    <div style={{
      display: 'grid',
      gridTemplateColumns: 'repeat(6, 1fr)',
      gap: TOKENS.spacing.md,
      margin: `${TOKENS.spacing.xxl} 0`,
    }}>
      {credentials.map((cred, i) => (
        <AnimateOnScroll key={i} delay={i * 0.08}>
          <GlassCard style={{ textAlign: 'center', padding: TOKENS.spacing.lg }}>
            <div style={{ marginBottom: TOKENS.spacing.sm }}>
              {icons[i](colors[i])}
            </div>
            <div style={{
              fontFamily: TOKENS.fonts.mono,
              fontSize: '2rem',
              fontWeight: 700,
              background: `linear-gradient(135deg, ${colors[i]}, ${colors[(i + 1) % colors.length]})`,
              WebkitBackgroundClip: 'text',
              WebkitTextFillColor: 'transparent',
              marginBottom: TOKENS.spacing.xs,
            }}>
              {cred.value}
            </div>
            <div style={{
              fontFamily: TOKENS.fonts.sans,
              fontSize: '0.7rem',
              color: TOKENS.colors.text.tertiary,
              textTransform: 'uppercase',
              letterSpacing: '0.05em',
            }}>
              {cred.label}
            </div>
          </GlassCard>
        </AnimateOnScroll>
      ))}
    </div>
  );
};

// ============================================================================
// SECTION COMPONENT - Editorial/Magazine Layout
// ============================================================================
const Section = ({ label, title, icon, children, color = TOKENS.colors.brand.purple }) => (
  <section style={{
    padding: `${TOKENS.spacing.section} ${TOKENS.spacing.xl}`,
    maxWidth: '900px',
    margin: '0 auto',
    position: 'relative',
  }}>
    <AnimateOnScroll>
      {/* Editorial section header */}
      <div style={{
        marginBottom: TOKENS.spacing.xxl,
        paddingBottom: TOKENS.spacing.lg,
        borderBottom: `1px solid ${TOKENS.colors.bg.tertiary}`,
      }}>
        <SectionLabel icon={icon} color={color}>{label}</SectionLabel>
        <MonoHeading size="2.75rem" style={{
          marginTop: TOKENS.spacing.md,
          maxWidth: '800px',
        }}>
          {title}
        </MonoHeading>
      </div>
    </AnimateOnScroll>
    {children}
  </section>
);

// ============================================================================
// CONTENT SECTION - Editorial/Magazine Style
// ============================================================================
const ContentSection = ({ section, sectionNumber }) => {
  const configs = [
    { color: TOKENS.colors.brand.purple, icon: Icons.brain },
    { color: TOKENS.colors.accent.cyan, icon: Icons.target },
    { color: TOKENS.colors.accent.gold, icon: Icons.lightbulb },
    { color: TOKENS.colors.accent.green, icon: Icons.code },
    { color: TOKENS.colors.brand.purpleLight, icon: Icons.award },
    { color: TOKENS.colors.accent.cyan, icon: Icons.users },
    { color: TOKENS.colors.accent.gold, icon: Icons.rocket },
  ];
  const config = configs[(sectionNumber - 1) % configs.length];

  return (
    <Section
      label={`Section ${sectionNumber}`}
      title={section.title}
      icon={config.icon(config.color)}
      color={config.color}
    >
      {/* Intro paragraphs - editorial body text */}
      {section.intro && section.intro.map((p, i) => (
        <AnimateOnScroll key={i} delay={i * 0.1}>
          <p
            className={i === 0 ? 'drop-cap' : ''}
            style={{
              fontFamily: TOKENS.fonts.serif,
              fontSize: '1.15rem',
              color: TOKENS.colors.text.secondary,
              lineHeight: 1.85,
              marginBottom: TOKENS.spacing.lg,
              maxWidth: '720px',
            }}>
            {p}
          </p>
        </AnimateOnScroll>
      ))}

      {/* Subsections */}
      {section.subsections && section.subsections.map((sub, i) => (
        <AnimateOnScroll key={i} delay={0.1}>
          <div style={{
            marginTop: TOKENS.spacing.xxl,
            paddingTop: TOKENS.spacing.lg,
            borderTop: i > 0 ? `1px solid ${TOKENS.colors.bg.tertiary}` : 'none',
          }}>
            {/* Editorial subhead with accent line */}
            <h3 style={{
              fontFamily: TOKENS.fonts.display,
              fontSize: '1.4rem',
              fontWeight: 500,
              fontStyle: 'italic',
              color: TOKENS.colors.text.primary,
              marginBottom: TOKENS.spacing.lg,
              paddingLeft: TOKENS.spacing.lg,
              borderLeft: `3px solid ${config.color}`,
            }}>
              {sub.title}
            </h3>

            {/* Paragraphs - editorial body text */}
            {sub.paragraphs && sub.paragraphs.map((p, j) => (
              <p key={j} style={{
                fontFamily: TOKENS.fonts.serif,
                fontSize: '1.05rem',
                color: TOKENS.colors.text.secondary,
                lineHeight: 1.8,
                marginBottom: TOKENS.spacing.lg,
                maxWidth: '720px',
              }}>
                {p}
              </p>
            ))}

            {/* Bullets - simple elegant list style */}
            {sub.bullets && sub.bullets.length > 0 && (
              <ul style={{
                listStyle: 'none',
                padding: 0,
                margin: `${TOKENS.spacing.lg} 0`,
                paddingLeft: TOKENS.spacing.md,
                borderLeft: `2px solid ${config.color}20`,
              }}>
                {sub.bullets.map((bullet, k) => (
                  <li key={k} style={{
                    display: 'flex',
                    alignItems: 'flex-start',
                    gap: TOKENS.spacing.md,
                    marginBottom: TOKENS.spacing.md,
                    fontFamily: TOKENS.fonts.serif,
                    fontSize: '1rem',
                    color: TOKENS.colors.text.secondary,
                    lineHeight: 1.75,
                    paddingLeft: TOKENS.spacing.sm,
                  }}>
                    <span style={{
                      width: '6px',
                      height: '6px',
                      borderRadius: '50%',
                      background: config.color,
                      marginTop: '10px',
                      flexShrink: 0,
                      opacity: 0.6,
                    }} />
                    {bullet}
                  </li>
                ))}
              </ul>
            )}
          </div>
        </AnimateOnScroll>
      ))}

      {/* Data flow line between sections */}
      <DataFlowLine color={config.color} />
    </Section>
  );
};

// ============================================================================
// FEATURE HIGHLIGHT BOX - Alternating visual for subsections
// ============================================================================
const FeatureHighlight = ({ title, content, color, index }) => {
  const isEven = index % 2 === 0;
  return (
    <AnimateOnScroll delay={0.1}>
      <div style={{
        display: 'flex',
        flexDirection: isEven ? 'row' : 'row-reverse',
        gap: TOKENS.spacing.xl,
        alignItems: 'center',
        margin: `${TOKENS.spacing.xxl} 0`,
        padding: TOKENS.spacing.xl,
        background: isEven ? `linear-gradient(90deg, ${color}08 0%, transparent 100%)` : `linear-gradient(90deg, transparent 0%, ${color}08 100%)`,
        borderRadius: TOKENS.radius.lg,
        borderLeft: isEven ? `4px solid ${color}` : 'none',
        borderRight: !isEven ? `4px solid ${color}` : 'none',
      }}>
        <div style={{
          width: '80px',
          height: '80px',
          borderRadius: '50%',
          background: `${color}15`,
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          flexShrink: 0,
          border: `2px solid ${color}30`,
        }}>
          <span style={{
            fontFamily: TOKENS.fonts.mono,
            fontSize: '1.5rem',
            fontWeight: 700,
            color: color,
          }}>
            {String(index + 1).padStart(2, '0')}
          </span>
        </div>
        <div style={{ flex: 1 }}>
          <h4 style={{
            fontFamily: TOKENS.fonts.mono,
            fontSize: '1.1rem',
            fontWeight: 600,
            color: color,
            marginBottom: TOKENS.spacing.sm,
          }}>
            {title}
          </h4>
          <p style={{
            fontFamily: TOKENS.fonts.sans,
            fontSize: '0.95rem',
            color: TOKENS.colors.text.secondary,
            lineHeight: 1.6,
            margin: 0,
          }}>
            {content}
          </p>
        </div>
      </div>
    </AnimateOnScroll>
  );
};

// ============================================================================
// CALLOUT COMPONENT
// ============================================================================
const Callout = ({ title, children, icon }) => (
  <AnimateOnScroll>
    <GlassCard highlight glowColor={TOKENS.colors.accent.gold} style={{
      margin: `${TOKENS.spacing.xxl} 0`,
      borderLeft: `4px solid ${TOKENS.colors.accent.gold}`,
      background: `linear-gradient(135deg, rgba(255, 184, 28, 0.1) 0%, ${TOKENS.colors.bg.card} 100%)`,
    }}>
      <div style={{
        display: 'flex',
        alignItems: 'center',
        gap: TOKENS.spacing.md,
        marginBottom: TOKENS.spacing.md,
      }}>
        {icon || Icons.lightbulb(TOKENS.colors.accent.gold)}
        <span style={{
          fontFamily: TOKENS.fonts.mono,
          fontSize: '1.25rem',
          fontWeight: 600,
          color: TOKENS.colors.accent.gold,
        }}>
          {title}
        </span>
      </div>
      {children}
    </GlassCard>
  </AnimateOnScroll>
);

// ============================================================================
// PULL QUOTE - Large featured quote for visual break
// ============================================================================
const PullQuote = ({ quote, attribution, color = TOKENS.colors.brand.purple }) => (
  <AnimateOnScroll>
    <div style={{
      margin: `${TOKENS.spacing.xxxl} auto`,
      maxWidth: '900px',
      padding: `${TOKENS.spacing.xxl} ${TOKENS.spacing.xl}`,
      position: 'relative',
      textAlign: 'center',
    }}>
      {/* Decorative quote marks */}
      <div style={{
        position: 'absolute',
        top: 0,
        left: '50%',
        transform: 'translateX(-50%)',
        opacity: 0.15,
      }}>
        {Icons.quote(color)}
      </div>
      <blockquote style={{
        fontFamily: TOKENS.fonts.serif || TOKENS.fonts.sans,
        fontSize: '1.75rem',
        fontWeight: 300,
        fontStyle: 'italic',
        color: TOKENS.colors.text.primary,
        lineHeight: 1.5,
        marginBottom: TOKENS.spacing.lg,
        position: 'relative',
        zIndex: 1,
      }}>
        "{quote}"
      </blockquote>
      {attribution && (
        <cite style={{
          fontFamily: TOKENS.fonts.mono,
          fontSize: '0.9rem',
          color: color,
          fontStyle: 'normal',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          gap: TOKENS.spacing.sm,
        }}>
          <span style={{
            width: '30px',
            height: '2px',
            background: color,
          }} />
          {attribution}
        </cite>
      )}
    </div>
  </AnimateOnScroll>
);

// ============================================================================
// INSIGHT BANNER - Full-width highlight banner
// ============================================================================
const InsightBanner = ({ icon, title, description, color = TOKENS.colors.accent.cyan }) => (
  <AnimateOnScroll>
    <div style={{
      background: `linear-gradient(135deg, ${color}10 0%, ${TOKENS.colors.bg.secondary} 100%)`,
      borderTop: `3px solid ${color}`,
      borderBottom: `1px solid ${color}20`,
      padding: `${TOKENS.spacing.xxl} ${TOKENS.spacing.xl}`,
      margin: `${TOKENS.spacing.xxxl} 0`,
    }}>
      <div style={{
        maxWidth: '1200px',
        margin: '0 auto',
        display: 'flex',
        alignItems: 'center',
        gap: TOKENS.spacing.xl,
      }}>
        <div style={{
          width: '80px',
          height: '80px',
          borderRadius: '50%',
          background: `${color}20`,
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          flexShrink: 0,
          border: `2px solid ${color}40`,
        }}>
          {icon}
        </div>
        <div>
          <h4 style={{
            fontFamily: TOKENS.fonts.mono,
            fontSize: '1.25rem',
            fontWeight: 600,
            color: color,
            marginBottom: TOKENS.spacing.sm,
          }}>
            {title}
          </h4>
          <p style={{
            fontFamily: TOKENS.fonts.sans,
            fontSize: '1.05rem',
            color: TOKENS.colors.text.secondary,
            lineHeight: 1.6,
            margin: 0,
          }}>
            {description}
          </p>
        </div>
      </div>
    </div>
  </AnimateOnScroll>
);

// ============================================================================
// KEY METRICS BAR - Inline stats display
// ============================================================================
const KeyMetricsBar = ({ metrics }) => (
  <AnimateOnScroll>
    <div style={{
      background: TOKENS.colors.bg.hero,
      padding: `${TOKENS.spacing.xl} ${TOKENS.spacing.xxl}`,
      margin: `${TOKENS.spacing.xxl} 0`,
      borderRadius: TOKENS.radius.lg,
    }}>
      <div style={{
        maxWidth: '1000px',
        margin: '0 auto',
        display: 'flex',
        justifyContent: 'space-around',
        flexWrap: 'wrap',
        gap: TOKENS.spacing.lg,
      }}>
        {metrics.map((metric, i) => (
          <div key={i} style={{
            textAlign: 'center',
            minWidth: '120px',
          }}>
            <div style={{
              fontFamily: TOKENS.fonts.mono,
              fontSize: '2rem',
              fontWeight: 700,
              background: TOKENS.colors.gradients.purple,
              WebkitBackgroundClip: 'text',
              WebkitTextFillColor: 'transparent',
              marginBottom: TOKENS.spacing.xs,
            }}>
              {metric.value}
            </div>
            <div style={{
              fontFamily: TOKENS.fonts.sans,
              fontSize: '0.8rem',
              color: TOKENS.colors.text.inverse,
              opacity: 0.8,
              textTransform: 'uppercase',
              letterSpacing: '0.05em',
            }}>
              {metric.label}
            </div>
          </div>
        ))}
      </div>
    </div>
  </AnimateOnScroll>
);

// ============================================================================
// CALL TO ACTION CARD
// ============================================================================
const CTACard = ({ title, subtitle, icon, color = TOKENS.colors.brand.purple }) => (
  <AnimateOnScroll>
    <div style={{
      maxWidth: '800px',
      margin: `${TOKENS.spacing.xxxl} auto`,
      padding: TOKENS.spacing.xl,
    }}>
      <GlassCard highlight glowColor={color} style={{
        background: `linear-gradient(135deg, ${TOKENS.colors.bg.hero} 0%, ${TOKENS.colors.bg.heroSecondary} 100%)`,
        textAlign: 'center',
        padding: TOKENS.spacing.xxxl,
      }} dark>
        <div style={{
          width: '100px',
          height: '100px',
          borderRadius: '50%',
          background: `linear-gradient(135deg, ${color}30 0%, ${color}10 100%)`,
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          margin: '0 auto',
          marginBottom: TOKENS.spacing.xl,
          border: `2px solid ${color}50`,
          boxShadow: `0 0 40px ${color}30`,
        }}>
          {icon}
        </div>
        <h3 style={{
          fontFamily: TOKENS.fonts.mono,
          fontSize: '1.75rem',
          fontWeight: 600,
          color: TOKENS.colors.text.inverse,
          marginBottom: TOKENS.spacing.md,
        }}>
          {title}
        </h3>
        <p style={{
          fontFamily: TOKENS.fonts.sans,
          fontSize: '1.1rem',
          color: TOKENS.colors.text.inverse,
          opacity: 0.8,
          lineHeight: 1.6,
          margin: 0,
        }}>
          {subtitle}
        </p>
      </GlassCard>
    </div>
  </AnimateOnScroll>
);

// ============================================================================
// TESTIMONIALS
// ============================================================================
const Testimonials = ({ section }) => {
  if (!section.bullets || section.bullets.length === 0) return null;

  return (
    <Section
      label="Testimonials"
      title={section.title}
      icon={Icons.users(TOKENS.colors.brand.purpleLight)}
      color={TOKENS.colors.brand.purpleLight}
    >
      <div style={{
        display: 'grid',
        gridTemplateColumns: 'repeat(2, 1fr)',
        gap: TOKENS.spacing.lg,
      }}>
        {section.bullets.map((testimonial, i) => (
          <AnimateOnScroll key={i} delay={i * 0.1}>
            <GlassCard>
              <div style={{
                display: 'flex',
                alignItems: 'flex-start',
                gap: TOKENS.spacing.md,
              }}>
                {Icons.quote(TOKENS.colors.brand.purpleLight)}
                <p style={{
                  fontFamily: TOKENS.fonts.sans,
                  fontSize: '0.95rem',
                  color: TOKENS.colors.text.secondary,
                  lineHeight: 1.7,
                  fontStyle: 'italic',
                }}>
                  {testimonial}
                </p>
              </div>
            </GlassCard>
          </AnimateOnScroll>
        ))}
      </div>
    </Section>
  );
};

// ============================================================================
// CITATIONS
// ============================================================================
const Citations = ({ citations }) => {
  if (!citations || citations.length === 0) return null;

  return (
    <Section
      label="References"
      title="Citations"
      icon={Icons.layers(TOKENS.colors.text.tertiary)}
      color={TOKENS.colors.text.tertiary}
    >
      <AnimateOnScroll>
        <GlassCard style={{ padding: TOKENS.spacing.xxl }}>
          <div style={{
            columnCount: 2,
            columnGap: TOKENS.spacing.xl,
          }}>
            {citations.map((citation, i) => (
              <p key={i} style={{
                fontFamily: TOKENS.fonts.mono,
                fontSize: '0.7rem',
                color: TOKENS.colors.text.tertiary,
                lineHeight: 1.5,
                marginBottom: TOKENS.spacing.sm,
                breakInside: 'avoid',
              }}>
                {citation}
              </p>
            ))}
          </div>
        </GlassCard>
      </AnimateOnScroll>
    </Section>
  );
};

// ============================================================================
// AUTHOR BIO SECTION - Professional headshot and bio
// ============================================================================
const AuthorBio = ({ header }) => (
  <AnimateOnScroll>
    <div style={{
      maxWidth: '900px',
      margin: `${TOKENS.spacing.xxxl} auto`,
      padding: `0 ${TOKENS.spacing.xl}`,
    }}>
      <div style={{
        display: 'flex',
        alignItems: 'center',
        gap: TOKENS.spacing.xxl,
        padding: TOKENS.spacing.xxl,
        background: TOKENS.colors.bg.secondary,
        borderRadius: TOKENS.radius.xl,
        border: `1px solid ${TOKENS.colors.bg.tertiary}`,
      }}>
        {/* Headshot */}
        <div style={{
          width: '140px',
          height: '140px',
          borderRadius: '50%',
          overflow: 'hidden',
          flexShrink: 0,
          border: `4px solid ${TOKENS.colors.brand.purple}`,
          boxShadow: `0 0 0 4px ${TOKENS.colors.brand.purple}20, 0 10px 30px rgba(0,0,0,0.15)`,
        }}>
          <img
            src="/headshot.jpg"
            alt={header.from}
            style={{
              width: '100%',
              height: '100%',
              objectFit: 'cover',
              filter: 'grayscale(0%)',
            }}
          />
        </div>
        {/* Bio text */}
        <div style={{ flex: 1 }}>
          <div style={{
            fontFamily: TOKENS.fonts.mono,
            fontSize: '0.75rem',
            color: TOKENS.colors.brand.purple,
            textTransform: 'uppercase',
            letterSpacing: '0.1em',
            marginBottom: TOKENS.spacing.sm,
          }}>
            About the Author
          </div>
          <h3 style={{
            fontFamily: TOKENS.fonts.mono,
            fontSize: '1.5rem',
            fontWeight: 600,
            color: TOKENS.colors.text.primary,
            marginBottom: TOKENS.spacing.sm,
          }}>
            {header.from}
          </h3>
          <p style={{
            fontFamily: TOKENS.fonts.sans,
            fontSize: '0.95rem',
            color: TOKENS.colors.text.secondary,
            lineHeight: 1.7,
            marginBottom: TOKENS.spacing.md,
          }}>
            Product leader with 15+ years building technology products at the intersection of design, engineering, and user experience. Passionate about preparing the next generation of engineers for an AI-augmented future.
          </p>
          <div style={{
            display: 'flex',
            alignItems: 'center',
            gap: TOKENS.spacing.md,
          }}>
            <a href={`mailto:${header.fromEmail}`} style={{
              fontFamily: TOKENS.fonts.mono,
              fontSize: '0.85rem',
              color: TOKENS.colors.brand.purple,
              textDecoration: 'none',
              display: 'flex',
              alignItems: 'center',
              gap: TOKENS.spacing.xs,
            }}>
              {header.fromEmail}
            </a>
          </div>
        </div>
      </div>
    </div>
  </AnimateOnScroll>
);

// ============================================================================
// FOOTER
// ============================================================================
const Footer = ({ header }) => (
  <footer style={{
    padding: `${TOKENS.spacing.xxl} ${TOKENS.spacing.xl}`,
    borderTop: `1px solid ${TOKENS.colors.bg.tertiary}`,
    textAlign: 'center',
  }}>
    <AnimateOnScroll>
      <div style={{
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        gap: TOKENS.spacing.sm,
        marginBottom: TOKENS.spacing.md,
      }}>
        {Icons.graduation(TOKENS.colors.brand.purple)}
        <span style={{
          fontFamily: TOKENS.fonts.mono,
          fontSize: '1rem',
          color: TOKENS.colors.brand.purpleLight,
        }}>
          Northwestern McCormick
        </span>
      </div>
      <div style={{
        fontFamily: TOKENS.fonts.mono,
        fontSize: '0.85rem',
        color: TOKENS.colors.text.tertiary,
        marginBottom: TOKENS.spacing.sm,
      }}>
        {header.from} · {header.fromEmail}
      </div>
      <div style={{
        fontFamily: TOKENS.fonts.mono,
        fontSize: '0.75rem',
        color: TOKENS.colors.text.tertiary,
        opacity: 0.5,
      }}>
        {header.date} · Built with AI-assisted development
      </div>
    </AnimateOnScroll>
  </footer>
);

// ============================================================================
// MAIN APP
// ============================================================================
const ProductEngineerProposal = () => {
  return (
    <div style={{ minHeight: '100vh', position: 'relative' }}>
      <GlobalStyles />
      <GridBackground />
      <GradientOrbs />

      <div style={{ position: 'relative', zIndex: 1 }}>
        {/* Hero */}
        <HeroSection content={CONTENT} />

        {/* Section Divider */}
        <SectionDivider icon={Icons.brain(TOKENS.colors.brand.purple)} color={TOKENS.colors.brand.purple} />

        {/* Section 1: Market Shift */}
        <ContentSection section={CONTENT.section1} sectionNumber={1} />

        {/* Quote Carousel */}
        <div style={{ maxWidth: '1200px', margin: '0 auto', padding: `0 ${TOKENS.spacing.xl}` }}>
          <QuoteCarousel quotes={CONTENT.industryQuotes} />
        </div>

        {/* Section Divider */}
        <SectionDivider icon={Icons.layers(TOKENS.colors.accent.cyan)} color={TOKENS.colors.accent.cyan} />

        {/* Role Convergence */}
        <Section
          label="The Shift"
          title="Role Convergence"
          icon={Icons.users(TOKENS.colors.accent.cyan)}
          color={TOKENS.colors.accent.cyan}
        >
          <RoleConvergenceDiagram data={CONTENT.roleConvergence} />
        </Section>

        {/* Section 2: Strategic Alignment */}
        <ContentSection section={CONTENT.section2} sectionNumber={2} />

        {/* Terminal Demo 1: AI Coding */}
        <MacTerminalWindow
          title="claude-code — AI-Assisted Development"
          delay={0.2}
          commands={[
            { type: 'command', text: 'claude "add user auth to this React app"' },
            { type: 'output', text: '● Creating auth context and provider...' },
            { type: 'output', text: '● Adding login/logout components...' },
            { type: 'output', text: '● Integrating protected routes...' },
            { type: 'output', text: '✓ Authentication system complete' },
            { type: 'command', text: 'npm run test' },
            { type: 'output', text: '✓ 47 tests passed' },
          ]}
        />

        {/* Section Divider */}
        <SectionDivider icon={Icons.target(TOKENS.colors.accent.gold)} color={TOKENS.colors.accent.gold} />

        {/* Section 3: Who Should Teach */}
        <ContentSection section={CONTENT.section3} sectionNumber={3} />

        {/* Callout */}
        <div style={{ maxWidth: '1200px', margin: '0 auto', padding: `0 ${TOKENS.spacing.xl}` }}>
          <Callout title="Once-in-a-Generation Opportunity" icon={Icons.zap(TOKENS.colors.accent.gold)}>
            <p style={{
              fontFamily: TOKENS.fonts.sans,
              fontSize: '1rem',
              color: TOKENS.colors.text.secondary,
              lineHeight: 1.7,
            }}>
              The role convergence happening in tech creates an unprecedented opportunity for
              engineering education. Students who master the intersection of design, product,
              and engineering will define the next generation of technology leaders.
            </p>
          </Callout>
        </div>

        {/* Section Divider */}
        <SectionDivider icon={Icons.code(TOKENS.colors.accent.gold)} color={TOKENS.colors.accent.gold} />

        {/* Section 4: What I Can Teach */}
        <ContentSection section={CONTENT.section4} sectionNumber={4} />

        {/* Floating Insight Card - Curriculum highlight */}
        <div style={{ maxWidth: '900px', margin: '0 auto', padding: `0 ${TOKENS.spacing.xl}` }}>
          <FloatingInsightCard
            icon={Icons.code(TOKENS.colors.accent.cyan)}
            title="Curriculum at the Intersection"
            content="Courses designed to bridge the gap between traditional engineering education and the product-centric skills demanded by modern tech companies. Students learn to ship products, not just write code."
            accentColor={TOKENS.colors.accent.cyan}
          />
        </div>

        {/* Section Divider */}
        <SectionDivider icon={Icons.award(TOKENS.colors.brand.purpleLight)} color={TOKENS.colors.brand.purpleLight} />

        {/* Section 5: Why Me */}
        <ContentSection section={CONTENT.section5} sectionNumber={5} />

        {/* Terminal Demo 2: Agent Building */}
        <MacTerminalWindow
          title="mcp-server — Building AI Agents"
          delay={0.3}
          commands={[
            { type: 'command', text: 'npx create-mcp-server research-agent' },
            { type: 'output', text: '◐ Scaffolding MCP server...' },
            { type: 'output', text: '● Adding tool: web_search' },
            { type: 'output', text: '● Adding tool: document_analysis' },
            { type: 'output', text: '● Configuring memory system...' },
            { type: 'command', text: 'npm run deploy' },
            { type: 'output', text: '✓ Agent deployed to Claude Desktop' },
          ]}
        />

        {/* Editorial Quote */}
        <div style={{ maxWidth: '900px', margin: '0 auto', padding: `0 ${TOKENS.spacing.xl}` }}>
          <EditorialQuote
            quote="The best engineers I've worked with think like product managers and design with user empathy. That's what we need to teach."
            author="Industry Perspective"
            accentColor={TOKENS.colors.brand.purple}
          />
        </div>

        {/* Section Divider */}
        <SectionDivider icon={Icons.rocket(TOKENS.colors.brand.purple)} color={TOKENS.colors.brand.purple} />

        {/* Timeline */}
        <Section
          label="Journey"
          title="Career Timeline"
          icon={Icons.chart(TOKENS.colors.brand.purple)}
          color={TOKENS.colors.brand.purple}
        >
          <Timeline items={CONTENT.timeline} />
        </Section>

        {/* Credentials */}
        <Section
          label="By The Numbers"
          title="Credentials & Impact"
          icon={Icons.award(TOKENS.colors.accent.green)}
          color={TOKENS.colors.accent.green}
        >
          <CredentialsGrid credentials={CONTENT.credentials} />
        </Section>

        {/* Section Divider */}
        <SectionDivider icon={Icons.star(TOKENS.colors.accent.gold)} color={TOKENS.colors.accent.gold} />

        {/* Section 6: Testimonials */}
        <Testimonials section={CONTENT.section6} />

        {/* Floating Insight Card - Vision */}
        <div style={{ maxWidth: '900px', margin: '0 auto', padding: `0 ${TOKENS.spacing.xl}` }}>
          <FloatingInsightCard
            icon={Icons.graduation(TOKENS.colors.accent.gold)}
            title="Preparing the Next Generation"
            content="Northwestern has the opportunity to lead in preparing engineers who can navigate the blurring lines between engineering, design, and product management—the skills that define modern tech leadership."
            accentColor={TOKENS.colors.accent.gold}
          />
        </div>

        {/* Section Divider */}
        <SectionDivider icon={Icons.graduation(TOKENS.colors.brand.purple)} color={TOKENS.colors.brand.purple} />

        {/* Section 7: The Path Forward */}
        <Section
          label="Closing"
          title={CONTENT.section7.title}
          icon={Icons.graduation(TOKENS.colors.brand.purple)}
          color={TOKENS.colors.brand.purple}
        >
          {CONTENT.section7.paragraphs && CONTENT.section7.paragraphs.map((p, i) => (
            <AnimateOnScroll key={i} delay={i * 0.1}>
              <p style={{
                fontFamily: TOKENS.fonts.sans,
                fontSize: '1.1rem',
                color: TOKENS.colors.text.secondary,
                lineHeight: 1.8,
                marginBottom: TOKENS.spacing.lg,
              }}>
                {p}
              </p>
            </AnimateOnScroll>
          ))}
        </Section>

        {/* Author Bio with Headshot */}
        <AuthorBio header={CONTENT.header} />

        {/* Citations */}
        <Citations citations={CONTENT.citations} />

        {/* Footer */}
        <Footer header={CONTENT.header} />
      </div>
    </div>
  );
};

export default ProductEngineerProposal;
